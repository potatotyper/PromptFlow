  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (2.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-03-22 21:55:22.270646', '2025-03-22 21:55:22.270650') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20250322211111)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "password_digest" varchar, "session_token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322211111') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2025-03-22 15:01:19 -0700
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.8ms | Allocations: 180)
  Rendered layout layouts/application.html.erb (Duration: 914.1ms | Allocations: 103001)
Completed 200 OK in 1055ms (Views: 952.8ms | ActiveRecord: 0.0ms | Allocations: 111594)


Started GET "/rooms" for ::1 at 2025-03-22 15:01:26 -0700
  
ActionController::RoutingError (No route matches [GET] "/rooms"):
  
Started GET "/sign-up" for ::1 at 2025-03-22 15:01:28 -0700
Processing by RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 17.5ms | Allocations: 3026)
  Rendered layout layouts/application.html.erb (Duration: 21.9ms | Allocations: 4130)
Completed 200 OK in 89ms (Views: 27.1ms | ActiveRecord: 1.8ms | Allocations: 16494)


Started POST "/sign-up" for ::1 at 2025-03-22 15:01:40 -0700
Processing by RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user1", "email"=>"user1@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
No template found for RegistrationsController#create, rendering head :no_content
Completed 204 No Content in 194ms (ActiveRecord: 0.0ms | Allocations: 1020)


Started POST "/sign-up" for ::1 at 2025-03-22 15:01:42 -0700
Processing by RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user1", "email"=>"user1@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
No template found for RegistrationsController#create, rendering head :no_content
Completed 204 No Content in 185ms (ActiveRecord: 0.0ms | Allocations: 626)


Started GET "/sign-up" for ::1 at 2025-03-22 15:04:04 -0700
Processing by RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1627)
  Rendered layout layouts/application.html.erb (Duration: 32.2ms | Allocations: 16855)
Completed 200 OK in 53ms (Views: 39.6ms | ActiveRecord: 2.2ms | Allocations: 22028)


Started POST "/sign-up" for ::1 at 2025-03-22 15:04:12 -0700
Processing by RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user1", "email"=>"user@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 9ms (Views: 5.3ms | ActiveRecord: 0.0ms | Allocations: 864)


Started GET "/sign-up" for ::1 at 2025-03-22 15:04:26 -0700
Processing by RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1636)
  Rendered layout layouts/application.html.erb (Duration: 34.7ms | Allocations: 16870)
Completed 200 OK in 54ms (Views: 41.7ms | ActiveRecord: 1.8ms | Allocations: 22077)


Started GET "/sign-up" for ::1 at 2025-03-22 15:05:09 -0700
Processing by RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1639)
  Rendered layout layouts/application.html.erb (Duration: 35.3ms | Allocations: 16896)
Completed 200 OK in 54ms (Views: 42.4ms | ActiveRecord: 1.8ms | Allocations: 22052)


Started POST "/sign-up" for ::1 at 2025-03-22 15:05:12 -0700
Processing by RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"asdf", "email"=>"asdf", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "asdf"], ["LIMIT", 1]]
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 1.8ms | Allocations: 1664)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | Allocations: 2753)
Completed 200 OK in 61ms (Views: 6.4ms | ActiveRecord: 2.0ms | Allocations: 10787)


Started GET "/sign-up" for ::1 at 2025-03-22 15:06:55 -0700
Processing by RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1630)
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | Allocations: 3985)
Completed 500 Internal Server Error in 74ms (ActiveRecord: 1.8ms | Allocations: 9194)


  
ActionView::Template::Error (uninitialized constant #<Class:0x00000272f41bbe08>::Current):
    3:   <%= javascript_include_tag "turbo", type: "module" %>
    4: </head>
    5: <style>
    6:   <%= ".msg-#{Current.user&.id}" %> {
    7:   background-color: #007bff !important;
    8:   padding: 10px;
    9:   }
  
app/views/layouts/application.html.erb:6
Started GET "/sign-up" for ::1 at 2025-03-22 15:07:10 -0700
Processing by RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 1.3ms | Allocations: 1126)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | Allocations: 3149)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.0ms | Allocations: 3409)


  
ActionView::Template::Error (uninitialized constant #<Class:0x00000272f41bbe08>::Current):
    3:   <%= javascript_include_tag "turbo", type: "module" %>
    4: </head>
    5: <style>
    6:   <%= ".msg-#{Current.user&.id}" %> {
    7:   background-color: #007bff !important;
    8:   padding: 10px;
    9:   }
  
app/views/layouts/application.html.erb:6
Started GET "/sign-up" for ::1 at 2025-03-22 15:07:11 -0700
Processing by RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 1126)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | Allocations: 3148)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms | Allocations: 3408)


  
ActionView::Template::Error (uninitialized constant #<Class:0x00000272f41bbe08>::Current):
    3:   <%= javascript_include_tag "turbo", type: "module" %>
    4: </head>
    5: <style>
    6:   <%= ".msg-#{Current.user&.id}" %> {
    7:   background-color: #007bff !important;
    8:   padding: 10px;
    9:   }
  
app/views/layouts/application.html.erb:6
Started GET "/sign-up" for ::1 at 2025-03-22 15:07:31 -0700
Processing by RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1629)
  Rendered layout layouts/application.html.erb (Duration: 42.6ms | Allocations: 18917)
Completed 500 Internal Server Error in 104ms (ActiveRecord: 1.9ms | Allocations: 24105)


  
ActionView::Template::Error (Missing partial shared/_flash with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}.

Searched in:
  * "C:/Users/James/Documents/.Desktop_Docs/Code/Ruby/biztech/cbot/app/views"
  * "C:/Users/James/.local/share/gem/ruby/3.3.0/gems/turbo-rails-2.0.13/app/views"
  * "C:/Users/James/.local/share/gem/ruby/3.3.0/gems/actiontext-7.1.5.1/app/views"
  * "C:/Users/James/.local/share/gem/ruby/3.3.0/gems/actionmailbox-7.1.5.1/app/views"
):
    47:   <body>
    48:     
    49:     <div class="container">
    50:       <%= render partial: "shared/flash" %>
    51:     </div>
    52: 
    53:     <%= render partial: "shared/navbar" %>
  
app/views/layouts/application.html.erb:50
Started GET "/sign-up" for ::1 at 2025-03-22 15:07:55 -0700
Processing by RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 7.4ms | Allocations: 1630)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 226)
  Rendered shared/_navbar.html.erb (Duration: 0.8ms | Allocations: 1339)
  Rendered layout layouts/application.html.erb (Duration: 57.4ms | Allocations: 19561)
Completed 500 Internal Server Error in 87ms (ActiveRecord: 3.2ms | Allocations: 24747)


  
ActionView::Template::Error (uninitialized constant #<Class:0x00000272f05f2b38>::Current):
     6: 
     7:   <div class="collapse navbar-collapse" id="navbarSupportedContent">
     8:     <ul class="navbar-nav mr-auto">
     9:       <% if Current.user %>
    10:         <li class="nav-item">
    11:         <a class="nav-link" href="/index">Home</a>
    12:       </li>
  
app/views/shared/_navbar.html.erb:9
app/views/layouts/application.html.erb:53
Started GET "/sign-up" for ::1 at 2025-03-22 15:08:25 -0700
Processing by RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1631)
  Rendered shared/_flash.html.erb (Duration: 1.4ms | Allocations: 202)
  Rendered shared/_navbar.html.erb (Duration: 1.2ms | Allocations: 77)
  Rendered layout layouts/application.html.erb (Duration: 46.1ms | Allocations: 18275)
Completed 200 OK in 67ms (Views: 53.3ms | ActiveRecord: 1.9ms | Allocations: 23475)


Started GET "/sign-up" for ::1 at 2025-03-22 15:08:28 -0700
Processing by RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 5.0ms | Allocations: 1135)
  Rendered shared/_flash.html.erb (Duration: 0.9ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 19.1ms | Allocations: 3229)
Completed 200 OK in 24ms (Views: 19.9ms | ActiveRecord: 0.0ms | Allocations: 3498)


Started GET "/sign-up" for ::1 at 2025-03-22 15:08:28 -0700
Processing by RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 1123)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | Allocations: 3224)
Completed 200 OK in 14ms (Views: 8.8ms | ActiveRecord: 0.0ms | Allocations: 3493)


Started GET "/sign-up" for ::1 at 2025-03-22 15:08:28 -0700
Processing by RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 1135)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | Allocations: 3235)
Completed 200 OK in 12ms (Views: 9.6ms | ActiveRecord: 0.0ms | Allocations: 3504)


Started POST "/sign-up" for ::1 at 2025-03-22 15:08:31 -0700
Processing by RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user1", "email"=>"asdf", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "user1"], ["LIMIT", 1]]
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 1633)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | Allocations: 3724)
Completed 200 OK in 207ms (Views: 9.1ms | ActiveRecord: 1.3ms | Allocations: 6789)


Started POST "/sign-up" for ::1 at 2025-03-22 15:08:38 -0700
Processing by RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user1", "email"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "user1"], ["LIMIT", 1]]
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 1556)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 3646)
Completed 200 OK in 200ms (Views: 8.8ms | ActiveRecord: 1.5ms | Allocations: 6360)


Started POST "/sign-up" for ::1 at 2025-03-22 15:09:03 -0700
Processing by RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user1", "email"=>"user@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "user1"], ["LIMIT", 1]]
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "session_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["username", "user1"], ["email", "user@email.com"], ["password_digest", "[FILTERED]"], ["session_token", "[FILTERED]"], ["created_at", "2025-03-22 22:09:03.709603"], ["updated_at", "2025-03-22 22:09:03.709603"]]
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 194ms (ActiveRecord: 2.6ms | Allocations: 4226)


Started GET "/" for ::1 at 2025-03-22 15:09:03 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.6ms | Allocations: 88)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 31)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 7)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | Allocations: 2546)
Completed 200 OK in 17ms (Views: 12.3ms | ActiveRecord: 0.0ms | Allocations: 3008)


Started GET "/" for ::1 at 2025-03-22 15:11:37 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.7ms | Allocations: 88)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered shared/_navbar.html.erb (Duration: 1.0ms | Allocations: 1273)
  Rendered layout layouts/application.html.erb (Duration: 38.8ms | Allocations: 18266)
Completed 500 Internal Server Error in 52ms (ActiveRecord: 0.0ms | Allocations: 19159)


  
ActionView::Template::Error (uninitialized constant #<Class:0x00000272f4b1dac8>::Current):
     6: 
     7:   <div class="collapse navbar-collapse" id="navbarSupportedContent">
     8:     <ul class="navbar-nav mr-auto">
     9:       <% if Current.user %>
    10:         <li class="nav-item">
    11:         <a class="nav-link" href="/index">Home</a>
    12:       </li>
  
app/views/shared/_navbar.html.erb:9
app/views/layouts/application.html.erb:53
Started GET "/" for ::1 at 2025-03-22 15:12:07 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.7ms | Allocations: 88)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered shared/_navbar.html.erb (Duration: 4.5ms | Allocations: 499)
  Rendered layout layouts/application.html.erb (Duration: 39.5ms | Allocations: 17496)
Completed 200 OK in 50ms (Views: 46.1ms | ActiveRecord: 0.0ms | Allocations: 18399)


Started GET "/about" for ::1 at 2025-03-22 15:12:08 -0700
  
ActionController::RoutingError (No route matches [GET] "/about"):
  
Started GET "/posts/0" for ::1 at 2025-03-22 15:12:09 -0700
  
ActionController::RoutingError (No route matches [GET] "/posts/0"):
  
Started GET "/about" for ::1 at 2025-03-22 15:12:09 -0700
  
ActionController::RoutingError (No route matches [GET] "/about"):
  
Started GET "/" for ::1 at 2025-03-22 15:12:10 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 10)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | Allocations: 2433)
Completed 200 OK in 12ms (Views: 9.0ms | ActiveRecord: 0.0ms | Allocations: 2686)


Started GET "/" for ::1 at 2025-03-22 15:12:10 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 10)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 2421)
Completed 200 OK in 13ms (Views: 8.9ms | ActiveRecord: 0.0ms | Allocations: 2674)


Started GET "/" for ::1 at 2025-03-22 15:12:10 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 2411)
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 0.0ms | Allocations: 2664)


Started GET "/" for ::1 at 2025-03-22 15:12:11 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 10)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | Allocations: 2412)
Completed 200 OK in 11ms (Views: 7.9ms | ActiveRecord: 0.0ms | Allocations: 2665)


Started GET "/about" for ::1 at 2025-03-22 15:12:11 -0700
  
ActionController::RoutingError (No route matches [GET] "/about"):
  
Started GET "/" for ::1 at 2025-03-22 15:12:12 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | Allocations: 2420)
Completed 200 OK in 11ms (Views: 7.9ms | ActiveRecord: 0.0ms | Allocations: 2673)


Started GET "/about" for ::1 at 2025-03-22 15:12:12 -0700
  
ActionController::RoutingError (No route matches [GET] "/about"):
  
Started GET "/" for ::1 at 2025-03-22 15:12:13 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 10)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 2427)
Completed 200 OK in 11ms (Views: 7.7ms | ActiveRecord: 0.0ms | Allocations: 2680)


Started GET "/" for ::1 at 2025-03-22 15:12:13 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | Allocations: 2435)
Completed 200 OK in 10ms (Views: 7.3ms | ActiveRecord: 0.0ms | Allocations: 2688)


Started GET "/sign-in" for ::1 at 2025-03-22 15:12:14 -0700
  
ActionController::RoutingError (No route matches [GET] "/sign-in"):
  
Started GET "/sign-up" for ::1 at 2025-03-22 15:12:14 -0700
Processing by RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1615)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 24)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 3727)
Completed 200 OK in 25ms (Views: 13.2ms | ActiveRecord: 1.9ms | Allocations: 8485)


Started POST "/sign-up" for ::1 at 2025-03-22 15:12:20 -0700
Processing by RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user1", "email"=>"user@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "user1"], ["LIMIT", 1]]
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 1596)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | Allocations: 3687)
Completed 200 OK in 200ms (Views: 8.6ms | ActiveRecord: 1.3ms | Allocations: 6716)


Started POST "/sign-up" for ::1 at 2025-03-22 15:12:27 -0700
Processing by RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user2", "email"=>"user@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "user2"], ["LIMIT", 1]]
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "session_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["username", "user2"], ["email", "user@email.com"], ["password_digest", "[FILTERED]"], ["session_token", "[FILTERED]"], ["created_at", "2025-03-22 22:12:27.289325"], ["updated_at", "2025-03-22 22:12:27.289325"]]
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 192ms (ActiveRecord: 1.5ms | Allocations: 2809)


Started GET "/" for ::1 at 2025-03-22 15:12:27 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 2446)
Completed 200 OK in 11ms (Views: 7.6ms | ActiveRecord: 0.0ms | Allocations: 2699)


Started GET "/" for ::1 at 2025-03-22 15:13:17 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.6ms | Allocations: 259)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered shared/_navbar.html.erb (Duration: 1.0ms | Allocations: 230)
  Rendered layout layouts/application.html.erb (Duration: 37.6ms | Allocations: 17392)
Completed 200 OK in 57ms (Views: 45.1ms | ActiveRecord: 0.0ms | Allocations: 18294)


Started GET "/" for ::1 at 2025-03-22 15:13:18 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | Allocations: 2432)
Completed 200 OK in 11ms (Views: 7.9ms | ActiveRecord: 0.0ms | Allocations: 2685)


Started GET "/sign-in" for ::1 at 2025-03-22 15:13:24 -0700
  
ActionController::RoutingError (No route matches [GET] "/sign-in"):
  
Started GET "/sign-up" for ::1 at 2025-03-22 15:13:24 -0700
Processing by RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1647)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered shared/_navbar.html.erb (Duration: 1.9ms | Allocations: 346)
  Rendered layout layouts/application.html.erb (Duration: 34.1ms | Allocations: 18560)
Completed 200 OK in 53ms (Views: 40.7ms | ActiveRecord: 1.9ms | Allocations: 23724)


Started GET "/" for ::1 at 2025-03-22 15:14:21 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.8ms | Allocations: 148)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered shared/_navbar.html.erb (Duration: 0.7ms | Allocations: 230)
  Rendered layout layouts/application.html.erb (Duration: 37.1ms | Allocations: 16972)
Completed 200 OK in 64ms (Views: 44.6ms | ActiveRecord: 2.1ms | Allocations: 23781)


Started GET "/" for ::1 at 2025-03-22 15:23:28 -0700
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 22.2ms | Allocations: 688)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 238)
  Rendered shared/_navbar.html.erb (Duration: 0.5ms | Allocations: 241)
  Rendered layout layouts/application.html.erb (Duration: 520.1ms | Allocations: 37537)
Completed 200 OK in 784ms (Views: 582.2ms | ActiveRecord: 0.0ms | Allocations: 42730)


Started GET "/about" for ::1 at 2025-03-22 15:23:30 -0700
  
ActionController::RoutingError (No route matches [GET] "/about"):
  
Started GET "/sign-in" for ::1 at 2025-03-22 15:23:30 -0700
  
ActionController::RoutingError (No route matches [GET] "/sign-in"):
  
Started GET "/" for ::1 at 2025-03-22 15:23:31 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.1ms | Allocations: 9)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 2136)
Completed 200 OK in 12ms (Views: 9.0ms | ActiveRecord: 0.0ms | Allocations: 2765)


Started GET "/sign-in" for ::1 at 2025-03-22 15:23:32 -0700
  
ActionController::RoutingError (No route matches [GET] "/sign-in"):
  
Started GET "/sign-up" for ::1 at 2025-03-22 15:23:32 -0700
Processing by RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 42.9ms | Allocations: 2218)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 24)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 10)
  Rendered layout layouts/application.html.erb (Duration: 49.3ms | Allocations: 4354)
Completed 200 OK in 122ms (Views: 54.3ms | ActiveRecord: 3.0ms | Allocations: 16793)


Started GET "/sign-in" for ::1 at 2025-03-22 15:23:33 -0700
  
ActionController::RoutingError (No route matches [GET] "/sign-in"):
  
Started GET "/sign-in" for ::1 at 2025-03-22 15:23:34 -0700
  
ActionController::RoutingError (No route matches [GET] "/sign-in"):
  
Started GET "/" for ::1 at 2025-03-22 15:23:35 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.0ms | Allocations: 9)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | Allocations: 2136)
Completed 200 OK in 11ms (Views: 7.0ms | ActiveRecord: 0.0ms | Allocations: 2754)


Started GET "/" for ::1 at 2025-03-22 15:25:57 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.2ms | Allocations: 276)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 204)
  Rendered shared/_navbar.html.erb (Duration: 0.6ms | Allocations: 230)
  Rendered layout layouts/application.html.erb (Duration: 38.6ms | Allocations: 17255)
Completed 200 OK in 51ms (Views: 45.9ms | ActiveRecord: 0.0ms | Allocations: 18571)


Started GET "/sign-up" for ::1 at 2025-03-22 15:25:58 -0700
Processing by RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1305)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 24)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | Allocations: 3412)
Completed 200 OK in 28ms (Views: 15.5ms | ActiveRecord: 2.8ms | Allocations: 8556)


Started GET "/sign-in" for ::1 at 2025-03-22 15:25:58 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 5.3ms | Allocations: 1654)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | Allocations: 1739)
Completed 500 Internal Server Error in 42ms (ActiveRecord: 0.0ms | Allocations: 2588)


  
ActionView::Template::Error (undefined local variable or method `reset_password_path' for an instance of #<Class:0x000002d325bba508>):
    10:     <%= form.password_field :password, class: "form-control" %>
    11: </div>
    12: <div>
    13:     <%= link_to"Forgot your password?", reset_password_path %>
    14: </div>
    15: <div class="mb-3">
    16:     <%= form.submit "Sign In", class: "btn btn-primary" %>
  
app/views/sessions/new.html.erb:13
app/views/sessions/new.html.erb:3
Started GET "/sign-in" for ::1 at 2025-03-22 15:26:06 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.7ms | Allocations: 800)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered shared/_navbar.html.erb (Duration: 2.6ms | Allocations: 353)
  Rendered layout layouts/application.html.erb (Duration: 48.4ms | Allocations: 17832)
Completed 200 OK in 89ms (Views: 55.9ms | ActiveRecord: 2.7ms | Allocations: 23451)


Started POST "/sign-in" for ::1 at 2025-03-22 15:26:09 -0700
  
AbstractController::ActionNotFound (The action 'login' could not be found for SessionsController):
  
actionpack (7.1.5.1) lib/abstract_controller/base.rb:155:in `process'
actionview (7.1.5.1) lib/action_view/rendering.rb:40:in `process'
actionpack (7.1.5.1) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.5.1) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.12) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.12) lib/rack/etag.rb:29:in `call'
rack (3.1.12) lib/rack/conditional_get.rb:43:in `call'
rack (3.1.12) lib/rack/head.rb:15:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/permissions_policy.rb:36:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:274:in `context'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:268:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (7.1.5.1) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.5.1) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.5.2) lib/sprockets/rails/quiet_assets.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.12) lib/rack/method_override.rb:28:in `call'
rack (3.1.12) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.12) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
railties (7.1.5.1) lib/rails/engine.rb:536:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started GET "/sign-in" for ::1 at 2025-03-22 15:26:27 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 797)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered shared/_navbar.html.erb (Duration: 2.3ms | Allocations: 353)
  Rendered layout layouts/application.html.erb (Duration: 40.1ms | Allocations: 17828)
Completed 200 OK in 62ms (Views: 47.2ms | ActiveRecord: 3.0ms | Allocations: 23441)


Started GET "/sign-in" for ::1 at 2025-03-22 15:26:27 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 482)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 15.7ms | Allocations: 2577)
Completed 200 OK in 22ms (Views: 17.1ms | ActiveRecord: 0.0ms | Allocations: 3209)


Started POST "/sign-in" for ::1 at 2025-03-22 15:26:29 -0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user1", "password"=>"[FILTERED]"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:12:in `create'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 8.5ms | Allocations: 2049)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 19)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 18.1ms | Allocations: 4136)
Completed 200 OK in 219ms (Views: 18.8ms | ActiveRecord: 0.2ms | Allocations: 12969)


Started POST "/sign-in" for ::1 at 2025-03-22 15:26:33 -0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "username"=>"user1", "password"=>"[FILTERED]", "commit"=>"Sign In"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "user1"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:12:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 190ms (ActiveRecord: 0.1ms | Allocations: 1754)


Started GET "/" for ::1 at 2025-03-22 15:26:33 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.1ms | Allocations: 301)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 2412)
Completed 200 OK in 19ms (Views: 13.3ms | ActiveRecord: 0.1ms | Allocations: 4245)


Started DELETE "/sign-out" for ::1 at 2025-03-22 15:26:36 -0700
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.1ms | Allocations: 935)


Started GET "/" for ::1 at 2025-03-22 15:26:36 -0700
Processing by MainController#home as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | Allocations: 2151)
Completed 200 OK in 10ms (Views: 6.9ms | ActiveRecord: 0.0ms | Allocations: 2839)


Started GET "/sign-in" for ::1 at 2025-03-22 15:26:37 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | Allocations: 482)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | Allocations: 2577)
Completed 200 OK in 12ms (Views: 8.4ms | ActiveRecord: 0.0ms | Allocations: 3206)


Started POST "/sign-in" for ::1 at 2025-03-22 15:26:40 -0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user1", "password"=>"[FILTERED]"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:12:in `create'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 2119)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 19)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 4206)
Completed 200 OK in 14ms (Views: 9.2ms | ActiveRecord: 0.1ms | Allocations: 5322)


Started POST "/sign-in" for ::1 at 2025-03-22 15:26:44 -0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "username"=>"user1", "password"=>"[FILTERED]", "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "user1"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:12:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 188ms (ActiveRecord: 0.1ms | Allocations: 940)


Started GET "/" for ::1 at 2025-03-22 15:26:44 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.3ms | Allocations: 124)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | Allocations: 2224)
Completed 200 OK in 12ms (Views: 7.8ms | ActiveRecord: 0.1ms | Allocations: 3220)


Started GET "/" for ::1 at 2025-03-22 15:27:10 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.1ms | Allocations: 324)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 206)
  Rendered shared/_navbar.html.erb (Duration: 0.9ms | Allocations: 225)
  Rendered layout layouts/application.html.erb (Duration: 49.8ms | Allocations: 17177)
Completed 200 OK in 73ms (Views: 56.8ms | ActiveRecord: 2.8ms | Allocations: 23927)


Started GET "/index" for ::1 at 2025-03-22 15:27:10 -0700
  
ActionController::RoutingError (No route matches [GET] "/index"):
  
Started GET "/" for ::1 at 2025-03-22 15:27:12 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.3ms | Allocations: 124)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | Allocations: 2250)
Completed 200 OK in 12ms (Views: 7.4ms | ActiveRecord: 0.1ms | Allocations: 3229)


Started GET "/" for ::1 at 2025-03-22 15:27:19 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.0ms | Allocations: 326)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered shared/_navbar.html.erb (Duration: 0.8ms | Allocations: 224)
  Rendered layout layouts/application.html.erb (Duration: 48.8ms | Allocations: 17235)
Completed 200 OK in 77ms (Views: 55.7ms | ActiveRecord: 2.7ms | Allocations: 24042)


Started GET "/" for ::1 at 2025-03-22 15:27:20 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.3ms | Allocations: 124)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | Allocations: 2243)
Completed 200 OK in 12ms (Views: 7.9ms | ActiveRecord: 0.1ms | Allocations: 3217)


Started DELETE "/sign-out" for ::1 at 2025-03-22 15:27:22 -0700
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
Redirected to http://localhost:3000/
Completed 302 Found in 6ms (ActiveRecord: 0.1ms | Allocations: 986)


Started GET "/" for ::1 at 2025-03-22 15:27:22 -0700
Processing by MainController#home as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | Allocations: 2151)
Completed 200 OK in 10ms (Views: 7.2ms | ActiveRecord: 0.0ms | Allocations: 2825)


Started GET "/sign-in" for ::1 at 2025-03-22 15:27:52 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 752)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 24)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 2852)
Completed 200 OK in 18ms (Views: 13.5ms | ActiveRecord: 0.0ms | Allocations: 3675)


Started POST "/sign-in" for ::1 at 2025-03-22 15:27:55 -0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user1", "password"=>"[FILTERED]"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:12:in `create'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.1ms | Allocations: 2120)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 19)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | Allocations: 4207)
Completed 200 OK in 14ms (Views: 9.1ms | ActiveRecord: 0.1ms | Allocations: 5381)


Started POST "/sign-in" for ::1 at 2025-03-22 15:28:00 -0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "username"=>"user1", "password"=>"[FILTERED]", "commit"=>"Sign In"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "user1"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:12:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 189ms (ActiveRecord: 0.1ms | Allocations: 1046)


Started GET "/" for ::1 at 2025-03-22 15:28:00 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.3ms | Allocations: 124)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | Allocations: 2224)
Completed 200 OK in 12ms (Views: 8.0ms | ActiveRecord: 0.1ms | Allocations: 3205)


  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePromptSessions (20250322224855)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "prompt_sessions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "uid" varchar, "system_prompt" varchar, "like_count" integer, "dislike_count" integer, "good_feedback" text, "bad_feedback" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_prompt_sessions_on_uid" ON "prompt_sessions" ("uid")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322224855') RETURNING "version"[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-03-22 23:03:33.682478', '2025-03-22 23:03:33.682481') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20250322211111)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "password_digest" varchar, "session_token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322211111') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePromptSessions (20250322224855)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "prompt_sessions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "uid" varchar, "system_prompt" varchar, "like_count" integer, "dislike_count" integer, "good_feedback" text, "bad_feedback" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322224855') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
DEPRECATION WARNING: Passing the class as positional argument is deprecated and will be removed in Rails 7.2.

Please pass the class as a keyword argument:

  serialize :good_feedback, type: Array
 (called from <class:PromptSession> at C:/Users/James/Documents/.Desktop_Docs/Code/Ruby/biztech/promptflow/app/models/prompt_session.rb:2)
DEPRECATION WARNING: Passing the class as positional argument is deprecated and will be removed in Rails 7.2.

Please pass the class as a keyword argument:

  serialize :good_feedback, type: Array
 (called from <class:PromptSession> at C:/Users/James/Documents/.Desktop_Docs/Code/Ruby/biztech/promptflow/app/models/prompt_session.rb:2)
DEPRECATION WARNING: Passing the class as positional argument is deprecated and will be removed in Rails 7.2.

Please pass the class as a keyword argument:

  serialize :good_feedback, type: Array
 (called from <class:PromptSession> at C:/Users/James/Documents/.Desktop_Docs/Code/Ruby/biztech/promptflow/app/models/prompt_session.rb:2)
DEPRECATION WARNING: Passing the class as positional argument is deprecated and will be removed in Rails 7.2.

Please pass the class as a keyword argument:

  serialize :good_feedback, type: Array
 (called from <class:PromptSession> at C:/Users/James/Documents/.Desktop_Docs/Code/Ruby/biztech/promptflow/app/models/prompt_session.rb:2)
DEPRECATION WARNING: Passing the class as positional argument is deprecated and will be removed in Rails 7.2.

Please pass the class as a keyword argument:

  serialize :good_feedback, type: Array
 (called from <class:PromptSession> at C:/Users/James/Documents/.Desktop_Docs/Code/Ruby/biztech/promptflow/app/models/prompt_session.rb:2)
DEPRECATION WARNING: Passing the class as positional argument is deprecated and will be removed in Rails 7.2.

Please pass the class as a keyword argument:

  serialize :good_feedback, type: Array
 (called from <class:PromptSession> at C:/Users/James/Documents/.Desktop_Docs/Code/Ruby/biztech/promptflow/app/models/prompt_session.rb:2)
DEPRECATION WARNING: Passing the class as positional argument is deprecated and will be removed in Rails 7.2.

Please pass the class as a keyword argument:

  serialize :good_feedback, type: Array
 (called from <class:PromptSession> at C:/Users/James/Documents/.Desktop_Docs/Code/Ruby/biztech/promptflow/app/models/prompt_session.rb:2)
DEPRECATION WARNING: Passing the class as positional argument is deprecated and will be removed in Rails 7.2.

Please pass the class as a keyword argument:

  serialize :good_feedback, type: Array
 (called from <class:PromptSession> at C:/Users/James/Documents/.Desktop_Docs/Code/Ruby/biztech/promptflow/app/models/prompt_session.rb:2)
DEPRECATION WARNING: Passing the class as positional argument is deprecated and will be removed in Rails 7.2.

Please pass the class as a keyword argument:

  serialize :good_feedback, type: Array
 (called from <class:PromptSession> at C:/Users/James/Documents/.Desktop_Docs/Code/Ruby/biztech/promptflow/app/models/prompt_session.rb:2)
DEPRECATION WARNING: Passing the class as positional argument is deprecated and will be removed in Rails 7.2.

Please pass the class as a keyword argument:

  serialize :good_feedback, type: Array
 (called from <class:PromptSession> at C:/Users/James/Documents/.Desktop_Docs/Code/Ruby/biztech/promptflow/app/models/prompt_session.rb:2)
DEPRECATION WARNING: Passing the class as positional argument is deprecated and will be removed in Rails 7.2.

Please pass the class as a keyword argument:

  serialize :good_feedback, type: Array
 (called from <class:PromptSession> at C:/Users/James/Documents/.Desktop_Docs/Code/Ruby/biztech/promptflow/app/models/prompt_session.rb:2)
DEPRECATION WARNING: Passing the class as positional argument is deprecated and will be removed in Rails 7.2.

Please pass the class as a keyword argument:

  serialize :good_feedback, type: Array
 (called from <class:PromptSession> at C:/Users/James/Documents/.Desktop_Docs/Code/Ruby/biztech/promptflow/app/models/prompt_session.rb:2)
DEPRECATION WARNING: Passing the class as positional argument is deprecated and will be removed in Rails 7.2.

Please pass the class as a keyword argument:

  serialize :good_feedback, type: Array
 (called from <class:PromptSession> at C:/Users/James/Documents/.Desktop_Docs/Code/Ruby/biztech/promptflow/app/models/prompt_session.rb:2)
DEPRECATION WARNING: Passing the class as positional argument is deprecated and will be removed in Rails 7.2.

Please pass the class as a keyword argument:

  serialize :good_feedback, type: Array
 (called from <class:PromptSession> at C:/Users/James/Documents/.Desktop_Docs/Code/Ruby/biztech/promptflow/app/models/prompt_session.rb:2)
DEPRECATION WARNING: Passing the class as positional argument is deprecated and will be removed in Rails 7.2.

Please pass the class as a keyword argument:

  serialize :good_feedback, type: Array
 (called from <class:PromptSession> at C:/Users/James/Documents/.Desktop_Docs/Code/Ruby/biztech/promptflow/app/models/prompt_session.rb:2)
DEPRECATION WARNING: Passing the class as positional argument is deprecated and will be removed in Rails 7.2.

Please pass the class as a keyword argument:

  serialize :good_feedback, type: Array
 (called from <class:PromptSession> at C:/Users/James/Documents/.Desktop_Docs/Code/Ruby/biztech/promptflow/app/models/prompt_session.rb:2)
DEPRECATION WARNING: Passing the class as positional argument is deprecated and will be removed in Rails 7.2.

Please pass the class as a keyword argument:

  serialize :good_feedback, type: Array
 (called from <class:PromptSession> at C:/Users/James/Documents/.Desktop_Docs/Code/Ruby/biztech/promptflow/app/models/prompt_session.rb:2)
DEPRECATION WARNING: Passing the class as positional argument is deprecated and will be removed in Rails 7.2.

Please pass the class as a keyword argument:

  serialize :good_feedback, type: Array
 (called from <class:PromptSession> at C:/Users/James/Documents/.Desktop_Docs/Code/Ruby/biztech/promptflow/app/models/prompt_session.rb:2)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
DEPRECATION WARNING: Passing the class as positional argument is deprecated and will be removed in Rails 7.2.

Please pass the class as a keyword argument:

  serialize :good_feedback, type: Array
 (called from <class:PromptSession> at C:/Users/James/Documents/.Desktop_Docs/Code/Ruby/biztech/promptflow/app/models/prompt_session.rb:2)
DEPRECATION WARNING: Passing the class as positional argument is deprecated and will be removed in Rails 7.2.

Please pass the class as a keyword argument:

  serialize :good_feedback, type: Array
 (called from <class:PromptSession> at C:/Users/James/Documents/.Desktop_Docs/Code/Ruby/biztech/promptflow/app/models/prompt_session.rb:2)
DEPRECATION WARNING: Passing the class as positional argument is deprecated and will be removed in Rails 7.2.

Please pass the class as a keyword argument:

  serialize :good_feedback, type: Array
 (called from <class:PromptSession> at C:/Users/James/Documents/.Desktop_Docs/Code/Ruby/biztech/promptflow/app/models/prompt_session.rb:2)
DEPRECATION WARNING: Passing the class as positional argument is deprecated and will be removed in Rails 7.2.

Please pass the class as a keyword argument:

  serialize :good_feedback, type: Array
 (called from <class:PromptSession> at C:/Users/James/Documents/.Desktop_Docs/Code/Ruby/biztech/promptflow/app/models/prompt_session.rb:2)
DEPRECATION WARNING: Passing the class as positional argument is deprecated and will be removed in Rails 7.2.

Please pass the class as a keyword argument:

  serialize :good_feedback, type: Array
 (called from <class:PromptSession> at C:/Users/James/Documents/.Desktop_Docs/Code/Ruby/biztech/promptflow/app/models/prompt_session.rb:2)
DEPRECATION WARNING: Passing the class as positional argument is deprecated and will be removed in Rails 7.2.

Please pass the class as a keyword argument:

  serialize :good_feedback, type: Array
 (called from <class:PromptSession> at C:/Users/James/Documents/.Desktop_Docs/Code/Ruby/biztech/promptflow/app/models/prompt_session.rb:2)
DEPRECATION WARNING: Passing the class as positional argument is deprecated and will be removed in Rails 7.2.

Please pass the class as a keyword argument:

  serialize :good_feedback, type: Array
 (called from <class:PromptSession> at C:/Users/James/Documents/.Desktop_Docs/Code/Ruby/biztech/promptflow/app/models/prompt_session.rb:2)
DEPRECATION WARNING: Passing the class as positional argument is deprecated and will be removed in Rails 7.2.

Please pass the class as a keyword argument:

  serialize :good_feedback, type: Array
 (called from <class:PromptSession> at C:/Users/James/Documents/.Desktop_Docs/Code/Ruby/biztech/promptflow/app/models/prompt_session.rb:2)
DEPRECATION WARNING: Passing the class as positional argument is deprecated and will be removed in Rails 7.2.

Please pass the class as a keyword argument:

  serialize :good_feedback, type: Array
 (called from <class:PromptSession> at C:/Users/James/Documents/.Desktop_Docs/Code/Ruby/biztech/promptflow/app/models/prompt_session.rb:2)
DEPRECATION WARNING: Passing the class as positional argument is deprecated and will be removed in Rails 7.2.

Please pass the class as a keyword argument:

  serialize :good_feedback, type: Array
 (called from <class:PromptSession> at C:/Users/James/Documents/.Desktop_Docs/Code/Ruby/biztech/promptflow/app/models/prompt_session.rb:2)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-03-22 23:17:10.492422', '2025-03-22 23:17:10.492424') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20250322211111)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "password_digest" varchar, "session_token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322211111') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePromptSessions (20250322224855)
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePromptSessions (20250322224855)
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePromptSessions (20250322224855)
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePromptSessions (20250322224855)
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePromptSessions (20250322224855)
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePromptSessions (20250322224855)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "prompt_sessions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "uid" integer, "system_prompt" varchar, "like_count" integer, "dislike_count" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322224855') RETURNING "version"[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-03-22 23:22:34.226019', '2025-03-22 23:22:34.226022') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20250322211111)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "password_digest" varchar, "session_token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322211111') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePromptSessions (20250322224855)
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePromptSessions (20250322224855)
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePromptSessions (20250322224855)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "prompt_sessions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "uid" integer, "system_prompt" varchar, "like_count" integer, "dislike_count" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322224855') RETURNING "version"[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateGoodFeedbacks (20250322233105)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "good_feedbacks" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "prompt_session_id" integer NOT NULL, "comment" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_d830e5dfaa"
FOREIGN KEY ("prompt_session_id")
  REFERENCES "prompt_sessions" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_good_feedbacks_on_prompt_session_id" ON "good_feedbacks" ("prompt_session_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322233105') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateBadFeedbacks (20250322233120)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "bad_feedbacks" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "prompt_session_id" integer NOT NULL, "comment" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a944aabc96"
FOREIGN KEY ("prompt_session_id")
  REFERENCES "prompt_sessions" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bad_feedbacks_on_prompt_session_id" ON "bad_feedbacks" ("prompt_session_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322233120') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mPromptSession Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mPromptSession Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  [1m[36mPromptSession Create (0.4ms)[0m  [1m[32mINSERT INTO "prompt_sessions" ("id", "uid", "system_prompt", "like_count", "dislike_count", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["id", 1], ["uid", 1], ["system_prompt", "Hello!"], ["like_count", 0], ["dislike_count", 0], ["created_at", "2025-03-22 23:33:45.018965"], ["updated_at", "2025-03-22 23:33:45.018965"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mGoodFeedback Create (0.6ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "good"], ["created_at", "2025-03-22 23:33:47.762880"], ["updated_at", "2025-03-22 23:33:47.762880"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mGoodFeedback Load (0.4ms)[0m  [1m[34mSELECT "good_feedbacks".* FROM "good_feedbacks" WHERE "good_feedbacks"."prompt_session_id" = ? /* loading for pp */ LIMIT ?[0m  [["prompt_session_id", 1], ["LIMIT", 11]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mGoodFeedback Create (0.4ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "great"], ["created_at", "2025-03-22 23:34:00.507360"], ["updated_at", "2025-03-22 23:34:00.507360"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mGoodFeedback Load (0.1ms)[0m  [1m[34mSELECT "good_feedbacks".* FROM "good_feedbacks" WHERE "good_feedbacks"."prompt_session_id" = ? /* loading for pp */ LIMIT ?[0m  [["prompt_session_id", 1], ["LIMIT", 11]]
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" ORDER BY "prompt_sessions"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started POST "/get-prompt/1" for ::1 at 2025-03-22 16:42:37 -0700
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/get-prompt/1"):
  
Started POST "/get_prompt/1" for ::1 at 2025-03-22 16:42:45 -0700
  
ActionController::RoutingError (No route matches [POST] "/get_prompt/1"):
  
Started GET "/get_prompt/1" for ::1 at 2025-03-22 16:42:51 -0700
  
ActionController::RoutingError (uninitialized constant PromptsControllerController):
  
Started GET "/get_prompt/1" for ::1 at 2025-03-22 16:43:46 -0700
  
ArgumentError ('PromptsController' is not a supported controller name. This can lead to potential routing problems. See https://guides.rubyonrails.org/routing.html#specifying-a-controller-to-use):
  
config/routes.rb:24:in `block in <main>'
config/routes.rb:1:in `<main>'
Started GET "/get_prompt/1" for ::1 at 2025-03-22 16:44:19 -0700
  
ActionController::RoutingError (uninitialized constant PromptmanagerController):
  
Started GET "/get_prompt/1" for ::1 at 2025-03-22 16:45:17 -0700
  
Zeitwerk::NameError (expected file C:/Users/James/Documents/.Desktop_Docs/Code/Ruby/biztech/promptflow/app/controllers/promptsession_controller.rb to define constant PromptsessionController, but didn't):
  
zeitwerk (2.7.2) lib/zeitwerk/loader/callbacks.rb:32:in `on_file_autoloaded'
zeitwerk (2.7.2) lib/zeitwerk/core_ext/kernel.rb:27:in `require'
activesupport (7.1.5.1) lib/active_support/inflector/methods.rb:290:in `const_get'
activesupport (7.1.5.1) lib/active_support/inflector/methods.rb:290:in `constantize'
activesupport (7.1.5.1) lib/active_support/core_ext/string/inflections.rb:74:in `constantize'
actionpack (7.1.5.1) lib/action_dispatch/http/request.rb:90:in `controller_class_for'
actionpack (7.1.5.1) lib/action_dispatch/request/utils.rb:100:in `action_encoding_template'
actionpack (7.1.5.1) lib/action_dispatch/request/utils.rb:85:in `encode'
actionpack (7.1.5.1) lib/action_dispatch/request/utils.rb:45:in `set_binary_encoding'
actionpack (7.1.5.1) lib/action_dispatch/http/parameters.rb:68:in `path_parameters='
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:48:in `block in serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.12) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.12) lib/rack/etag.rb:29:in `call'
rack (3.1.12) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.12) lib/rack/head.rb:15:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/permissions_policy.rb:36:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:274:in `context'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:268:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (7.1.5.1) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.5.1) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.5.2) lib/sprockets/rails/quiet_assets.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.12) lib/rack/method_override.rb:28:in `call'
rack (3.1.12) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.12) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
railties (7.1.5.1) lib/rails/engine.rb:536:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started GET "/get_prompt/1" for ::1 at 2025-03-22 16:46:42 -0700
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PromptsessionController#get_prompt as */*
  Parameters: {"user_origin"=>"AAAAAAAAAAAAAAAAAAAAAA", "conference_location"=>"BBBBBBBBBBBBBBBBBBBBBBB", "user_name"=>"ASFASFEFWEFEF", "id"=>"1"}
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:3:in `get_prompt'
No template found for PromptsessionController#get_prompt, rendering head :no_content
Completed 204 No Content in 71ms (ActiveRecord: 3.4ms | Allocations: 18254)


Started GET "/get_prompt/1" for ::1 at 2025-03-22 16:46:57 -0700
Processing by PromptsessionController#get_prompt as */*
  Parameters: {"user_origin"=>"AAAAAAAAAAAAAAAAAAAAAA", "conference_location"=>"BBBBBBBBBBBBBBBBBBBBBBB", "user_name"=>"ASFASFEFWEFEF", "id"=>"1"}
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:3:in `get_prompt'
Completed 200 OK in 18ms (Views: 0.2ms | ActiveRecord: 2.8ms | Allocations: 6258)


Started POST "/new_prompt" for ::1 at 2025-03-22 16:50:31 -0700
Processing by PromptsessionController#set_prompt as */*
Can't verify CSRF token authenticity.
Completed 400 Bad Request in 10ms (ActiveRecord: 0.0ms | Allocations: 1959)


  
ActionController::ParameterMissing (param is missing or the value is empty: prompt_session):
  
app/controllers/promptsession_controller.rb:23:in `prompt_params'
app/controllers/promptsession_controller.rb:8:in `set_prompt'
Started POST "/new_prompt" for ::1 at 2025-03-22 16:50:50 -0700
Processing by PromptsessionController#set_prompt as */*
Can't verify CSRF token authenticity.
Completed 400 Bad Request in 4ms (ActiveRecord: 0.0ms | Allocations: 522)


  
ActionController::ParameterMissing (param is missing or the value is empty: prompt_session):
  
app/controllers/promptsession_controller.rb:23:in `prompt_params'
app/controllers/promptsession_controller.rb:8:in `set_prompt'
Started POST "/new_prompt" for ::1 at 2025-03-22 16:51:03 -0700
Processing by PromptsessionController#set_prompt as */*
  Parameters: {"prompt_session"=>{"uid"=>123, "system_prompt"=>"Generate a creative story!", "like_count"=>0, "dislike_count"=>0}, "promptsession"=>{"prompt_session"=>{"uid"=>123, "system_prompt"=>"Generate a creative story!", "like_count"=>0, "dislike_count"=>0}}}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:10:in `set_prompt'
  [1m[36mPromptSession Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 123], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:10:in `set_prompt'
  [1m[36mPromptSession Create (0.3ms)[0m  [1m[32mINSERT INTO "prompt_sessions" ("uid", "system_prompt", "like_count", "dislike_count", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["uid", 123], ["system_prompt", "Generate a creative story!"], ["like_count", 0], ["dislike_count", 0], ["created_at", "2025-03-22 23:51:03.861803"], ["updated_at", "2025-03-22 23:51:03.861803"]]
  â†³ app/controllers/promptsession_controller.rb:10:in `set_prompt'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/promptsession_controller.rb:10:in `set_prompt'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 6.4ms | Allocations: 7902)


  
NameError (undefined local variable or method `prompt_session' for an instance of PromptsessionController):
  
app/controllers/promptsession_controller.rb:11:in `set_prompt'
Started POST "/new_prompt" for ::1 at 2025-03-22 16:51:19 -0700
  
SyntaxError (C:/Users/James/Documents/.Desktop_Docs/Code/Ruby/biztech/promptflow/app/controllers/promptsession_controller.rb:11: syntax error, unexpected ':', expecting =>
...ion created successfully", @ps: prompt_session }, status: :c...
...                              ^
):
  
app/controllers/promptsession_controller.rb:11: syntax error, unexpected ':', expecting =>
Started POST "/new_prompt" for ::1 at 2025-03-22 16:51:36 -0700
Processing by PromptsessionController#set_prompt as */*
  Parameters: {"prompt_session"=>{"uid"=>123, "system_prompt"=>"Generate a creative story!", "like_count"=>0, "dislike_count"=>0}, "promptsession"=>{"prompt_session"=>{"uid"=>123, "system_prompt"=>"Generate a creative story!", "like_count"=>0, "dislike_count"=>0}}}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:10:in `set_prompt'
  [1m[36mPromptSession Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 123], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:10:in `set_prompt'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:10:in `set_prompt'
Completed 500 Internal Server Error in 24ms (ActiveRecord: 4.3ms | Allocations: 7853)


  
NameError (undefined local variable or method `prompt_session' for an instance of PromptsessionController):
  
app/controllers/promptsession_controller.rb:13:in `set_prompt'
Started POST "/new_prompt" for ::1 at 2025-03-22 16:51:48 -0700
  
SyntaxError (C:/Users/James/Documents/.Desktop_Docs/Code/Ruby/biztech/promptflow/app/controllers/promptsession_controller.rb:11: syntax error, unexpected '}', expecting =>
...on created successfully", @ps }, status: :created
...                              ^
):
  
app/controllers/promptsession_controller.rb:11: syntax error, unexpected '}', expecting =>
Started POST "/new_prompt" for ::1 at 2025-03-22 16:51:52 -0700
Processing by PromptsessionController#set_prompt as */*
  Parameters: {"prompt_session"=>{"uid"=>123, "system_prompt"=>"Generate a creative story!", "like_count"=>0, "dislike_count"=>0}, "promptsession"=>{"prompt_session"=>{"uid"=>123, "system_prompt"=>"Generate a creative story!", "like_count"=>0, "dislike_count"=>0}}}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:10:in `set_prompt'
  [1m[36mPromptSession Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 123], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:10:in `set_prompt'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:10:in `set_prompt'
Completed 500 Internal Server Error in 18ms (ActiveRecord: 4.4ms | Allocations: 7789)


  
NameError (undefined local variable or method `prompt_session' for an instance of PromptsessionController):
  
app/controllers/promptsession_controller.rb:13:in `set_prompt'
Started POST "/new_prompt" for ::1 at 2025-03-22 16:52:02 -0700
Processing by PromptsessionController#set_prompt as */*
  Parameters: {"prompt_session"=>{"uid"=>123, "system_prompt"=>"Generate a creative story!", "like_count"=>0, "dislike_count"=>0}, "promptsession"=>{"prompt_session"=>{"uid"=>123, "system_prompt"=>"Generate a creative story!", "like_count"=>0, "dislike_count"=>0}}}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:10:in `set_prompt'
  [1m[36mPromptSession Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 123], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:10:in `set_prompt'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:10:in `set_prompt'
Completed 422 Unprocessable Content in 21ms (Views: 0.2ms | ActiveRecord: 5.8ms | Allocations: 7524)


Started POST "/new_prompt" for ::1 at 2025-03-22 16:52:16 -0700
Processing by PromptsessionController#set_prompt as */*
  Parameters: {"prompt_session"=>{"uid"=>123, "system_prompt"=>"Generate a creative story!", "like_count"=>0, "dislike_count"=>0}, "promptsession"=>{"prompt_session"=>{"uid"=>123, "system_prompt"=>"Generate a creative story!", "like_count"=>0, "dislike_count"=>0}}}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:10:in `set_prompt'
  [1m[36mPromptSession Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 123], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:10:in `set_prompt'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:10:in `set_prompt'
Completed 422 Unprocessable Content in 10ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 2226)


Started POST "/new_prompt" for ::1 at 2025-03-22 16:52:26 -0700
Processing by PromptsessionController#set_prompt as */*
  Parameters: {"prompt_session"=>{"uid"=>123, "system_prompt"=>"Generate a creative story!", "like_count"=>0, "dislike_count"=>0}, "promptsession"=>{"prompt_session"=>{"uid"=>123, "system_prompt"=>"Generate a creative story!", "like_count"=>0, "dislike_count"=>0}}}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:10:in `set_prompt'
  [1m[36mPromptSession Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 123], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:10:in `set_prompt'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:10:in `set_prompt'
Completed 200 OK in 18ms (Views: 0.2ms | ActiveRecord: 4.0ms | Allocations: 7458)


Started POST "/new_prompt" for ::1 at 2025-03-22 16:52:32 -0700
Processing by PromptsessionController#set_prompt as */*
  Parameters: {"prompt_session"=>{"uid"=>123, "system_prompt"=>"Generate a creative story!", "like_count"=>0, "dislike_count"=>0}, "promptsession"=>{"prompt_session"=>{"uid"=>123, "system_prompt"=>"Generate a creative story!", "like_count"=>0, "dislike_count"=>0}}}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:10:in `set_prompt'
  [1m[36mPromptSession Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 123], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:10:in `set_prompt'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:10:in `set_prompt'
Completed 200 OK in 20ms (Views: 0.2ms | ActiveRecord: 4.2ms | Allocations: 7452)


Started POST "/new_prompt" for ::1 at 2025-03-22 16:52:36 -0700
Processing by PromptsessionController#set_prompt as */*
  Parameters: {"prompt_session"=>{"uid"=>123, "system_prompt"=>"Generate a creative story!", "like_count"=>0, "dislike_count"=>0}, "promptsession"=>{"prompt_session"=>{"uid"=>123, "system_prompt"=>"Generate a creative story!", "like_count"=>0, "dislike_count"=>0}}}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:10:in `set_prompt'
  [1m[36mPromptSession Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 123], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:10:in `set_prompt'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:10:in `set_prompt'
Completed 200 OK in 18ms (Views: 0.1ms | ActiveRecord: 4.0ms | Allocations: 7447)


Started POST "/new_prompt" for ::1 at 2025-03-22 16:53:10 -0700
Processing by PromptsessionController#set_prompt as */*
  Parameters: {"prompt_session"=>{"uid"=>123, "system_prompt"=>"Generate a creative story!", "like_count"=>0, "dislike_count"=>0}, "promptsession"=>{"prompt_session"=>{"uid"=>123, "system_prompt"=>"Generate a creative story!", "like_count"=>0, "dislike_count"=>0}}}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:10:in `set_prompt'
  [1m[36mPromptSession Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 123], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:10:in `set_prompt'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:10:in `set_prompt'
Completed 200 OK in 21ms (Views: 0.2ms | ActiveRecord: 4.6ms | Allocations: 7536)


Started POST "/new_prompt" for ::1 at 2025-03-22 16:53:29 -0700
Processing by PromptsessionController#set_prompt as */*
  Parameters: {"prompt_session"=>{"uid"=>123, "system_prompt"=>"Generate a creative story!", "like_count"=>0, "dislike_count"=>0}, "promptsession"=>{"prompt_session"=>{"uid"=>123, "system_prompt"=>"Generate a creative story!", "like_count"=>0, "dislike_count"=>0}}}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:11:in `set_prompt'
  [1m[36mPromptSession Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 123], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:11:in `set_prompt'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:11:in `set_prompt'
Completed 200 OK in 20ms (Views: 0.2ms | ActiveRecord: 4.5ms | Allocations: 7491)


Started POST "/new_prompt" for ::1 at 2025-03-22 16:53:38 -0700
Processing by PromptsessionController#set_prompt as */*
  Parameters: {"prompt_session"=>{"uid"=>123, "system_prompt"=>"Generate a creative story!", "like_count"=>0, "dislike_count"=>0}, "promptsession"=>{"prompt_session"=>{"uid"=>123, "system_prompt"=>"Generate a creative story!", "like_count"=>0, "dislike_count"=>0}}}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:11:in `set_prompt'
  [1m[36mPromptSession Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 123], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:11:in `set_prompt'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:11:in `set_prompt'
Completed 200 OK in 19ms (Views: 0.2ms | ActiveRecord: 4.1ms | Allocations: 7541)


  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" ORDER BY "prompt_sessions"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started POST "/new_prompt" for ::1 at 2025-03-22 16:54:37 -0700
Processing by PromptsessionController#set_prompt as */*
  Parameters: {"prompt_session"=>{"uid"=>1234, "system_prompt"=>"Generate a creative story!qwef", "like_count"=>0, "dislike_count"=>0}, "promptsession"=>{"prompt_session"=>{"uid"=>1234, "system_prompt"=>"Generate a creative story!qwef", "like_count"=>0, "dislike_count"=>0}}}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:11:in `set_prompt'
  [1m[36mPromptSession Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1234], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:11:in `set_prompt'
  [1m[36mPromptSession Create (0.1ms)[0m  [1m[32mINSERT INTO "prompt_sessions" ("uid", "system_prompt", "like_count", "dislike_count", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["uid", 1234], ["system_prompt", "Generate a creative story!qwef"], ["like_count", 0], ["dislike_count", 0], ["created_at", "2025-03-22 23:54:37.795078"], ["updated_at", "2025-03-22 23:54:37.795078"]]
  â†³ app/controllers/promptsession_controller.rb:11:in `set_prompt'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/promptsession_controller.rb:11:in `set_prompt'
Completed 200 OK in 11ms (Views: 0.1ms | ActiveRecord: 2.6ms | Allocations: 2511)


  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" ORDER BY "prompt_sessions"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started POST "/update_prompt" for ::1 at 2025-03-22 16:58:19 -0700
  
ActionController::RoutingError (uninitialized constant PromptsessionsController):
  
Started POST "/update_prompt" for ::1 at 2025-03-22 16:58:32 -0700
  
AbstractController::ActionNotFound (The action 'update_prompt' could not be found for PromptsessionController):
  
actionpack (7.1.5.1) lib/abstract_controller/base.rb:155:in `process'
actionview (7.1.5.1) lib/action_view/rendering.rb:40:in `process'
actionpack (7.1.5.1) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.5.1) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.12) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.12) lib/rack/etag.rb:29:in `call'
rack (3.1.12) lib/rack/conditional_get.rb:43:in `call'
rack (3.1.12) lib/rack/head.rb:15:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/permissions_policy.rb:36:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:274:in `context'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:268:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (7.1.5.1) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.5.1) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.5.2) lib/sprockets/rails/quiet_assets.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.12) lib/rack/method_override.rb:28:in `call'
rack (3.1.12) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.12) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
railties (7.1.5.1) lib/rails/engine.rb:536:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started POST "/update_prompt" for ::1 at 2025-03-22 16:58:41 -0700
  
AbstractController::ActionNotFound (The action 'update_prompt' could not be found for PromptsessionController):
  
actionpack (7.1.5.1) lib/abstract_controller/base.rb:155:in `process'
actionview (7.1.5.1) lib/action_view/rendering.rb:40:in `process'
actionpack (7.1.5.1) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.5.1) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.12) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.12) lib/rack/etag.rb:29:in `call'
rack (3.1.12) lib/rack/conditional_get.rb:43:in `call'
rack (3.1.12) lib/rack/head.rb:15:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/permissions_policy.rb:36:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:274:in `context'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:268:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (7.1.5.1) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.5.1) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.5.2) lib/sprockets/rails/quiet_assets.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.12) lib/rack/method_override.rb:28:in `call'
rack (3.1.12) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.12) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
railties (7.1.5.1) lib/rails/engine.rb:536:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started POST "/update_prompt" for ::1 at 2025-03-22 16:59:08 -0700
Processing by PromptsessionController#update_prompt as */*
  Parameters: {"prompt_session"=>{"uid"=>123, "system_prompt"=>"Update this prompt!"}, "promptsession"=>{"prompt_session"=>{"uid"=>123, "system_prompt"=>"Update this prompt!"}}}
Can't verify CSRF token authenticity.
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."id" = ? LIMIT ?[0m  [["id", 123], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:23:in `update_prompt'
Completed 200 OK in 13ms (Views: 0.2ms | ActiveRecord: 1.8ms | Allocations: 3301)


Started POST "/update_prompt" for ::1 at 2025-03-22 16:59:10 -0700
Processing by PromptsessionController#update_prompt as */*
  Parameters: {"prompt_session"=>{"uid"=>123, "system_prompt"=>"Update this prompt!"}, "promptsession"=>{"prompt_session"=>{"uid"=>123, "system_prompt"=>"Update this prompt!"}}}
Can't verify CSRF token authenticity.
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."id" = ? LIMIT ?[0m  [["id", 123], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:23:in `update_prompt'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 488)


  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" ORDER BY "prompt_sessions"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPromptSession Destroy (0.5ms)[0m  [1m[31mDELETE FROM "prompt_sessions" WHERE "prompt_sessions"."id" = ?[0m  [["id", 3]]
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" ORDER BY "prompt_sessions"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" ORDER BY "prompt_sessions"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started POST "/update_prompt" for ::1 at 2025-03-22 16:59:57 -0700
Processing by PromptsessionController#update_prompt as */*
  Parameters: {"prompt_session"=>{"uid"=>123, "system_prompt"=>"Update this prompt!"}, "promptsession"=>{"prompt_session"=>{"uid"=>123, "system_prompt"=>"Update this prompt!"}}}
Can't verify CSRF token authenticity.
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 123], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:23:in `update_prompt'
Completed 500 Internal Server Error in 19ms (ActiveRecord: 2.1ms | Allocations: 6420)


  
NameError (undefined local variable or method `uprompt_paramst' for an instance of PromptsessionController):
  
app/controllers/promptsession_controller.rb:25:in `update_prompt'
Started POST "/update_prompt" for ::1 at 2025-03-22 17:00:11 -0700
Processing by PromptsessionController#update_prompt as */*
  Parameters: {"prompt_session"=>{"uid"=>123, "system_prompt"=>"Update this prompt!"}, "promptsession"=>{"prompt_session"=>{"uid"=>123, "system_prompt"=>"Update this prompt!"}}}
Can't verify CSRF token authenticity.
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 123], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:23:in `update_prompt'
Completed 200 OK in 17ms (Views: 0.2ms | ActiveRecord: 2.2ms | Allocations: 6160)


Started POST "/update_prompt" for ::1 at 2025-03-22 17:00:20 -0700
Processing by PromptsessionController#update_prompt as */*
  Parameters: {"prompt_session"=>{"uid"=>123, "system_prompt"=>"Update this prompt into this!"}, "promptsession"=>{"prompt_session"=>{"uid"=>123, "system_prompt"=>"Update this prompt into this!"}}}
Can't verify CSRF token authenticity.
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 123], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:23:in `update_prompt'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 517)


Started POST "/new_prompt" for ::1 at 2025-03-22 17:01:40 -0700
Processing by PromptsessionController#set_prompt as */*
  Parameters: {"prompt_session"=>{"uid"=>12345, "system_prompt"=>"Generate a creative story!qwef", "like_count"=>0, "dislike_count"=>0}, "promptsession"=>{"prompt_session"=>{"uid"=>12345, "system_prompt"=>"Generate a creative story!qwef", "like_count"=>0, "dislike_count"=>0}}}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:15:in `set_prompt'
  [1m[36mPromptSession Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 12345], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:15:in `set_prompt'
  [1m[36mPromptSession Create (0.1ms)[0m  [1m[32mINSERT INTO "prompt_sessions" ("uid", "system_prompt", "like_count", "dislike_count", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["uid", 12345], ["system_prompt", "Generate a creative story!qwef"], ["like_count", 0], ["dislike_count", 0], ["created_at", "2025-03-23 00:01:40.841589"], ["updated_at", "2025-03-23 00:01:40.841589"]]
  â†³ app/controllers/promptsession_controller.rb:15:in `set_prompt'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/promptsession_controller.rb:15:in `set_prompt'
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 1.5ms | Allocations: 2761)


  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" ORDER BY "prompt_sessions"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/rooms" for ::1 at 2025-03-22 17:30:25 -0700
  
ActionController::RoutingError (No route matches [GET] "/rooms"):
  
Started GET "/sign-up" for ::1 at 2025-03-22 17:30:27 -0700
Processing by RegistrationsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 33.7ms | Allocations: 2268)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 219)
  Rendered shared/_navbar.html.erb (Duration: 0.6ms | Allocations: 234)
  Rendered layout layouts/application.html.erb (Duration: 109.5ms | Allocations: 38559)
Completed 200 OK in 140ms (Views: 116.2ms | ActiveRecord: 2.6ms | Allocations: 46828)


Started GET "/sign-in" for ::1 at 2025-03-22 17:30:33 -0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 721)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 24)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | Allocations: 2821)
Completed 200 OK in 20ms (Views: 13.9ms | ActiveRecord: 0.1ms | Allocations: 4009)


  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-03-23 00:59:39.842822', '2025-03-23 00:59:39.842826') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20250322211111)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "password_digest" varchar, "session_token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322211111') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePromptSessions (20250322224855)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "prompt_sessions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "uid" integer, "system_prompt" varchar, "like_count" integer, "dislike_count" integer, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_8e5cfb463f"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_prompt_sessions_on_user_id" ON "prompt_sessions" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322224855') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateGoodFeedbacks (20250322233105)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "good_feedbacks" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "prompt_session_id" integer NOT NULL, "comment" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_d830e5dfaa"
FOREIGN KEY ("prompt_session_id")
  REFERENCES "prompt_sessions" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_good_feedbacks_on_prompt_session_id" ON "good_feedbacks" ("prompt_session_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322233105') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateBadFeedbacks (20250322233120)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "bad_feedbacks" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "prompt_session_id" integer NOT NULL, "comment" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a944aabc96"
FOREIGN KEY ("prompt_session_id")
  REFERENCES "prompt_sessions" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bad_feedbacks_on_prompt_session_id" ON "bad_feedbacks" ("prompt_session_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322233120') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/sign-in" for ::1 at 2025-03-22 18:00:27 -0700
Started GET "/" for ::1 at 2025-03-22 18:00:27 -0700
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MainController#home as HTML
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.1ms | Allocations: 639)
  Rendered sessions/new.html.erb within layouts/application (Duration: 21.1ms | Allocations: 5285)
  Rendered shared/_flash.html.erb (Duration: 0.9ms | Allocations: 259)
  Rendered shared/_flash.html.erb (Duration: 0.8ms | Allocations: 281)
  Rendered shared/_navbar.html.erb (Duration: 0.7ms | Allocations: 255)
  Rendered layout layouts/application.html.erb (Duration: 171.9ms | Allocations: 70297)
Completed 200 OK in 384ms (Views: 197.6ms | ActiveRecord: 1.9ms | Allocations: 94530)


  Rendered shared/_navbar.html.erb (Duration: 0.6ms | Allocations: 261)
  Rendered layout layouts/application.html.erb (Duration: 184.0ms | Allocations: 71025)
Completed 200 OK in 385ms (Views: 207.3ms | ActiveRecord: 1.8ms | Allocations: 94954)


Started GET "/" for ::1 at 2025-03-22 18:00:28 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | Allocations: 2109)
Completed 200 OK in 13ms (Views: 8.1ms | ActiveRecord: 0.1ms | Allocations: 3083)


Started GET "/" for ::1 at 2025-03-22 18:00:28 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.1ms | Allocations: 7)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 2102)
Completed 200 OK in 13ms (Views: 7.7ms | ActiveRecord: 0.1ms | Allocations: 3076)


Started GET "/sign-in" for ::1 at 2025-03-22 18:00:30 -0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.9ms | Allocations: 482)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | Allocations: 2578)
Completed 200 OK in 13ms (Views: 7.9ms | ActiveRecord: 0.1ms | Allocations: 3571)


Started GET "/sign-up" for ::1 at 2025-03-22 18:00:31 -0700
Processing by RegistrationsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 11.0ms | Allocations: 1306)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 24)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 18.7ms | Allocations: 3436)
Completed 200 OK in 30ms (Views: 23.8ms | ActiveRecord: 0.1ms | Allocations: 4654)


Started GET "/sign-in" for ::1 at 2025-03-22 18:00:31 -0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.9ms | Allocations: 482)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | Allocations: 2592)
Completed 200 OK in 14ms (Views: 8.5ms | ActiveRecord: 0.1ms | Allocations: 3579)


Started GET "/sign-up" for ::1 at 2025-03-22 18:00:31 -0700
Processing by RegistrationsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 817)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 2914)
Completed 200 OK in 13ms (Views: 8.8ms | ActiveRecord: 0.1ms | Allocations: 3916)


Started POST "/sign-up" for ::1 at 2025-03-22 18:00:41 -0700
Processing by RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user1", "email"=>"user@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "user1"], ["LIMIT", 1]]
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "session_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["username", "user1"], ["email", "user@email.com"], ["password_digest", "[FILTERED]"], ["session_token", "[FILTERED]"], ["created_at", "2025-03-23 01:00:41.911799"], ["updated_at", "2025-03-23 01:00:41.911799"]]
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 196ms (ActiveRecord: 2.9ms | Allocations: 5365)


Started GET "/" for ::1 at 2025-03-22 18:00:41 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.4ms | Allocations: 161)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 30)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 2263)
Completed 200 OK in 12ms (Views: 7.5ms | ActiveRecord: 0.1ms | Allocations: 3288)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Started POST "/new_prompt" for ::1 at 2025-03-22 18:01:05 -0700
  
SyntaxError (C:/Users/James/Documents/.Desktop_Docs/Code/Ruby/biztech/promptflow/app/controllers/promptsession_controller.rb:46: syntax error, unexpected end-of-input, expecting `end' or dummy end):
  
app/controllers/promptsession_controller.rb:46: syntax error, unexpected end-of-input, expecting `end' or dummy end
Started POST "/new_prompt" for ::1 at 2025-03-22 18:01:49 -0700
  
SyntaxError (C:/Users/James/Documents/.Desktop_Docs/Code/Ruby/biztech/promptflow/app/controllers/promptsession_controller.rb:46: syntax error, unexpected end-of-input, expecting `end' or dummy end):
  
app/controllers/promptsession_controller.rb:46: syntax error, unexpected end-of-input, expecting `end' or dummy end
Started POST "/new_prompt" for ::1 at 2025-03-22 18:01:55 -0700
Processing by PromptsessionController#set_prompt as */*
  Parameters: {"prompt_session"=>{"uid"=>1, "system_prompt"=>"Generate a creative story!qwef", "like_count"=>0, "dislike_count"=>0}, "promptsession"=>{"prompt_session"=>{"uid"=>1, "system_prompt"=>"Generate a creative story!qwef", "like_count"=>0, "dislike_count"=>0}}}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:19:in `set_prompt'
  [1m[36mPromptSession Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:19:in `set_prompt'
  [1m[36mPromptSession Create (0.6ms)[0m  [1m[32mINSERT INTO "prompt_sessions" ("uid", "system_prompt", "like_count", "dislike_count", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["uid", 1], ["system_prompt", "Generate a creative story!qwef"], ["like_count", 0], ["dislike_count", 0], ["user_id", nil], ["created_at", "2025-03-23 01:01:55.652860"], ["updated_at", "2025-03-23 01:01:55.652860"]]
  â†³ app/controllers/promptsession_controller.rb:19:in `set_prompt'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:19:in `set_prompt'
Completed 500 Internal Server Error in 25ms (ActiveRecord: 4.0ms | Allocations: 10815)


  
ActiveRecord::NotNullViolation (SQLite3::ConstraintException: NOT NULL constraint failed: prompt_sessions.user_id):
  
Started POST "/new_prompt" for ::1 at 2025-03-22 18:02:41 -0700
Processing by PromptsessionController#set_prompt as */*
  Parameters: {"prompt_session"=>{"uid"=>1, "system_prompt"=>"Generate a creative story!qwef", "like_count"=>0, "dislike_count"=>0}, "promptsession"=>{"prompt_session"=>{"uid"=>1, "system_prompt"=>"Generate a creative story!qwef", "like_count"=>0, "dislike_count"=>0}}}
Can't verify CSRF token authenticity.
Completed 500 Internal Server Error in 15ms (ActiveRecord: 2.0ms | Allocations: 5944)


  
NoMethodError (undefined method `id' for nil):
  
app/controllers/promptsession_controller.rb:19:in `set_prompt'
Started POST "/new_prompt" for ::1 at 2025-03-22 18:03:11 -0700
Processing by PromptsessionController#set_prompt as */*
  Parameters: {"prompt_session"=>{"uid"=>1, "system_prompt"=>"Generate a creative story!qwef", "like_count"=>0, "dislike_count"=>0}, "promptsession"=>{"prompt_session"=>{"uid"=>1, "system_prompt"=>"Generate a creative story!qwef", "like_count"=>0, "dislike_count"=>0}}}
Can't verify CSRF token authenticity.
Completed 500 Internal Server Error in 23ms (ActiveRecord: 3.0ms | Allocations: 5942)


  
NoMethodError (undefined method `id' for nil):
  
app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/" for ::1 at 2025-03-22 18:04:04 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.0ms | Allocations: 321)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 204)
  Rendered shared/_navbar.html.erb (Duration: 0.5ms | Allocations: 224)
  Rendered layout layouts/application.html.erb (Duration: 34.6ms | Allocations: 17250)
Completed 200 OK in 57ms (Views: 41.0ms | ActiveRecord: 1.8ms | Allocations: 24342)


Started POST "/new_prompt" for ::1 at 2025-03-22 18:04:24 -0700
Processing by PromptsessionController#set_prompt as */*
  Parameters: {"prompt_session"=>{"uid"=>1, "system_prompt"=>"Generate a creative story!qwef", "like_count"=>0, "dislike_count"=>0}, "promptsession"=>{"prompt_session"=>{"uid"=>1, "system_prompt"=>"Generate a creative story!qwef", "like_count"=>0, "dislike_count"=>0}}}
Can't verify CSRF token authenticity.
Completed 500 Internal Server Error in 17ms (ActiveRecord: 2.4ms | Allocations: 5940)


  
NoMethodError (undefined method `id' for nil):
  
app/controllers/promptsession_controller.rb:20:in `set_prompt'
Started GET "/" for ::1 at 2025-03-22 18:05:45 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.1ms | Allocations: 323)
  Rendered shared/_flash.html.erb (Duration: 1.0ms | Allocations: 202)
  Rendered shared/_navbar.html.erb (Duration: 0.7ms | Allocations: 224)
  Rendered layout layouts/application.html.erb (Duration: 37.5ms | Allocations: 17227)
Completed 200 OK in 62ms (Views: 44.6ms | ActiveRecord: 2.1ms | Allocations: 24311)


Started GET "/create_prompt" for ::1 at 2025-03-22 18:05:51 -0700
  
AbstractController::ActionNotFound (The action 'new_prompt' could not be found for PromptsessionController):
  
actionpack (7.1.5.1) lib/abstract_controller/base.rb:155:in `process'
actionview (7.1.5.1) lib/action_view/rendering.rb:40:in `process'
actionpack (7.1.5.1) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.5.1) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.12) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.12) lib/rack/etag.rb:29:in `call'
rack (3.1.12) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.12) lib/rack/head.rb:15:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/permissions_policy.rb:36:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:274:in `context'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:268:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (7.1.5.1) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.5.1) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.5.2) lib/sprockets/rails/quiet_assets.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.12) lib/rack/method_override.rb:28:in `call'
rack (3.1.12) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.12) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
railties (7.1.5.1) lib/rails/engine.rb:536:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started GET "/" for ::1 at 2025-03-22 18:06:04 -0700
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.4ms | Allocations: 592)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 238)
  Rendered shared/_navbar.html.erb (Duration: 0.7ms | Allocations: 234)
  Rendered layout layouts/application.html.erb (Duration: 96.9ms | Allocations: 37172)
Completed 200 OK in 193ms (Views: 110.9ms | ActiveRecord: 2.1ms | Allocations: 59889)


Started GET "/" for ::1 at 2025-03-22 18:06:06 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.3ms | Allocations: 124)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | Allocations: 2221)
Completed 200 OK in 13ms (Views: 7.9ms | ActiveRecord: 0.1ms | Allocations: 3226)


Started GET "/create_prompt" for ::1 at 2025-03-22 18:06:11 -0700
  
AbstractController::ActionNotFound (The action 'new_prompt' could not be found for PromptsessionController):
  
actionpack (7.1.5.1) lib/abstract_controller/base.rb:155:in `process'
actionview (7.1.5.1) lib/action_view/rendering.rb:40:in `process'
actionpack (7.1.5.1) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.5.1) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.12) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.12) lib/rack/etag.rb:29:in `call'
rack (3.1.12) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.12) lib/rack/head.rb:15:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/permissions_policy.rb:36:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:274:in `context'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:268:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (7.1.5.1) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.5.1) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.5.2) lib/sprockets/rails/quiet_assets.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.12) lib/rack/method_override.rb:28:in `call'
rack (3.1.12) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.12) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
railties (7.1.5.1) lib/rails/engine.rb:536:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started GET "/create_prompt" for ::1 at 2025-03-22 18:06:24 -0700
Processing by PromptsessionController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering promptsession/new.html.erb within layouts/application
  Rendered promptsession/new.html.erb within layouts/application (Duration: 5.7ms | Allocations: 1969)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | Allocations: 2055)
Completed 500 Internal Server Error in 47ms (ActiveRecord: 2.3ms | Allocations: 15443)


  
ActionView::Template::Error (undefined local variable or method `uid' for an instance of #<Class:0x000001b5d6484300>):
    3: <%= form_with model: @ps, url: new_prompt_path, data: { turbo: false } do |form| %>
    4: <div class="mb-3">
    5:     <%= form.label :uid %>
    6:     <%= form.number_field uid, class: "form-control", placeholder: "123" %>
    7: </div>
    8: <div class="mb-3">
    9:     <%= form.label :system_prompt %>
  
app/views/promptsession/new.html.erb:6
app/views/promptsession/new.html.erb:3
Started GET "/create_prompt" for ::1 at 2025-03-22 18:06:43 -0700
Processing by PromptsessionController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering promptsession/new.html.erb within layouts/application
  Rendered promptsession/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 1395)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | Allocations: 1481)
Completed 500 Internal Server Error in 33ms (ActiveRecord: 2.2ms | Allocations: 13120)


  
ActionView::Template::Error (undefined local variable or method `uid' for an instance of #<Class:0x000001b5d4d01ea8>):
    3: <%= form_with model: @ps, url: new_prompt_path, data: { turbo: false } do |form| %>
    4: <div class="mb-3">
    5:     <%= form.label :uid %>
    6:     <%= form.number_field uid, class: "form-control", placeholder: "123" %>
    7: </div>
    8: <div class="mb-3">
    9:     <%= form.label :system_prompt %>
  
app/views/promptsession/new.html.erb:6
app/views/promptsession/new.html.erb:3
Started GET "/create_prompt" for ::1 at 2025-03-22 18:06:49 -0700
Processing by PromptsessionController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering promptsession/new.html.erb within layouts/application
  Rendered promptsession/new.html.erb within layouts/application (Duration: 4.4ms | Allocations: 1391)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 1477)
Completed 500 Internal Server Error in 59ms (ActiveRecord: 2.4ms | Allocations: 13181)


  
ActionView::Template::Error (undefined local variable or method `uid' for an instance of #<Class:0x000001b5d48faaa8>):
    3: <%= form_with model: @ps, url: new_prompt_path, data: { turbo: false } do |form| %>
    4: <div class="mb-3">
    5:     <%= form.label :uid %>
    6:     <%= form.number_field uid, class: "form-control", placeholder: "123" %>
    7: </div>
    8: <div class="mb-3">
    9:     <%= form.label :system_prompt %>
  
app/views/promptsession/new.html.erb:6
app/views/promptsession/new.html.erb:3
Started GET "/create_prompt" for ::1 at 2025-03-22 18:06:55 -0700
Processing by PromptsessionController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering promptsession/new.html.erb within layouts/application
  Rendered promptsession/new.html.erb within layouts/application (Duration: 0.7ms | Allocations: 1179)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | Allocations: 1264)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.1ms | Allocations: 2262)


  
ActionView::Template::Error (undefined local variable or method `uid' for an instance of #<Class:0x000001b5d48faaa8>):
    3: <%= form_with model: @ps, url: new_prompt_path, data: { turbo: false } do |form| %>
    4: <div class="mb-3">
    5:     <%= form.label :uid %>
    6:     <%= form.number_field uid, class: "form-control", placeholder: "123" %>
    7: </div>
    8: <div class="mb-3">
    9:     <%= form.label :system_prompt %>
  
app/views/promptsession/new.html.erb:6
app/views/promptsession/new.html.erb:3
Started GET "/create_prompt" for ::1 at 2025-03-22 18:06:57 -0700
Processing by PromptsessionController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering promptsession/new.html.erb within layouts/application
  Rendered promptsession/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 1179)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | Allocations: 1264)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.1ms | Allocations: 2247)


  
ActionView::Template::Error (undefined local variable or method `uid' for an instance of #<Class:0x000001b5d48faaa8>):
    3: <%= form_with model: @ps, url: new_prompt_path, data: { turbo: false } do |form| %>
    4: <div class="mb-3">
    5:     <%= form.label :uid %>
    6:     <%= form.number_field uid, class: "form-control", placeholder: "123" %>
    7: </div>
    8: <div class="mb-3">
    9:     <%= form.label :system_prompt %>
  
app/views/promptsession/new.html.erb:6
app/views/promptsession/new.html.erb:3
Started GET "/create_prompt" for ::1 at 2025-03-22 18:07:01 -0700
Processing by PromptsessionController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering promptsession/new.html.erb within layouts/application
  Rendered promptsession/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1393)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | Allocations: 1479)
Completed 500 Internal Server Error in 41ms (ActiveRecord: 2.6ms | Allocations: 13188)


  
ActionView::Template::Error (undefined local variable or method `uid' for an instance of #<Class:0x000001b5d4b28de8>):
    3: <%= form_with model: @ps, url: new_prompt_path, data: { turbo: false } do |form| %>
    4: <div class="mb-3">
    5:     <%= form.label :uid %>
    6:     <%= form.number_field uid, class: "form-control", placeholder: "123" %>
    7: </div>
    8: <div class="mb-3">
    9:     <%= form.label :system_prompt %>
  
app/views/promptsession/new.html.erb:6
app/views/promptsession/new.html.erb:3
Started GET "/create_prompt" for ::1 at 2025-03-22 18:07:22 -0700
Processing by PromptsessionController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering promptsession/new.html.erb within layouts/application
  Rendered promptsession/new.html.erb within layouts/application (Duration: 1.8ms | Allocations: 1391)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | Allocations: 1477)
Completed 500 Internal Server Error in 37ms (ActiveRecord: 2.2ms | Allocations: 13117)


  
ActionView::Template::Error (undefined local variable or method `uid' for an instance of #<Class:0x000001b5d7fb3400>):
    3: <%= form_with model: @ps, url: new_prompt_path, data: { turbo: false } do |form| %>
    4: <div class="mb-3">
    5:     <%= form.label :uid %>
    6:     <%= form.number_field uid, class: "form-control", placeholder: "123" %>
    7: </div>
    8: <div class="mb-3">
    9:     <%= form.label :system_prompt %>
  
app/views/promptsession/new.html.erb:6
app/views/promptsession/new.html.erb:3
Started GET "/get_prompt/1" for ::1 at 2025-03-22 18:07:31 -0700
Processing by PromptsessionController#get_prompt as HTML
  Parameters: {"uid"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:3:in `get_prompt'
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1881)


Started GET "/create_prompt" for ::1 at 2025-03-22 18:07:51 -0700
Processing by PromptsessionController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering promptsession/new.html.erb within layouts/application
  Rendered promptsession/new.html.erb within layouts/application (Duration: 0.6ms | Allocations: 1179)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | Allocations: 1264)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.1ms | Allocations: 2250)


  
ActionView::Template::Error (undefined local variable or method `uid' for an instance of #<Class:0x000001b5d7fb3400>):
    3: <%= form_with model: @ps, url: new_prompt_path, data: { turbo: false } do |form| %>
    4: <div class="mb-3">
    5:     <%= form.label :uid %>
    6:     <%= form.number_field uid, class: "form-control", placeholder: "123" %>
    7: </div>
    8: <div class="mb-3">
    9:     <%= form.label :system_prompt %>
  
app/views/promptsession/new.html.erb:6
app/views/promptsession/new.html.erb:3
Started GET "/create_prompt" for ::1 at 2025-03-22 18:08:15 -0700
Processing by PromptsessionController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering promptsession/new.html.erb within layouts/application
  Rendered promptsession/new.html.erb within layouts/application (Duration: 0.6ms | Allocations: 1179)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | Allocations: 1264)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.1ms | Allocations: 2250)


  
ActionView::Template::Error (undefined local variable or method `uid' for an instance of #<Class:0x000001b5d7fb3400>):
    3: <%= form_with model: @ps, url: new_prompt_path, data: { turbo: false } do |form| %>
    4: <div class="mb-3">
    5:     <%= form.label :uid %>
    6:     <%= form.number_field uid, class: "form-control", placeholder: "123" %>
    7: </div>
    8: <div class="mb-3">
    9:     <%= form.label :system_prompt %>
  
app/views/promptsession/new.html.erb:6
app/views/promptsession/new.html.erb:3
Started GET "/create_prompt" for ::1 at 2025-03-22 18:08:37 -0700
Processing by PromptsessionController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering promptsession/new.html.erb within layouts/application
  Rendered promptsession/new.html.erb within layouts/application (Duration: 1.3ms | Allocations: 1395)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | Allocations: 1481)
Completed 500 Internal Server Error in 38ms (ActiveRecord: 3.7ms | Allocations: 13123)


  
ActionView::Template::Error (undefined local variable or method `uid' for an instance of #<Class:0x000001b5d84126e0>):
    3: <%= form_with model: @ps, url: new_prompt_path, data: { turbo: false } do |form| %>
    4: <div class="mb-3">
    5:     <%= form.label :uid %>
    6:     <%= form.number_field uid, class: "form-control", placeholder: "123" %>
    7: </div>
    8: <div class="mb-3">
    9:     <%= form.label :system_prompt %>
  
app/views/promptsession/new.html.erb:6
app/views/promptsession/new.html.erb:3
Started GET "/create_prompt" for ::1 at 2025-03-22 18:09:27 -0700
Processing by PromptsessionController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering promptsession/new.html.erb within layouts/application
  Rendered promptsession/new.html.erb within layouts/application (Duration: 4.0ms | Allocations: 975)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered shared/_navbar.html.erb (Duration: 0.6ms | Allocations: 224)
  Rendered layout layouts/application.html.erb (Duration: 39.3ms | Allocations: 17882)
Completed 200 OK in 92ms (Views: 46.5ms | ActiveRecord: 2.5ms | Allocations: 29553)


Started GET "/create_prompt" for ::1 at 2025-03-22 18:10:01 -0700
Processing by PromptsessionController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering promptsession/new.html.erb within layouts/application
  Rendered promptsession/new.html.erb within layouts/application (Duration: 1.8ms | Allocations: 1392)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | Allocations: 1478)
Completed 500 Internal Server Error in 35ms (ActiveRecord: 2.4ms | Allocations: 13063)


  
ActionView::Template::Error (undefined local variable or method `uid' for an instance of #<Class:0x000001b5d4a853c8>):
    3: <%= form_with model: @ps, url: new_prompt_path, data: { turbo: false } do |form| %>
    4: <div class="mb-3">
    5:     <%= form.label :uid %>
    6:     <%= form.number_field uid, class: "form-control", placeholder: "123" %>
    7: </div>
    8: <div class="mb-3">
    9:     <%= form.label :system_prompt %>
  
app/views/promptsession/new.html.erb:6
app/views/promptsession/new.html.erb:3
Started GET "/create_prompt" for ::1 at 2025-03-22 18:10:34 -0700
Processing by PromptsessionController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering promptsession/new.html.erb within layouts/application
  Rendered promptsession/new.html.erb within layouts/application (Duration: 1.5ms | Allocations: 1391)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | Allocations: 1477)
Completed 500 Internal Server Error in 72ms (ActiveRecord: 2.2ms | Allocations: 14372)


  
ActionView::Template::Error (undefined local variable or method `uid' for an instance of #<Class:0x000001b5d9b4cf90>):
    3: <%= form_with model: @ps, url: new_prompt_path, data: { turbo: false } do |form| %>
    4: <div class="mb-3">
    5:     <%= form.label :uid %>
    6:     <%= form.number_field uid, class: "form-control", placeholder: "123" %>
    7: </div>
    8: <div class="mb-3">
    9:     <%= form.label :system_prompt %>
  
app/views/promptsession/new.html.erb:6
app/views/promptsession/new.html.erb:3
Started GET "/create_prompt" for ::1 at 2025-03-22 18:11:46 -0700
Processing by PromptsessionController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering promptsession/new.html.erb within layouts/application
  Rendered promptsession/new.html.erb within layouts/application (Duration: 16.6ms | Allocations: 1204)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered shared/_navbar.html.erb (Duration: 0.6ms | Allocations: 224)
  Rendered layout layouts/application.html.erb (Duration: 52.0ms | Allocations: 18109)
Completed 200 OK in 87ms (Views: 60.5ms | ActiveRecord: 2.7ms | Allocations: 30052)


Started POST "/new_prompt" for ::1 at 2025-03-22 18:12:00 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "systemprompt"=>"Yay prompt"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
[31mUnpermitted parameter: :systemprompt. Context: { controller: PromptsessionController, action: set_prompt, request: #<ActionDispatch::Request:0x000001b5d4d047e8>, params: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "systemprompt"=>"Yay prompt"}, "commit"=>"Sign In", "controller"=>"promptsession", "action"=>"set_prompt"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (3.4ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
Completed 200 OK in 68ms (Views: 0.2ms | ActiveRecord: 3.6ms | Allocations: 9565)


Started GET "/" for ::1 at 2025-03-22 18:13:08 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.1ms | Allocations: 325)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered shared/_navbar.html.erb (Duration: 0.6ms | Allocations: 224)
  Rendered layout layouts/application.html.erb (Duration: 34.0ms | Allocations: 17235)
Completed 200 OK in 58ms (Views: 40.9ms | ActiveRecord: 1.9ms | Allocations: 24326)


Started GET "/" for ::1 at 2025-03-22 18:13:08 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.3ms | Allocations: 124)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | Allocations: 2221)
Completed 200 OK in 12ms (Views: 7.4ms | ActiveRecord: 0.1ms | Allocations: 3205)


Started GET "/create_prompt" for ::1 at 2025-03-22 18:13:09 -0700
Processing by PromptsessionController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering promptsession/new.html.erb within layouts/application
  Rendered promptsession/new.html.erb within layouts/application (Duration: 1.8ms | Allocations: 917)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 24)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 3018)
Completed 200 OK in 29ms (Views: 13.3ms | ActiveRecord: 0.4ms | Allocations: 9057)


Started POST "/new_prompt" for ::1 at 2025-03-22 18:13:11 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "systemprompt"=>"Yay prompt"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
[31mUnpermitted parameter: :systemprompt. Context: { controller: PromptsessionController, action: set_prompt, request: #<ActionDispatch::Request:0x000001b5d51629e8>, params: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "systemprompt"=>"Yay prompt"}, "commit"=>"Sign In", "controller"=>"promptsession", "action"=>"set_prompt"} }[0m
[31mUnpermitted parameter: :systemprompt. Context: { controller: PromptsessionController, action: set_prompt, request: #<ActionDispatch::Request:0x000001b5d51629e8>, params: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "systemprompt"=>"Yay prompt"}, "commit"=>"Sign In", "controller"=>"promptsession", "action"=>"set_prompt"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:22:in `set_prompt'
  [1m[36mPromptSession Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:22:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:22:in `set_prompt'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:22:in `set_prompt'
Completed 200 OK in 13ms (Views: 0.1ms | ActiveRecord: 1.5ms | Allocations: 5914)


Started GET "/create_prompt" for ::1 at 2025-03-22 18:13:52 -0700
Processing by PromptsessionController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering promptsession/new.html.erb within layouts/application
  Rendered promptsession/new.html.erb within layouts/application (Duration: 1.8ms | Allocations: 946)
  Rendered shared/_flash.html.erb (Duration: 0.8ms | Allocations: 202)
  Rendered shared/_navbar.html.erb (Duration: 0.7ms | Allocations: 224)
  Rendered layout layouts/application.html.erb (Duration: 37.7ms | Allocations: 17851)
Completed 200 OK in 71ms (Views: 44.9ms | ActiveRecord: 2.2ms | Allocations: 29778)


Started POST "/new_prompt" for ::1 at 2025-03-22 18:13:55 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "systemprompt"=>"Yay prompt"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
[31mUnpermitted parameter: :systemprompt. Context: { controller: PromptsessionController, action: set_prompt, request: #<ActionDispatch::Request:0x000001b5d4b2e6a8>, params: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "systemprompt"=>"Yay prompt"}, "commit"=>"Sign In", "controller"=>"promptsession", "action"=>"set_prompt"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
Completed 200 OK in 19ms (Views: 0.2ms | ActiveRecord: 1.3ms | Allocations: 5773)


Started GET "/create_prompt" for ::1 at 2025-03-22 18:15:58 -0700
Processing by PromptsessionController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering promptsession/new.html.erb within layouts/application
  Rendered promptsession/new.html.erb within layouts/application (Duration: 4.4ms | Allocations: 850)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 204)
  Rendered shared/_navbar.html.erb (Duration: 0.6ms | Allocations: 224)
  Rendered layout layouts/application.html.erb (Duration: 81.3ms | Allocations: 17800)
Completed 200 OK in 147ms (Views: 89.4ms | ActiveRecord: 2.2ms | Allocations: 29757)


Started POST "/new_prompt" for ::1 at 2025-03-22 18:16:03 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "system_prompt"=>"yay prompt"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Create (0.2ms)[0m  [1m[32mINSERT INTO "prompt_sessions" ("uid", "system_prompt", "like_count", "dislike_count", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["uid", 1], ["system_prompt", "yay prompt"], ["like_count", 0], ["dislike_count", 0], ["user_id", 1], ["created_at", "2025-03-23 01:16:03.632342"], ["updated_at", "2025-03-23 01:16:03.632342"]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
Completed 200 OK in 14ms (Views: 0.1ms | ActiveRecord: 1.6ms | Allocations: 6866)


Started POST "/new_prompt" for ::1 at 2025-03-22 18:16:09 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "system_prompt"=>"yay prompt"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
Completed 200 OK in 10ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 3606)


Started POST "/new_prompt" for ::1 at 2025-03-22 18:16:20 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "system_prompt"=>"yay prompt"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
Completed 500 Internal Server Error in 48ms (ActiveRecord: 3.5ms | Allocations: 17303)


  
ActionView::MissingTemplate (Missing partial prompt_sessions/_prompt_session with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}.

Searched in:
  * "C:/Users/James/Documents/.Desktop_Docs/Code/Ruby/biztech/promptflow/app/views"
  * "C:/Users/James/.local/share/gem/ruby/3.3.0/gems/turbo-rails-2.0.13/app/views"
  * "C:/Users/James/.local/share/gem/ruby/3.3.0/gems/actiontext-7.1.5.1/app/views"
  * "C:/Users/James/.local/share/gem/ruby/3.3.0/gems/actionmailbox-7.1.5.1/app/views"
):
  
app/controllers/promptsession_controller.rb:23:in `set_prompt'
Started POST "/new_prompt" for ::1 at 2025-03-22 18:16:47 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "system_prompt"=>"yay prompt"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  Rendering layout layouts/application.html.erb
  Rendering promptsession/new.html.erb within layouts/application
  Rendered promptsession/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1359)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered shared/_navbar.html.erb (Duration: 0.5ms | Allocations: 224)
  Rendered layout layouts/application.html.erb (Duration: 37.0ms | Allocations: 18259)
Completed 200 OK in 76ms (Views: 45.9ms | ActiveRecord: 4.4ms | Allocations: 34983)


Started POST "/new_prompt" for ::1 at 2025-03-22 18:16:48 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "system_prompt"=>"yay prompt"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  Rendering layout layouts/application.html.erb
  Rendering promptsession/new.html.erb within layouts/application
  Rendered promptsession/new.html.erb within layouts/application (Duration: 1.2ms | Allocations: 926)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | Allocations: 3017)
Completed 200 OK in 21ms (Views: 8.8ms | ActiveRecord: 1.6ms | Allocations: 6775)


Started POST "/new_prompt" for ::1 at 2025-03-22 18:16:50 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "system_prompt"=>"yay prompt"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  Rendering layout layouts/application.html.erb
  Rendering promptsession/new.html.erb within layouts/application
  Rendered promptsession/new.html.erb within layouts/application (Duration: 1.1ms | Allocations: 926)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 3017)
Completed 200 OK in 19ms (Views: 9.3ms | ActiveRecord: 1.5ms | Allocations: 6778)


Started POST "/new_prompt" for ::1 at 2025-03-22 18:16:51 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "system_prompt"=>"yay prompt"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  Rendering layout layouts/application.html.erb
  Rendering promptsession/new.html.erb within layouts/application
  Rendered promptsession/new.html.erb within layouts/application (Duration: 1.5ms | Allocations: 926)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.7ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | Allocations: 3048)
Completed 200 OK in 23ms (Views: 10.2ms | ActiveRecord: 1.2ms | Allocations: 6785)


Started POST "/new_prompt" for ::1 at 2025-03-22 18:16:51 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "system_prompt"=>"yay prompt"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  Rendering layout layouts/application.html.erb
  Rendering promptsession/new.html.erb within layouts/application
  Rendered promptsession/new.html.erb within layouts/application (Duration: 1.1ms | Allocations: 926)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | Allocations: 3047)
Completed 200 OK in 19ms (Views: 9.1ms | ActiveRecord: 1.2ms | Allocations: 6785)


Started POST "/new_prompt" for ::1 at 2025-03-22 18:16:52 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "system_prompt"=>"yay prompt"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  Rendering layout layouts/application.html.erb
  Rendering promptsession/new.html.erb within layouts/application
  Rendered promptsession/new.html.erb within layouts/application (Duration: 1.2ms | Allocations: 926)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | Allocations: 3017)
Completed 200 OK in 20ms (Views: 10.2ms | ActiveRecord: 1.4ms | Allocations: 6751)


Started POST "/new_prompt" for ::1 at 2025-03-22 18:16:52 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "system_prompt"=>"yay prompt"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  Rendering layout layouts/application.html.erb
  Rendering promptsession/new.html.erb within layouts/application
  Rendered promptsession/new.html.erb within layouts/application (Duration: 1.2ms | Allocations: 926)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | Allocations: 3018)
Completed 200 OK in 18ms (Views: 8.5ms | ActiveRecord: 1.4ms | Allocations: 6758)


Started POST "/new_prompt" for ::1 at 2025-03-22 18:17:22 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "system_prompt"=>"yay prompt"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  Rendering layout layouts/application.html.erb
  Rendering promptsession/new.html.erb within layouts/application
  Rendered promptsession/new.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1261)
  Rendered shared/_flash.html.erb (Duration: 0.9ms | Allocations: 202)
  Rendered shared/_navbar.html.erb (Duration: 0.6ms | Allocations: 224)
  Rendered layout layouts/application.html.erb (Duration: 35.6ms | Allocations: 18161)
Completed 200 OK in 79ms (Views: 44.6ms | ActiveRecord: 3.8ms | Allocations: 34889)


Started POST "/new_prompt" for ::1 at 2025-03-22 18:17:24 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "system_prompt"=>"yay prompt"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  Rendering layout layouts/application.html.erb
  Rendering promptsession/new.html.erb within layouts/application
  Rendered promptsession/new.html.erb within layouts/application (Duration: 1.2ms | Allocations: 928)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | Allocations: 3019)
Completed 200 OK in 20ms (Views: 8.9ms | ActiveRecord: 1.2ms | Allocations: 6772)


Started GET "/new_prompt" for ::1 at 2025-03-22 18:17:25 -0700
  
ActionController::RoutingError (No route matches [GET] "/new_prompt"):
  
Started GET "/new_prompt" for ::1 at 2025-03-22 18:17:33 -0700
  
ActionController::RoutingError (No route matches [GET] "/new_prompt"):
  
Started POST "/new_prompt/1" for ::1 at 2025-03-22 18:18:03 -0700
  
ActionController::RoutingError (No route matches [POST] "/new_prompt/1"):
  
Started GET "/new_prompt" for ::1 at 2025-03-22 18:18:28 -0700
  
ActionController::RoutingError (No route matches [GET] "/new_prompt"):
  
Started GET "/" for ::1 at 2025-03-22 18:18:33 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.2ms | Allocations: 321)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered shared/_navbar.html.erb (Duration: 0.6ms | Allocations: 224)
  Rendered layout layouts/application.html.erb (Duration: 35.1ms | Allocations: 17226)
Completed 200 OK in 59ms (Views: 42.3ms | ActiveRecord: 1.8ms | Allocations: 24272)


Started GET "/get_prompt/1" for ::1 at 2025-03-22 18:18:43 -0700
Processing by PromptsessionController#get_prompt as HTML
  Parameters: {"uid"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:3:in `get_prompt'
Completed 200 OK in 16ms (Views: 0.1ms | ActiveRecord: 0.7ms | Allocations: 6771)


Started GET "/create_prompt" for ::1 at 2025-03-22 18:18:55 -0700
Processing by PromptsessionController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering promptsession/new.html.erb within layouts/application
  Rendered promptsession/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 808)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 24)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | Allocations: 2938)
Completed 200 OK in 22ms (Views: 12.8ms | ActiveRecord: 0.1ms | Allocations: 4097)


Started POST "/new_prompt" for ::1 at 2025-03-22 18:18:58 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "system_prompt"=>"asdf"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  Rendering layout layouts/application.html.erb
  Rendering promptsession/new.html.erb within layouts/application
  Rendered promptsession/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 940)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 3031)
Completed 200 OK in 22ms (Views: 9.1ms | ActiveRecord: 1.3ms | Allocations: 8811)


Started POST "/new_prompt" for ::1 at 2025-03-22 18:18:59 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "system_prompt"=>"asdf"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  Rendering layout layouts/application.html.erb
  Rendering promptsession/new.html.erb within layouts/application
  Rendered promptsession/new.html.erb within layouts/application (Duration: 1.5ms | Allocations: 928)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | Allocations: 3021)
Completed 200 OK in 19ms (Views: 8.7ms | ActiveRecord: 2.3ms | Allocations: 6774)


Started GET "/new_prompt" for ::1 at 2025-03-22 18:19:30 -0700
  
ActionController::RoutingError (No route matches [GET] "/new_prompt"):
  
Started GET "/new_prompt" for ::1 at 2025-03-22 18:19:32 -0700
  
ActionController::RoutingError (No route matches [GET] "/new_prompt"):
  
Started GET "/" for ::1 at 2025-03-22 18:19:35 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.1ms | Allocations: 321)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered shared/_navbar.html.erb (Duration: 0.5ms | Allocations: 224)
  Rendered layout layouts/application.html.erb (Duration: 34.1ms | Allocations: 17226)
Completed 200 OK in 68ms (Views: 41.1ms | ActiveRecord: 21.1ms | Allocations: 24277)


Started GET "/new_promopt" for ::1 at 2025-03-22 18:19:41 -0700
  
ActionController::RoutingError (No route matches [GET] "/new_promopt"):
  
Started GET "/new_prompt" for ::1 at 2025-03-22 18:19:44 -0700
  
ActionController::RoutingError (No route matches [GET] "/new_prompt"):
  
Started GET "/create_prompt" for ::1 at 2025-03-22 18:19:57 -0700
Processing by PromptsessionController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering promptsession/new.html.erb within layouts/application
  Rendered promptsession/new.html.erb within layouts/application (Duration: 1.7ms | Allocations: 901)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 24)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 10.3ms | Allocations: 3032)
Completed 200 OK in 52ms (Views: 15.5ms | ActiveRecord: 0.3ms | Allocations: 9120)


Started POST "/new_prompt" for ::1 at 2025-03-22 18:20:00 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "system_prompt"=>"asdf"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  Rendering layout layouts/application.html.erb
  Rendering promptsession/new.html.erb within layouts/application
  Rendered promptsession/new.html.erb within layouts/application (Duration: 1.2ms | Allocations: 1244)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 3342)
Completed 200 OK in 23ms (Views: 9.8ms | ActiveRecord: 1.3ms | Allocations: 9205)


Started POST "/new_prompt" for ::1 at 2025-03-22 18:20:01 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "system_prompt"=>"asdf"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  Rendering layout layouts/application.html.erb
  Rendering promptsession/new.html.erb within layouts/application
  Rendered promptsession/new.html.erb within layouts/application (Duration: 1.2ms | Allocations: 1220)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | Allocations: 3311)
Completed 200 OK in 19ms (Views: 8.8ms | ActiveRecord: 1.2ms | Allocations: 7070)


Started POST "/new_prompt" for ::1 at 2025-03-22 18:20:02 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "system_prompt"=>"asdf"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  Rendering layout layouts/application.html.erb
  Rendering promptsession/new.html.erb within layouts/application
  Rendered promptsession/new.html.erb within layouts/application (Duration: 1.2ms | Allocations: 1220)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | Allocations: 3311)
Completed 200 OK in 20ms (Views: 9.1ms | ActiveRecord: 1.4ms | Allocations: 7070)


Started POST "/new_prompt" for ::1 at 2025-03-22 18:20:02 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "system_prompt"=>"asdf"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  Rendering layout layouts/application.html.erb
  Rendering promptsession/new.html.erb within layouts/application
  Rendered promptsession/new.html.erb within layouts/application (Duration: 1.2ms | Allocations: 1220)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 3312)
Completed 200 OK in 21ms (Views: 9.2ms | ActiveRecord: 1.4ms | Allocations: 7065)


Started POST "/new_prompt" for ::1 at 2025-03-22 18:20:03 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "system_prompt"=>"asdf"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  Rendering layout layouts/application.html.erb
  Rendering promptsession/new.html.erb within layouts/application
  Rendered promptsession/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 1220)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 3311)
Completed 200 OK in 19ms (Views: 8.8ms | ActiveRecord: 1.2ms | Allocations: 7064)


Started POST "/new_prompt" for ::1 at 2025-03-22 18:20:05 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "system_prompt"=>"asdf"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  Rendering layout layouts/application.html.erb
  Rendering promptsession/new.html.erb within layouts/application
  Rendered promptsession/new.html.erb within layouts/application (Duration: 1.3ms | Allocations: 1220)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | Allocations: 3343)
Completed 200 OK in 22ms (Views: 9.1ms | ActiveRecord: 1.2ms | Allocations: 7090)


Started POST "/new_prompt" for ::1 at 2025-03-22 18:20:05 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "system_prompt"=>"asdf"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  Rendering layout layouts/application.html.erb
  Rendering promptsession/new.html.erb within layouts/application
  Rendered promptsession/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 1220)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | Allocations: 3317)
Completed 200 OK in 21ms (Views: 10.0ms | ActiveRecord: 1.4ms | Allocations: 7050)


Started POST "/new_prompt" for ::1 at 2025-03-22 18:20:05 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "system_prompt"=>"asdf"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  Rendering layout layouts/application.html.erb
  Rendering promptsession/new.html.erb within layouts/application
  Rendered promptsession/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 1220)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 3311)
Completed 200 OK in 19ms (Views: 8.8ms | ActiveRecord: 1.3ms | Allocations: 7059)


Started POST "/new_prompt" for ::1 at 2025-03-22 18:20:06 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "system_prompt"=>"asdf"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  Rendering layout layouts/application.html.erb
  Rendering promptsession/new.html.erb within layouts/application
  Rendered promptsession/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1220)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | Allocations: 3312)
Completed 200 OK in 20ms (Views: 10.1ms | ActiveRecord: 1.4ms | Allocations: 7062)


Started POST "/new_prompt" for ::1 at 2025-03-22 18:20:06 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "system_prompt"=>"asdf"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  Rendering layout layouts/application.html.erb
  Rendering promptsession/new.html.erb within layouts/application
  Rendered promptsession/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 1220)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | Allocations: 3311)
Completed 200 OK in 19ms (Views: 9.1ms | ActiveRecord: 1.2ms | Allocations: 7061)


Started POST "/new_prompt" for ::1 at 2025-03-22 18:20:06 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "system_prompt"=>"asdf"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  Rendering layout layouts/application.html.erb
  Rendering promptsession/new.html.erb within layouts/application
  Rendered promptsession/new.html.erb within layouts/application (Duration: 1.2ms | Allocations: 1220)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 11.3ms | Allocations: 3334)
Completed 200 OK in 23ms (Views: 12.1ms | ActiveRecord: 1.2ms | Allocations: 7088)


Started POST "/new_prompt" for ::1 at 2025-03-22 18:20:13 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"2", "system_prompt"=>"asdf"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 2], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Create (0.2ms)[0m  [1m[32mINSERT INTO "prompt_sessions" ("uid", "system_prompt", "like_count", "dislike_count", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["uid", 2], ["system_prompt", "asdf"], ["like_count", 0], ["dislike_count", 0], ["user_id", 1], ["created_at", "2025-03-23 01:20:13.263157"], ["updated_at", "2025-03-23 01:20:13.263157"]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 1.6ms | Allocations: 3863)


Started GET "/get_prompt/2" for ::1 at 2025-03-22 18:20:25 -0700
Processing by PromptsessionController#get_prompt as HTML
  Parameters: {"uid"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 2], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:3:in `get_prompt'
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1774)


Started GET "/" for 127.0.0.1 at 2025-03-22 18:24:49 -0700
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.3ms | Allocations: 1759)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 242)
  Rendered shared/_navbar.html.erb (Duration: 0.8ms | Allocations: 234)
  Rendered layout layouts/application.html.erb (Duration: 105.3ms | Allocations: 38557)
Completed 200 OK in 259ms (Views: 119.0ms | ActiveRecord: 3.2ms | Allocations: 61266)


Started GET "/" for 127.0.0.1 at 2025-03-22 18:24:55 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.1ms | Allocations: 7)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | Allocations: 2108)
Completed 200 OK in 18ms (Views: 12.6ms | ActiveRecord: 0.1ms | Allocations: 3119)


Started GET "/" for 127.0.0.1 at 2025-03-22 18:25:15 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.4ms | Allocations: 1671)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 32.9ms | Allocations: 18207)
Completed 200 OK in 110ms (Views: 92.0ms | ActiveRecord: 3.5ms | Allocations: 25406)


Started GET "/" for ::1 at 2025-03-22 18:53:01 -0700
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MainController#home as HTML
Completed 406 Not Acceptable in 23ms (ActiveRecord: 0.0ms | Allocations: 3385)


  
ActionController::MissingExactTemplate (MainController#home is missing a template for request formats: text/html):
  
actionpack (7.1.5.1) lib/action_controller/metal/implicit_render.rb:47:in `default_render'
actionpack (7.1.5.1) lib/action_controller/metal/basic_implicit_render.rb:7:in `send_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:224:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rendering.rb:165:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:259:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:121:in `block in run_callbacks'
turbo-rails (2.0.13) lib/turbo-rails.rb:24:in `with_request_id'
turbo-rails (2.0.13) app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
actiontext (7.1.5.1) lib/action_text/rendering.rb:23:in `with_renderer'
actiontext (7.1.5.1) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `instance_exec'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:141:in `run_callbacks'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:258:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rescue.rb:25:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.1.5.1) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:73:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
activerecord (7.1.5.1) lib/active_record/railties/controller_runtime.rb:32:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:160:in `process'
actionview (7.1.5.1) lib/action_view/rendering.rb:40:in `process'
actionpack (7.1.5.1) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.5.1) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.12) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.12) lib/rack/etag.rb:29:in `call'
rack (3.1.12) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.12) lib/rack/head.rb:15:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/permissions_policy.rb:36:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:274:in `context'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:268:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (7.1.5.1) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.5.1) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.5.2) lib/sprockets/rails/quiet_assets.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.12) lib/rack/method_override.rb:28:in `call'
rack (3.1.12) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.12) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
railties (7.1.5.1) lib/rails/engine.rb:536:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started GET "/sign-up" for ::1 at 2025-03-22 18:53:19 -0700
Processing by RegistrationsController#new as HTML
Completed 406 Not Acceptable in 80ms (ActiveRecord: 2.6ms | Allocations: 15556)


  
ActionController::MissingExactTemplate (RegistrationsController#new is missing a template for request formats: text/html):
  
actionpack (7.1.5.1) lib/action_controller/metal/implicit_render.rb:47:in `default_render'
actionpack (7.1.5.1) lib/action_controller/metal/basic_implicit_render.rb:7:in `send_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:224:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rendering.rb:165:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:259:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:121:in `block in run_callbacks'
turbo-rails (2.0.13) lib/turbo-rails.rb:24:in `with_request_id'
turbo-rails (2.0.13) app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
actiontext (7.1.5.1) lib/action_text/rendering.rb:23:in `with_renderer'
actiontext (7.1.5.1) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `instance_exec'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:141:in `run_callbacks'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:258:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rescue.rb:25:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.1.5.1) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:73:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
activerecord (7.1.5.1) lib/active_record/railties/controller_runtime.rb:32:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:160:in `process'
actionview (7.1.5.1) lib/action_view/rendering.rb:40:in `process'
actionpack (7.1.5.1) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.5.1) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.12) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.12) lib/rack/etag.rb:29:in `call'
rack (3.1.12) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.12) lib/rack/head.rb:15:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/permissions_policy.rb:36:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:274:in `context'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:268:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (7.1.5.1) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.5.1) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.5.2) lib/sprockets/rails/quiet_assets.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.12) lib/rack/method_override.rb:28:in `call'
rack (3.1.12) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.12) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
railties (7.1.5.1) lib/rails/engine.rb:536:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started GET "/get_prompt/1" for ::1 at 2025-03-22 20:26:38 -0700
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PromptsessionController#get_prompt as */*
  Parameters: {"uid"=>"1"}
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:3:in `get_prompt'
Completed 200 OK in 95ms (Views: 0.5ms | ActiveRecord: 2.9ms | Allocations: 18769)


Started GET "/" for ::1 at 2025-03-22 20:26:49 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.7ms | Allocations: 976)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 237)
  Rendered layout layouts/application.html.erb (Duration: 100.1ms | Allocations: 37452)
Completed 200 OK in 284ms (Views: 115.1ms | ActiveRecord: 0.4ms | Allocations: 49510)


  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" ORDER BY "prompt_sessions"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" ORDER BY "prompt_sessions"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" ORDER BY "prompt_sessions"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPromptSession Destroy (1.5ms)[0m  [1m[31mDELETE FROM "prompt_sessions" WHERE "prompt_sessions"."id" = ?[0m  [["id", 2]]
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" ORDER BY "prompt_sessions"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPromptSession Destroy (0.2ms)[0m  [1m[31mDELETE FROM "prompt_sessions" WHERE "prompt_sessions"."id" = ?[0m  [["id", 1]]
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" ORDER BY "prompt_sessions"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/" for ::1 at 2025-03-22 20:27:54 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.1ms | Allocations: 7)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 10.1ms | Allocations: 2041)
Completed 200 OK in 17ms (Views: 10.9ms | ActiveRecord: 0.3ms | Allocations: 3048)


Started GET "/sign-in" for ::1 at 2025-03-22 20:28:01 -0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 38.0ms | Allocations: 1772)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 51.8ms | Allocations: 3805)
Completed 200 OK in 68ms (Views: 58.1ms | ActiveRecord: 0.1ms | Allocations: 5071)


Started POST "/sign-in" for ::1 at 2025-03-22 20:28:04 -0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user1", "password"=>"[FILTERED]"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:12:in `create'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 2136)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 22)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | Allocations: 4173)
Completed 200 OK in 15ms (Views: 8.9ms | ActiveRecord: 0.2ms | Allocations: 5791)


Started GET "/sign-in" for ::1 at 2025-03-22 20:28:06 -0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.9ms | Allocations: 482)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 30)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | Allocations: 2518)
Completed 200 OK in 14ms (Views: 9.1ms | ActiveRecord: 0.1ms | Allocations: 3529)


Started GET "/sign-up" for ::1 at 2025-03-22 20:28:08 -0700
Processing by RegistrationsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1311)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 3343)
Completed 200 OK in 21ms (Views: 14.5ms | ActiveRecord: 0.1ms | Allocations: 4534)


Started POST "/sign-up" for ::1 at 2025-03-22 20:28:15 -0700
Processing by RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user1", "email"=>"user@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "user1"], ["LIMIT", 1]]
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1664)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 3689)
Completed 200 OK in 203ms (Views: 9.3ms | ActiveRecord: 1.5ms | Allocations: 7484)


Started POST "/sign-up" for ::1 at 2025-03-22 20:28:21 -0700
Processing by RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user2", "email"=>"user@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "user2"], ["LIMIT", 1]]
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "session_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["username", "user2"], ["email", "user@email.com"], ["password_digest", "[FILTERED]"], ["session_token", "[FILTERED]"], ["created_at", "2025-03-23 03:28:21.460422"], ["updated_at", "2025-03-23 03:28:21.460422"]]
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 196ms (ActiveRecord: 1.8ms | Allocations: 4729)


Started GET "/" for ::1 at 2025-03-22 20:28:21 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | Allocations: 2070)
Completed 200 OK in 12ms (Views: 7.1ms | ActiveRecord: 0.1ms | Allocations: 3060)


Started GET "/create_prompt" for ::1 at 2025-03-22 20:28:34 -0700
Processing by PromptsessionController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering promptsession/new.html.erb within layouts/application
  Rendered promptsession/new.html.erb within layouts/application (Duration: 84.5ms | Allocations: 7007)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 90.9ms | Allocations: 9060)
Completed 200 OK in 103ms (Views: 95.9ms | ActiveRecord: 0.1ms | Allocations: 10229)


Started POST "/new_prompt" for ::1 at 2025-03-22 20:29:07 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "system_prompt"=>"You are a helpful assistant respond to every promp with the following text \"I am a helpful assistant\""}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Create (0.2ms)[0m  [1m[32mINSERT INTO "prompt_sessions" ("uid", "system_prompt", "like_count", "dislike_count", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["uid", 1], ["system_prompt", "You are a helpful assistant respond to every promp with the following text \"I am a helpful assistant\""], ["like_count", 0], ["dislike_count", 0], ["user_id", 2], ["created_at", "2025-03-23 03:29:07.909591"], ["updated_at", "2025-03-23 03:29:07.909591"]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
Completed 200 OK in 159ms (Views: 0.1ms | ActiveRecord: 1.6ms | Allocations: 13680)


  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" ORDER BY "prompt_sessions"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/get_prompt/1" for ::1 at 2025-03-22 20:29:17 -0700
Processing by PromptsessionController#get_prompt as */*
  Parameters: {"uid"=>"1"}
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:3:in `get_prompt'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 505)


Started OPTIONS "/get_prompt/1" for ::1 at 2025-03-22 20:29:31 -0700
  
ActionController::RoutingError (No route matches [OPTIONS] "/get_prompt/1"):
  
Started OPTIONS "/get_prompt/1" for ::1 at 2025-03-22 20:29:40 -0700
  
ActionController::RoutingError (No route matches [OPTIONS] "/get_prompt/1"):
  
Started OPTIONS "/get_prompt/1" for ::1 at 2025-03-22 20:29:50 -0700
  
ActionController::RoutingError (No route matches [OPTIONS] "/get_prompt/1"):
  
Started OPTIONS "/get_prompt/1" for ::1 at 2025-03-22 20:30:29 -0700
  
ActionController::RoutingError (No route matches [OPTIONS] "/get_prompt/1"):
  
Started POST "/get_prompt/1" for ::1 at 2025-03-22 20:33:08 -0700
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/get_prompt/1"):
  
Started POST "/get_prompt/1" for ::1 at 2025-03-22 20:35:03 -0700
  
ActionController::RoutingError (No route matches [POST] "/get_prompt/1"):
  
Started GET "/get_prompt/1" for ::1 at 2025-03-22 20:37:01 -0700
Processing by PromptsessionController#get_prompt as */*
  Parameters: {"uid"=>"1"}
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:3:in `get_prompt'
Completed 200 OK in 89ms (Views: 1.0ms | ActiveRecord: 2.5ms | Allocations: 18641)


Started GET "/get_prompt/1" for ::1 at 2025-03-22 20:37:02 -0700
Processing by PromptsessionController#get_prompt as */*
  Parameters: {"uid"=>"1"}
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:3:in `get_prompt'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 520)


Started GET "/get_prompt/1" for ::1 at 2025-03-22 20:37:04 -0700
Processing by PromptsessionController#get_prompt as */*
  Parameters: {"uid"=>"1"}
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:3:in `get_prompt'
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 518)


Started GET "/get_prompt/1" for ::1 at 2025-03-22 20:38:21 -0700
Processing by PromptsessionController#get_prompt as */*
  Parameters: {"uid"=>"1"}
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:3:in `get_prompt'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 509)


Started GET "/get_prompt/1" for ::1 at 2025-03-22 20:38:23 -0700
Processing by PromptsessionController#get_prompt as */*
  Parameters: {"uid"=>"1"}
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:3:in `get_prompt'
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 515)


Started GET "/" for ::1 at 2025-03-22 20:44:24 -0700
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.0ms | Allocations: 977)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 242)
  Rendered layout layouts/application.html.erb (Duration: 92.7ms | Allocations: 37410)
Completed 200 OK in 200ms (Views: 106.5ms | ActiveRecord: 2.1ms | Allocations: 60128)


Started GET "/" for ::1 at 2025-03-22 20:44:26 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | Allocations: 2037)
Completed 200 OK in 12ms (Views: 7.1ms | ActiveRecord: 0.1ms | Allocations: 3029)


Started GET "/" for ::1 at 2025-03-22 20:45:20 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.1ms | Allocations: 884)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 76.2ms | Allocations: 17447)
Completed 200 OK in 128ms (Views: 84.1ms | ActiveRecord: 1.9ms | Allocations: 24563)


Started GET "/" for ::1 at 2025-03-22 20:45:21 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | Allocations: 2045)
Completed 200 OK in 15ms (Views: 9.2ms | ActiveRecord: 0.2ms | Allocations: 3038)


Started GET "/" for ::1 at 2025-03-22 20:45:29 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.1ms | Allocations: 884)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 45.5ms | Allocations: 17384)
Completed 200 OK in 101ms (Views: 53.5ms | ActiveRecord: 2.1ms | Allocations: 24553)


Started GET "/" for ::1 at 2025-03-22 20:45:34 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.9ms | Allocations: 879)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 206)
  Rendered layout layouts/application.html.erb (Duration: 38.1ms | Allocations: 17455)
Completed 200 OK in 87ms (Views: 45.4ms | ActiveRecord: 2.0ms | Allocations: 24606)


Started GET "/" for ::1 at 2025-03-22 20:46:48 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.2ms | Allocations: 1097)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 31.6ms | Allocations: 17633)
Completed 200 OK in 86ms (Views: 39.3ms | ActiveRecord: 2.0ms | Allocations: 24726)


Started GET "/sign-out" for ::1 at 2025-03-22 20:46:50 -0700
  
ActionController::RoutingError (No route matches [GET] "/sign-out"):
  
Started GET "/" for ::1 at 2025-03-22 20:46:58 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.2ms | Allocations: 45)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | Allocations: 2088)
Completed 200 OK in 13ms (Views: 7.6ms | ActiveRecord: 0.1ms | Allocations: 3071)


Started GET "/" for ::1 at 2025-03-22 20:46:59 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.2ms | Allocations: 45)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | Allocations: 2074)
Completed 200 OK in 14ms (Views: 8.3ms | ActiveRecord: 0.1ms | Allocations: 3052)


Started GET "/" for ::1 at 2025-03-22 20:48:08 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 6.6ms | Allocations: 1101)
  Rendered shared/_flash.html.erb (Duration: 0.8ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 50.6ms | Allocations: 17648)
Completed 200 OK in 132ms (Views: 61.2ms | ActiveRecord: 2.7ms | Allocations: 24740)


Started GET "/" for ::1 at 2025-03-22 20:48:12 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.5ms | Allocations: 1104)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 32.8ms | Allocations: 17641)
Completed 200 OK in 91ms (Views: 40.5ms | ActiveRecord: 2.1ms | Allocations: 24776)


Started GET "/sign-out" for ::1 at 2025-03-22 20:48:19 -0700
  
ActionController::RoutingError (No route matches [GET] "/sign-out"):
  
Started GET "/sign-out" for ::1 at 2025-03-22 20:49:14 -0700
  
ActionController::RoutingError (No route matches [GET] "/sign-out"):
  
Started GET "/sign-out" for ::1 at 2025-03-22 20:49:14 -0700
  
ActionController::RoutingError (No route matches [GET] "/sign-out"):
  
Started GET "/sign-out" for ::1 at 2025-03-22 20:49:15 -0700
  
ActionController::RoutingError (No route matches [GET] "/sign-out"):
  
Started GET "/sign-out" for ::1 at 2025-03-22 20:49:15 -0700
  
ActionController::RoutingError (No route matches [GET] "/sign-out"):
  
Started GET "/sign-out" for ::1 at 2025-03-22 20:49:15 -0700
  
ActionController::RoutingError (No route matches [GET] "/sign-out"):
  
Started GET "/sign-out" for ::1 at 2025-03-22 20:49:20 -0700
  
ActionController::RoutingError (No route matches [GET] "/sign-out"):
  
Started GET "/" for ::1 at 2025-03-22 20:50:00 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.6ms | Allocations: 1126)
  Rendered shared/_flash.html.erb (Duration: 0.8ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 36.3ms | Allocations: 17678)
Completed 200 OK in 95ms (Views: 44.5ms | ActiveRecord: 2.1ms | Allocations: 24788)


Started GET "/" for ::1 at 2025-03-22 20:50:00 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.2ms | Allocations: 57)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | Allocations: 2086)
Completed 200 OK in 12ms (Views: 7.8ms | ActiveRecord: 0.1ms | Allocations: 3070)


Started GET "/" for ::1 at 2025-03-22 20:50:01 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.2ms | Allocations: 57)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | Allocations: 2086)
Completed 200 OK in 13ms (Views: 7.3ms | ActiveRecord: 0.1ms | Allocations: 3061)


Started GET "/" for ::1 at 2025-03-22 20:50:02 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.3ms | Allocations: 57)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 2086)
Completed 200 OK in 13ms (Views: 7.9ms | ActiveRecord: 0.1ms | Allocations: 3055)


Started GET "/sign-out" for ::1 at 2025-03-22 20:50:03 -0700
  
ActionController::RoutingError (No route matches [GET] "/sign-out"):
  
Started GET "/" for ::1 at 2025-03-22 20:50:27 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.6ms | Allocations: 1117)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered shared/_navbar.html.erb (Duration: 0.6ms | Allocations: 231)
  Rendered layout layouts/application.html.erb (Duration: 37.1ms | Allocations: 18048)
Completed 200 OK in 119ms (Views: 99.1ms | ActiveRecord: 2.1ms | Allocations: 25199)


Started GET "/" for ::1 at 2025-03-22 20:50:29 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.2ms | Allocations: 57)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | Allocations: 2153)
Completed 200 OK in 13ms (Views: 8.3ms | ActiveRecord: 0.1ms | Allocations: 3131)


Started GET "/" for ::1 at 2025-03-22 20:50:32 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.2ms | Allocations: 57)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | Allocations: 2153)
Completed 200 OK in 13ms (Views: 7.9ms | ActiveRecord: 0.1ms | Allocations: 3128)


Started GET "/" for ::1 at 2025-03-22 20:50:32 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.2ms | Allocations: 57)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 2153)
Completed 200 OK in 13ms (Views: 7.6ms | ActiveRecord: 0.1ms | Allocations: 3119)


Started GET "/" for ::1 at 2025-03-22 20:50:36 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.2ms | Allocations: 57)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | Allocations: 2153)
Completed 200 OK in 13ms (Views: 8.0ms | ActiveRecord: 0.1ms | Allocations: 3152)


Started GET "/" for ::1 at 2025-03-22 20:50:36 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.2ms | Allocations: 57)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | Allocations: 2153)
Completed 200 OK in 14ms (Views: 8.1ms | ActiveRecord: 0.1ms | Allocations: 3119)


Started GET "/sign-out" for ::1 at 2025-03-22 20:50:39 -0700
  
ActionController::RoutingError (No route matches [GET] "/sign-out"):
  
Started GET "/" for ::1 at 2025-03-22 20:50:49 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.6ms | Allocations: 1237)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 204)
  Rendered shared/_navbar.html.erb (Duration: 0.6ms | Allocations: 224)
  Rendered layout layouts/application.html.erb (Duration: 40.2ms | Allocations: 18146)
Completed 200 OK in 90ms (Views: 47.3ms | ActiveRecord: 2.0ms | Allocations: 25236)


Started DELETE "/sign-out" for ::1 at 2025-03-22 20:50:51 -0700
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.1ms | Allocations: 1085)


Started GET "/" for ::1 at 2025-03-22 20:50:51 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.1ms | Allocations: 7)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 30)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | Allocations: 2114)
Completed 200 OK in 12ms (Views: 7.4ms | ActiveRecord: 0.0ms | Allocations: 2759)


Started GET "/sign-in" for ::1 at 2025-03-22 20:50:54 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 7.3ms | Allocations: 1537)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 24)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 14.3ms | Allocations: 3636)
Completed 200 OK in 24ms (Views: 19.5ms | ActiveRecord: 0.0ms | Allocations: 4489)


Started POST "/sign-in" for ::1 at 2025-03-22 20:50:56 -0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user1", "password"=>"[FILTERED]"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:12:in `create'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.1ms | Allocations: 2148)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 19)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | Allocations: 4235)
Completed 200 OK in 13ms (Views: 8.3ms | ActiveRecord: 0.1ms | Allocations: 5449)


Started POST "/sign-in" for ::1 at 2025-03-22 20:51:00 -0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "username"=>"user2", "password"=>"[FILTERED]", "commit"=>"Sign In"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "user2"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:12:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 191ms (ActiveRecord: 0.2ms | Allocations: 1108)


Started GET "/" for ::1 at 2025-03-22 20:51:00 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.4ms | Allocations: 137)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 2237)
Completed 200 OK in 12ms (Views: 7.6ms | ActiveRecord: 0.1ms | Allocations: 3237)


Started GET "/" for ::1 at 2025-03-22 20:51:17 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.5ms | Allocations: 1220)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 33.2ms | Allocations: 17757)
Completed 200 OK in 102ms (Views: 85.6ms | ActiveRecord: 1.9ms | Allocations: 24909)


Started DELETE "/sign-out" for ::1 at 2025-03-22 20:51:20 -0700
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.1ms | Allocations: 999)


Started GET "/" for ::1 at 2025-03-22 20:51:20 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | Allocations: 2040)
Completed 200 OK in 12ms (Views: 8.5ms | ActiveRecord: 0.0ms | Allocations: 2666)


Started GET "/" for ::1 at 2025-03-22 20:51:51 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1160)
  Rendered shared/_flash.html.erb (Duration: 0.8ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 34.2ms | Allocations: 17720)
Completed 200 OK in 72ms (Views: 41.3ms | ActiveRecord: 0.0ms | Allocations: 19047)


Started GET "/" for ::1 at 2025-03-22 20:59:42 -0700
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.1ms | Allocations: 1011)
Started GET "/" for ::1 at 2025-03-22 20:59:42 -0700
  Rendered shared/_flash.html.erb (Duration: 1.8ms | Allocations: 262)
  Rendered layout layouts/application.html.erb (Duration: 146.0ms | Allocations: 38254)
Completed 200 OK in 217ms (Views: 160.1ms | ActiveRecord: 0.0ms | Allocations: 44697)


Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.1ms | Allocations: 7)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | Allocations: 2037)
Completed 200 OK in 12ms (Views: 8.2ms | ActiveRecord: 0.0ms | Allocations: 2666)


Started GET "/" for ::1 at 2025-03-22 21:00:30 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.0ms | Allocations: 920)
  Rendered shared/_flash.html.erb (Duration: 0.9ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 54.1ms | Allocations: 17480)
Completed 200 OK in 92ms (Views: 62.8ms | ActiveRecord: 0.0ms | Allocations: 18822)


Started GET "/" for ::1 at 2025-03-22 21:00:38 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.9ms | Allocations: 918)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 31.0ms | Allocations: 17347)
Completed 200 OK in 69ms (Views: 38.2ms | ActiveRecord: 0.0ms | Allocations: 18684)


Started GET "/" for ::1 at 2025-03-22 21:00:59 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.2ms | Allocations: 921)
  Rendered shared/_flash.html.erb (Duration: 0.8ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 33.3ms | Allocations: 17482)
Completed 200 OK in 69ms (Views: 40.5ms | ActiveRecord: 0.0ms | Allocations: 18831)


Started GET "/" for ::1 at 2025-03-22 21:06:28 -0700
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.0ms | Allocations: 1011)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 242)
  Rendered layout layouts/application.html.erb (Duration: 97.6ms | Allocations: 37286)
Completed 200 OK in 170ms (Views: 111.6ms | ActiveRecord: 0.0ms | Allocations: 43721)


Started GET "/" for ::1 at 2025-03-22 21:09:01 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 5.4ms | Allocations: 1604)
  Rendered shared/_flash.html.erb (Duration: 1.0ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 42.9ms | Allocations: 18158)
Completed 200 OK in 96ms (Views: 50.4ms | ActiveRecord: 0.0ms | Allocations: 19502)


Started GET "/" for ::1 at 2025-03-22 21:09:20 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1293)
  Rendered shared/_flash.html.erb (Duration: 0.8ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 35.2ms | Allocations: 17739)
Completed 200 OK in 83ms (Views: 43.0ms | ActiveRecord: 0.0ms | Allocations: 19071)


Started GET "/" for ::1 at 2025-03-22 21:09:21 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.2ms | Allocations: 58)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | Allocations: 2088)
Completed 200 OK in 10ms (Views: 6.8ms | ActiveRecord: 0.0ms | Allocations: 2709)


Started GET "/" for ::1 at 2025-03-22 21:09:22 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.2ms | Allocations: 58)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | Allocations: 2087)
Completed 200 OK in 11ms (Views: 7.6ms | ActiveRecord: 0.0ms | Allocations: 2700)


Started GET "/" for ::1 at 2025-03-22 21:09:36 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1181)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 33.8ms | Allocations: 17741)
Completed 200 OK in 76ms (Views: 41.3ms | ActiveRecord: 0.0ms | Allocations: 19059)


Started GET "/" for ::1 at 2025-03-22 21:09:36 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | Allocations: 2035)
Completed 200 OK in 10ms (Views: 6.8ms | ActiveRecord: 0.0ms | Allocations: 2660)


Started GET "/" for ::1 at 2025-03-22 21:09:43 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.5ms | Allocations: 1202)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 34.8ms | Allocations: 17738)
Completed 200 OK in 77ms (Views: 42.4ms | ActiveRecord: 0.0ms | Allocations: 19078)


Started DELETE "/sign-out" for ::1 at 2025-03-22 21:09:46 -0700
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 4ms (ActiveRecord: 0.0ms | Allocations: 720)


Started GET "/" for ::1 at 2025-03-22 21:09:46 -0700
Processing by MainController#home as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.3ms | Allocations: 125)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 33)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | Allocations: 2207)
Completed 200 OK in 10ms (Views: 6.9ms | ActiveRecord: 0.0ms | Allocations: 2884)


Started GET "/" for ::1 at 2025-03-22 21:09:49 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.4ms | Allocations: 125)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 2184)
Completed 200 OK in 15ms (Views: 11.4ms | ActiveRecord: 0.0ms | Allocations: 2821)


Started DELETE "/sign-out" for ::1 at 2025-03-22 21:09:51 -0700
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 4ms (ActiveRecord: 0.0ms | Allocations: 543)


Started GET "/" for ::1 at 2025-03-22 21:09:51 -0700
Processing by MainController#home as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.3ms | Allocations: 125)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | Allocations: 2164)
Completed 200 OK in 11ms (Views: 7.4ms | ActiveRecord: 0.0ms | Allocations: 2799)


Started GET "/" for ::1 at 2025-03-22 21:09:52 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.6ms | Allocations: 125)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 2153)
Completed 200 OK in 13ms (Views: 9.5ms | ActiveRecord: 0.0ms | Allocations: 2775)


Started DELETE "/sign-out" for ::1 at 2025-03-22 21:09:56 -0700
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 4ms (ActiveRecord: 0.0ms | Allocations: 543)


Started GET "/" for ::1 at 2025-03-22 21:09:56 -0700
Processing by MainController#home as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.7ms | Allocations: 125)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 2162)
Completed 200 OK in 15ms (Views: 10.5ms | ActiveRecord: 0.0ms | Allocations: 2815)


Started GET "/" for ::1 at 2025-03-22 21:09:59 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.4ms | Allocations: 125)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 2154)
Completed 200 OK in 12ms (Views: 7.8ms | ActiveRecord: 0.0ms | Allocations: 2791)


Started GET "/" for ::1 at 2025-03-22 21:10:16 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1181)
  Rendered shared/_flash.html.erb (Duration: 1.0ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 46.3ms | Allocations: 17742)
Completed 200 OK in 106ms (Views: 57.5ms | ActiveRecord: 0.0ms | Allocations: 19070)


Started GET "/" for ::1 at 2025-03-22 21:10:16 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.1ms | Allocations: 7)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | Allocations: 2035)
Completed 200 OK in 11ms (Views: 7.2ms | ActiveRecord: 0.0ms | Allocations: 2651)


Started GET "/" for ::1 at 2025-03-22 21:10:21 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1350)
  Rendered shared/_flash.html.erb (Duration: 0.8ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 34.7ms | Allocations: 17887)
Completed 200 OK in 76ms (Views: 42.6ms | ActiveRecord: 0.0ms | Allocations: 19218)


Started GET "/" for ::1 at 2025-03-22 21:10:22 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.4ms | Allocations: 125)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | Allocations: 2153)
Completed 200 OK in 12ms (Views: 8.5ms | ActiveRecord: 0.0ms | Allocations: 2769)


Started DELETE "/sign-out" for ::1 at 2025-03-22 21:10:31 -0700
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 4ms (ActiveRecord: 0.0ms | Allocations: 628)


Started GET "/" for ::1 at 2025-03-22 21:10:31 -0700
Processing by MainController#home as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.5ms | Allocations: 125)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | Allocations: 2233)
Completed 200 OK in 13ms (Views: 8.9ms | ActiveRecord: 0.0ms | Allocations: 2916)


Started GET "/" for ::1 at 2025-03-22 21:10:40 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1256)
  Rendered shared/_flash.html.erb (Duration: 1.0ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 37.3ms | Allocations: 17812)
Completed 200 OK in 84ms (Views: 44.7ms | ActiveRecord: 0.0ms | Allocations: 19132)


Started GET "/sign-out" for ::1 at 2025-03-22 21:10:41 -0700
  
ActionController::RoutingError (No route matches [GET] "/sign-out"):
  
Started GET "/" for ::1 at 2025-03-22 21:10:53 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1353)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 38.9ms | Allocations: 17922)
Completed 200 OK in 78ms (Views: 46.4ms | ActiveRecord: 0.0ms | Allocations: 19249)


Started GET "/" for ::1 at 2025-03-22 21:10:56 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.4ms | Allocations: 127)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 10.6ms | Allocations: 2162)
Completed 200 OK in 15ms (Views: 11.3ms | ActiveRecord: 0.0ms | Allocations: 2796)


Started GET "/" for ::1 at 2025-03-22 21:11:06 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1352)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered shared/_navbar.html.erb (Duration: 0.6ms | Allocations: 231)
  Rendered layout layouts/application.html.erb (Duration: 37.3ms | Allocations: 18248)
Completed 200 OK in 51ms (Views: 45.8ms | ActiveRecord: 0.0ms | Allocations: 19578)


Started DELETE "/sign-out" for ::1 at 2025-03-22 21:11:08 -0700
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 4ms (ActiveRecord: 0.0ms | Allocations: 622)


Started GET "/" for ::1 at 2025-03-22 21:11:09 -0700
Processing by MainController#home as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.4ms | Allocations: 127)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 2271)
Completed 200 OK in 11ms (Views: 7.6ms | ActiveRecord: 0.0ms | Allocations: 2957)


Started GET "/sign-in" for ::1 at 2025-03-22 21:11:09 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 6.5ms | Allocations: 1559)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 24)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 13.2ms | Allocations: 3690)
Completed 200 OK in 52ms (Views: 18.3ms | ActiveRecord: 2.8ms | Allocations: 16680)


Started GET "/sign-up" for ::1 at 2025-03-22 21:11:10 -0700
Processing by RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1306)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 24)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | Allocations: 3406)
Completed 200 OK in 19ms (Views: 13.9ms | ActiveRecord: 0.0ms | Allocations: 4269)


Started GET "/sign-in" for ::1 at 2025-03-22 21:11:10 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.2ms | Allocations: 482)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 2577)
Completed 200 OK in 13ms (Views: 9.6ms | ActiveRecord: 0.0ms | Allocations: 3213)


Started GET "/" for ::1 at 2025-03-22 21:11:13 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.4ms | Allocations: 127)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | Allocations: 2222)
Completed 200 OK in 11ms (Views: 7.8ms | ActiveRecord: 0.0ms | Allocations: 2841)


Started GET "/" for ::1 at 2025-03-22 21:11:13 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.4ms | Allocations: 127)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 12.2ms | Allocations: 2223)
Completed 200 OK in 16ms (Views: 13.0ms | ActiveRecord: 0.0ms | Allocations: 2851)


Started GET "/" for ::1 at 2025-03-22 21:11:34 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1181)
  Rendered shared/_flash.html.erb (Duration: 0.9ms | Allocations: 204)
  Rendered shared/_navbar.html.erb (Duration: 0.6ms | Allocations: 224)
  Rendered layout layouts/application.html.erb (Duration: 44.1ms | Allocations: 18117)
Completed 200 OK in 90ms (Views: 52.4ms | ActiveRecord: 0.0ms | Allocations: 19443)


Started GET "/" for ::1 at 2025-03-22 21:11:35 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.1ms | Allocations: 7)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | Allocations: 2110)
Completed 200 OK in 11ms (Views: 7.3ms | ActiveRecord: 0.0ms | Allocations: 2732)


Started GET "/" for ::1 at 2025-03-22 21:11:36 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.1ms | Allocations: 7)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.1ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 9.7ms | Allocations: 2102)
Completed 200 OK in 14ms (Views: 10.5ms | ActiveRecord: 0.0ms | Allocations: 2733)


Started GET "/" for ::1 at 2025-03-22 21:12:07 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1187)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered shared/_navbar.html.erb (Duration: 0.7ms | Allocations: 224)
  Rendered layout layouts/application.html.erb (Duration: 39.1ms | Allocations: 18091)
Completed 200 OK in 86ms (Views: 48.0ms | ActiveRecord: 0.0ms | Allocations: 19414)


Started GET "/" for ::1 at 2025-03-22 21:12:31 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1385)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered shared/_navbar.html.erb (Duration: 0.8ms | Allocations: 224)
  Rendered layout layouts/application.html.erb (Duration: 36.6ms | Allocations: 18271)
Completed 200 OK in 83ms (Views: 44.0ms | ActiveRecord: 0.0ms | Allocations: 19593)


Started DELETE "/sign-in" for ::1 at 2025-03-22 21:12:34 -0700
  
ActionController::RoutingError (No route matches [DELETE] "/sign-in"):
  
Started GET "/" for ::1 at 2025-03-22 21:12:35 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.3ms | Allocations: 127)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | Allocations: 2237)
Completed 200 OK in 11ms (Views: 8.0ms | ActiveRecord: 0.0ms | Allocations: 2847)


Started DELETE "/sign-in" for ::1 at 2025-03-22 21:12:36 -0700
  
ActionController::RoutingError (No route matches [DELETE] "/sign-in"):
  
Started GET "/" for ::1 at 2025-03-22 21:12:36 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.4ms | Allocations: 127)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 2237)
Completed 200 OK in 13ms (Views: 9.2ms | ActiveRecord: 0.0ms | Allocations: 2856)


Started DELETE "/sign-in" for ::1 at 2025-03-22 21:12:39 -0700
  
ActionController::RoutingError (No route matches [DELETE] "/sign-in"):
  
Started GET "/" for ::1 at 2025-03-22 21:12:40 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1293)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered shared/_navbar.html.erb (Duration: 0.6ms | Allocations: 225)
  Rendered layout layouts/application.html.erb (Duration: 36.3ms | Allocations: 18213)
Completed 200 OK in 80ms (Views: 43.4ms | ActiveRecord: 0.0ms | Allocations: 19488)


Started DELETE "/sign-in" for ::1 at 2025-03-22 21:12:40 -0700
  
ActionController::RoutingError (No route matches [DELETE] "/sign-in"):
  
Started GET "/" for ::1 at 2025-03-22 21:12:51 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1278)
  Rendered shared/_flash.html.erb (Duration: 0.8ms | Allocations: 202)
  Rendered shared/_navbar.html.erb (Duration: 0.7ms | Allocations: 224)
  Rendered layout layouts/application.html.erb (Duration: 40.5ms | Allocations: 18195)
Completed 200 OK in 88ms (Views: 48.0ms | ActiveRecord: 0.0ms | Allocations: 19521)


Started GET "/sign-in" for ::1 at 2025-03-22 21:12:53 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.8ms | Allocations: 781)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 24)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 2881)
Completed 200 OK in 29ms (Views: 14.0ms | ActiveRecord: 2.9ms | Allocations: 8368)


Started GET "/sign-in" for ::1 at 2025-03-22 21:12:57 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.9ms | Allocations: 482)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 2578)
Completed 200 OK in 12ms (Views: 8.8ms | ActiveRecord: 0.0ms | Allocations: 3211)


Started GET "/sign-in" for ::1 at 2025-03-22 21:13:01 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 482)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered shared/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | Allocations: 2577)
Completed 200 OK in 12ms (Views: 8.5ms | ActiveRecord: 0.0ms | Allocations: 3224)


Started GET "/" for ::1 at 2025-03-22 21:13:10 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1282)
  Rendered shared/_flash.html.erb (Duration: 0.8ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 34.9ms | Allocations: 17836)
Completed 200 OK in 47ms (Views: 42.7ms | ActiveRecord: 0.0ms | Allocations: 19159)


Started GET "/sign-in" for ::1 at 2025-03-22 21:13:11 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.8ms | Allocations: 770)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 2803)
Completed 200 OK in 28ms (Views: 13.7ms | ActiveRecord: 3.1ms | Allocations: 8269)


Started POST "/sign-in" for ::1 at 2025-03-22 21:13:13 -0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user1", "password"=>"[FILTERED]"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:12:in `create'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.1ms | Allocations: 2061)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 19)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 4081)
Completed 200 OK in 31ms (Views: 8.8ms | ActiveRecord: 0.2ms | Allocations: 7724)


Started POST "/sign-in" for ::1 at 2025-03-22 21:13:16 -0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "username"=>"user2", "password"=>"[FILTERED]", "commit"=>"Sign In"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "user2"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:12:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 189ms (ActiveRecord: 0.2ms | Allocations: 1717)


Started GET "/" for ::1 at 2025-03-22 21:13:17 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.5ms | Allocations: 134)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 2167)
Completed 200 OK in 15ms (Views: 9.5ms | ActiveRecord: 0.1ms | Allocations: 3795)


Started DELETE "/sign-out" for ::1 at 2025-03-22 21:13:24 -0700
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.1ms | Allocations: 906)


Started GET "/" for ::1 at 2025-03-22 21:13:24 -0700
Processing by MainController#home as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.2ms | Allocations: 46)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | Allocations: 2124)
Completed 200 OK in 11ms (Views: 7.5ms | ActiveRecord: 0.0ms | Allocations: 2788)


Started GET "/sign-in" for ::1 at 2025-03-22 21:13:59 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 482)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | Allocations: 2510)
Completed 200 OK in 11ms (Views: 7.9ms | ActiveRecord: 0.0ms | Allocations: 3148)


Started POST "/sign-in" for ::1 at 2025-03-22 21:14:02 -0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user1", "password"=>"[FILTERED]"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:12:in `create'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 2131)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 19)
  Rendered layout layouts/application.html.erb (Duration: 15.9ms | Allocations: 4161)
Completed 200 OK in 22ms (Views: 16.8ms | ActiveRecord: 0.1ms | Allocations: 5277)


Started POST "/sign-in" for ::1 at 2025-03-22 21:14:06 -0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "username"=>"user2", "password"=>"[FILTERED]", "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "user2"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:12:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 190ms (ActiveRecord: 0.1ms | Allocations: 944)


Started GET "/" for ::1 at 2025-03-22 21:14:06 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.4ms | Allocations: 127)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 2167)
Completed 200 OK in 13ms (Views: 7.7ms | ActiveRecord: 0.2ms | Allocations: 3152)


Started GET "/" for ::1 at 2025-03-22 21:15:21 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.0ms | Allocations: 2229)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | Allocations: 2315)
Completed 500 Internal Server Error in 81ms (ActiveRecord: 3.2ms | Allocations: 9416)


  
ActionView::Template::Error (undefined local variable or method `form' for an instance of #<Class:0x000001349a019c60>):
    541:       <form id="new-prompt-form">
    542:         <div style="margin-bottom: 16px;">
    543:           <label for="prompt-title" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt Title</label>
    544:           <%= form.number_field :uid, class: "form-control", placeholder: "123" %>
    545:           <%# <input type="text" id="prompt-title" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Enter a title for your prompt" /> %>
    546:         </div>
    547:         <div style="margin-bottom: 16px;">
  
app/views/main/home.html.erb:544
Started GET "/" for ::1 at 2025-03-22 21:16:19 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 5.0ms | Allocations: 3652)
  Rendered shared/_flash.html.erb (Duration: 0.8ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 37.0ms | Allocations: 20187)
Completed 200 OK in 122ms (Views: 44.3ms | ActiveRecord: 3.5ms | Allocations: 27284)


Started POST "/new_prompt" for ::1 at 2025-03-22 21:16:28 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "uid"=>"1234121", "system_prompt"=>"Test", "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
Completed 400 Bad Request in 16ms (ActiveRecord: 0.1ms | Allocations: 3102)


  
ActionController::ParameterMissing (param is missing or the value is empty: prompt_session):
  
app/controllers/promptsession_controller.rb:41:in `prompt_params'
app/controllers/promptsession_controller.rb:16:in `set_prompt'
Started GET "/" for ::1 at 2025-03-22 21:16:41 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.0ms | Allocations: 3497)
  Rendered shared/_flash.html.erb (Duration: 0.8ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 35.3ms | Allocations: 20033)
Completed 200 OK in 133ms (Views: 42.4ms | ActiveRecord: 2.8ms | Allocations: 27194)


Started POST "/new_prompt" for ::1 at 2025-03-22 21:16:45 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "uid"=>"1", "system_prompt"=>"asdf", "commit"=>"Create form"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
Completed 400 Bad Request in 11ms (ActiveRecord: 0.1ms | Allocations: 2714)


  
ActionController::ParameterMissing (param is missing or the value is empty: prompt_session):
  
app/controllers/promptsession_controller.rb:41:in `prompt_params'
app/controllers/promptsession_controller.rb:16:in `set_prompt'
Started POST "/new_prompt" for ::1 at 2025-03-22 21:17:53 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "uid"=>"1", "system_prompt"=>"asdf", "commit"=>"Create form"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
Completed 400 Bad Request in 24ms (ActiveRecord: 2.7ms | Allocations: 8089)


  
ActionController::ParameterMissing (param is missing or the value is empty: prompt_session):
  
app/controllers/promptsession_controller.rb:41:in `prompt_params'
app/controllers/promptsession_controller.rb:16:in `set_prompt'
Started GET "/" for ::1 at 2025-03-22 21:17:57 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.6ms | Allocations: 2118)
  Rendered shared/_flash.html.erb (Duration: 0.8ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 36.0ms | Allocations: 18653)
Completed 200 OK in 59ms (Views: 43.7ms | ActiveRecord: 0.5ms | Allocations: 25324)


Started POST "/new_prompt" for ::1 at 2025-03-22 21:18:02 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "system_prompt"=>"yay prompt"}, "commit"=>"Create form"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  Rendering layout layouts/application.html.erb
  Rendering promptsession/new.html.erb within layouts/application
  Rendered promptsession/new.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1669)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 15.0ms | Allocations: 3709)
Completed 200 OK in 52ms (Views: 22.0ms | ActiveRecord: 1.5ms | Allocations: 12118)


Started GET "/new_prompt" for ::1 at 2025-03-22 21:18:39 -0700
  
ActionController::RoutingError (No route matches [GET] "/new_prompt"):
  
Started GET "/" for ::1 at 2025-03-22 21:18:42 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.8ms | Allocations: 2061)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 36.8ms | Allocations: 18597)
Completed 200 OK in 76ms (Views: 49.1ms | ActiveRecord: 3.3ms | Allocations: 30492)


Started GET "/" for ::1 at 2025-03-22 21:18:43 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.2ms | Allocations: 611)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | Allocations: 2639)
Completed 200 OK in 14ms (Views: 9.0ms | ActiveRecord: 0.1ms | Allocations: 3642)


Started POST "/new_prompt" for ::1 at 2025-03-22 21:18:47 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "system_prompt"=>"yay prompt"}, "commit"=>"Create form"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 1.4ms | Allocations: 6472)


  
ActionView::MissingTemplate (Missing template / with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}.

Searched in:
  * "C:/Users/James/Documents/.Desktop_Docs/Code/Ruby/biztech/promptflow/app/views"
  * "C:/Users/James/.local/share/gem/ruby/3.3.0/gems/turbo-rails-2.0.13/app/views"
  * "C:/Users/James/.local/share/gem/ruby/3.3.0/gems/actiontext-7.1.5.1/app/views"
  * "C:/Users/James/.local/share/gem/ruby/3.3.0/gems/actionmailbox-7.1.5.1/app/views"
):
  
app/controllers/promptsession_controller.rb:23:in `set_prompt'
Started GET "/" for ::1 at 2025-03-22 21:19:13 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.4ms | Allocations: 2058)
  Rendered shared/_flash.html.erb (Duration: 0.8ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 37.6ms | Allocations: 18593)
Completed 200 OK in 72ms (Views: 45.2ms | ActiveRecord: 3.0ms | Allocations: 30538)


Started POST "/new_prompt" for ::1 at 2025-03-22 21:19:17 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "system_prompt"=>"asdf"}, "commit"=>"Create form"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (4.8ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
Redirected to http://localhost:3000/
Completed 302 Found in 17ms (ActiveRecord: 5.0ms | Allocations: 5807)


Started GET "/" for ::1 at 2025-03-22 21:19:17 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.1ms | Allocations: 611)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | Allocations: 2675)
Completed 200 OK in 13ms (Views: 8.3ms | ActiveRecord: 0.1ms | Allocations: 3678)


Started POST "/new_prompt" for ::1 at 2025-03-22 21:19:26 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"123", "system_prompt"=>"yay prompt"}, "commit"=>"Create form"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 123], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Create (0.7ms)[0m  [1m[32mINSERT INTO "prompt_sessions" ("uid", "system_prompt", "like_count", "dislike_count", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["uid", 123], ["system_prompt", "yay prompt"], ["like_count", 0], ["dislike_count", 0], ["user_id", 2], ["created_at", "2025-03-23 04:19:26.950977"], ["updated_at", "2025-03-23 04:19:26.950977"]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
Completed 200 OK in 17ms (Views: 0.2ms | ActiveRecord: 3.2ms | Allocations: 4826)


Started GET "/" for ::1 at 2025-03-22 21:19:34 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.0ms | Allocations: 611)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 2649)
Completed 200 OK in 14ms (Views: 9.3ms | ActiveRecord: 0.1ms | Allocations: 3647)


  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" ORDER BY "prompt_sessions"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mGoodFeedback Load (0.1ms)[0m  [1m[34mSELECT "good_feedbacks".* FROM "good_feedbacks" ORDER BY "good_feedbacks"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-03-23 04:33:52.122341', '2025-03-23 04:33:52.122343') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20250322211111)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "password_digest" varchar, "session_token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322211111') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePromptSessions (20250322224855)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "prompt_sessions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "uid" integer, "system_prompt" varchar, "like_count" integer, "dislike_count" integer, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_8e5cfb463f"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_prompt_sessions_on_user_id" ON "prompt_sessions" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322224855') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateGoodFeedbacks (20250322233105)
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateGoodFeedbacks (20250322233105)
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateGoodFeedbacks (20250322233105)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE TABLE "good_feedbacks" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "prompt_session_id" integer NOT NULL, "comment" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_d830e5dfaa"
FOREIGN KEY ("prompt_session_id")
  REFERENCES "prompt_sessions" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_good_feedbacks_on_prompt_session_id" ON "good_feedbacks" ("prompt_session_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322233105') RETURNING "version"[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateBadFeedbacks (20250322233120)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "bad_feedbacks" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "prompt_session_id" integer NOT NULL, "comment" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a944aabc96"
FOREIGN KEY ("prompt_session_id")
  REFERENCES "prompt_sessions" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_bad_feedbacks_on_prompt_session_id" ON "bad_feedbacks" ("prompt_session_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322233120') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/good_feed" for ::1 at 2025-03-22 21:40:16 -0700
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>123, "comment"=>"This is a sample comment.", "goodfeedback"=>{"prompt_session_id"=>123, "comment"=>"This is a sample comment."}}
Can't verify CSRF token authenticity.
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 587)


  
NameError (undefined local variable or method `good_feedbacks' for an instance of GoodfeedbackController):
  
app/controllers/goodfeedback_controller.rb:3:in `get_feedback'
Started POST "/good_feed" for ::1 at 2025-03-22 21:40:36 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>123, "comment"=>"This is a sample comment.", "goodfeedback"=>{"prompt_session_id"=>123, "comment"=>"This is a sample comment."}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001349ad13038>, params: {"prompt_session_id"=>123, "comment"=>"This is a sample comment.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>123, "comment"=>"This is a sample comment."}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001349ad13038>, params: {"prompt_session_id"=>123, "comment"=>"This is a sample comment.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>123, "comment"=>"This is a sample comment."}} }[0m
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 123], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:4:in `get_feedback'
Completed 500 Internal Server Error in 27ms (ActiveRecord: 3.0ms | Allocations: 7822)


  
NoMethodError (undefined method `like_count' for nil):
  
app/controllers/goodfeedback_controller.rb:5:in `get_feedback'
Started POST "/good_feed" for ::1 at 2025-03-22 21:40:54 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"This is a sample comment.", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"This is a sample comment."}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001349f6a2000>, params: {"prompt_session_id"=>1, "comment"=>"This is a sample comment.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"This is a sample comment."}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001349f6a2000>, params: {"prompt_session_id"=>1, "comment"=>"This is a sample comment.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"This is a sample comment."}} }[0m
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:4:in `get_feedback'
Completed 500 Internal Server Error in 21ms (ActiveRecord: 2.8ms | Allocations: 7119)


  
NoMethodError (undefined method `like_count' for nil):
  
app/controllers/goodfeedback_controller.rb:5:in `get_feedback'
Started POST "/good_feed" for ::1 at 2025-03-22 21:41:12 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"This is a sample comment.", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"This is a sample comment."}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001349d31c130>, params: {"prompt_session_id"=>1, "comment"=>"This is a sample comment.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"This is a sample comment."}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001349d31c130>, params: {"prompt_session_id"=>1, "comment"=>"This is a sample comment.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"This is a sample comment."}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:4:in `get_feedback'
Completed 200 OK in 22ms (Views: 0.1ms | ActiveRecord: 3.1ms | Allocations: 6810)


Started GET "/" for ::1 at 2025-03-22 21:41:18 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.2ms | Allocations: 3266)


  
NoMethodError (undefined method `id' for nil):
  
app/controllers/application_controller.rb:8:in `set_current_user'
Started GET "/" for ::1 at 2025-03-22 21:41:18 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms | Allocations: 1209)


  
NoMethodError (undefined method `id' for nil):
  
app/controllers/application_controller.rb:8:in `set_current_user'
Started GET "/" for ::1 at 2025-03-22 21:41:21 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.1ms | Allocations: 1209)


  
NoMethodError (undefined method `id' for nil):
  
app/controllers/application_controller.rb:8:in `set_current_user'
Started GET "/" for ::1 at 2025-03-22 21:41:22 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.1ms | Allocations: 1209)


  
NoMethodError (undefined method `id' for nil):
  
app/controllers/application_controller.rb:8:in `set_current_user'
Started GET "/" for ::1 at 2025-03-22 21:41:36 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1984)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 36.1ms | Allocations: 18521)
Completed 200 OK in 67ms (Views: 43.3ms | ActiveRecord: 2.8ms | Allocations: 27725)


Started GET "/sign-in" for ::1 at 2025-03-22 21:41:38 -0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.8ms | Allocations: 747)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | Allocations: 2779)
Completed 200 OK in 23ms (Views: 14.7ms | ActiveRecord: 0.2ms | Allocations: 6691)


Started POST "/sign-in" for ::1 at 2025-03-22 21:41:42 -0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user1", "password"=>"[FILTERED]"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:12:in `create'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 2133)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 19)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | Allocations: 4153)
Completed 200 OK in 14ms (Views: 8.3ms | ActiveRecord: 0.2ms | Allocations: 5680)


Started POST "/sign-in" for ::1 at 2025-03-22 21:42:10 -0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "username"=>"", "password"=>"[FILTERED]", "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", ""], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:12:in `create'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 2131)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 19)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | Allocations: 4151)
Completed 200 OK in 16ms (Views: 9.0ms | ActiveRecord: 0.2ms | Allocations: 5636)


Started GET "/sign-up" for ::1 at 2025-03-22 21:42:12 -0700
Processing by RegistrationsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1240)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layout layouts/application.html.erb (Duration: 12.6ms | Allocations: 3303)
Completed 200 OK in 24ms (Views: 17.5ms | ActiveRecord: 0.1ms | Allocations: 4505)


Started POST "/sign-up" for ::1 at 2025-03-22 21:42:20 -0700
Processing by RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user1", "email"=>"user@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "user1"], ["LIMIT", 1]]
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "session_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["username", "user1"], ["email", "user@email.com"], ["password_digest", "[FILTERED]"], ["session_token", "[FILTERED]"], ["created_at", "2025-03-23 04:42:20.678992"], ["updated_at", "2025-03-23 04:42:20.678992"]]
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 195ms (ActiveRecord: 2.8ms | Allocations: 4132)


Started GET "/" for ::1 at 2025-03-22 21:42:20 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.2ms | Allocations: 616)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 2674)
Completed 200 OK in 14ms (Views: 8.7ms | ActiveRecord: 0.1ms | Allocations: 3701)


Started POST "/new_prompt" for ::1 at 2025-03-22 21:42:34 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "system_prompt"=>"Yay prompt"}, "commit"=>"Create form"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Create (0.3ms)[0m  [1m[32mINSERT INTO "prompt_sessions" ("uid", "system_prompt", "like_count", "dislike_count", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["uid", 1], ["system_prompt", "Yay prompt"], ["like_count", 0], ["dislike_count", 0], ["user_id", 1], ["created_at", "2025-03-23 04:42:34.715098"], ["updated_at", "2025-03-23 04:42:34.715098"]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
Completed 200 OK in 15ms (Views: 0.3ms | ActiveRecord: 1.7ms | Allocations: 6111)


Started GET "/" for ::1 at 2025-03-22 21:42:37 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.1ms | Allocations: 611)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | Allocations: 2640)
Completed 200 OK in 13ms (Views: 8.5ms | ActiveRecord: 0.1ms | Allocations: 3634)


Started POST "/good_feed" for ::1 at 2025-03-22 21:42:41 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"This is a sample comment.", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"This is a sample comment."}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001349ad97c70>, params: {"prompt_session_id"=>1, "comment"=>"This is a sample comment.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"This is a sample comment."}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001349ad97c70>, params: {"prompt_session_id"=>1, "comment"=>"This is a sample comment.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"This is a sample comment."}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:4:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001349ad97c70>, params: {"prompt_session_id"=>1, "comment"=>"This is a sample comment.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"This is a sample comment."}} }[0m
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.4ms | Allocations: 5164)


  
NoMethodError (undefined method `comment=' for an instance of ActiveRecord::Associations::CollectionProxy):
  
app/controllers/goodfeedback_controller.rb:7:in `get_feedback'
Started POST "/good_feed" for ::1 at 2025-03-22 21:43:08 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"This is a sample comment.", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"This is a sample comment."}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001349de335c8>, params: {"prompt_session_id"=>1, "comment"=>"This is a sample comment.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"This is a sample comment."}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001349de335c8>, params: {"prompt_session_id"=>1, "comment"=>"This is a sample comment.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"This is a sample comment."}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:4:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001349de335c8>, params: {"prompt_session_id"=>1, "comment"=>"This is a sample comment.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"This is a sample comment."}} }[0m
  [1m[36mGoodFeedback Load (0.3ms)[0m  [1m[34mSELECT "good_feedbacks".* FROM "good_feedbacks" WHERE "good_feedbacks"."prompt_session_id" = ?[0m  [["prompt_session_id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
Completed 200 OK in 32ms (Views: 3.4ms | ActiveRecord: 4.0ms | Allocations: 11743)


Started POST "/good_feed" for ::1 at 2025-03-22 21:43:15 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"This is a sample comment.", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"This is a sample comment."}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001349cc356f0>, params: {"prompt_session_id"=>1, "comment"=>"This is a sample comment.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"This is a sample comment."}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001349cc356f0>, params: {"prompt_session_id"=>1, "comment"=>"This is a sample comment.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"This is a sample comment."}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:4:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001349cc356f0>, params: {"prompt_session_id"=>1, "comment"=>"This is a sample comment.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"This is a sample comment."}} }[0m
Completed 200 OK in 23ms (Views: 0.3ms | ActiveRecord: 3.1ms | Allocations: 9908)


Started POST "/good_feed" for ::1 at 2025-03-22 21:43:32 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"This is a sample comment.", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"This is a sample comment."}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000134982e5b58>, params: {"prompt_session_id"=>1, "comment"=>"This is a sample comment.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"This is a sample comment."}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000134982e5b58>, params: {"prompt_session_id"=>1, "comment"=>"This is a sample comment.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"This is a sample comment."}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:4:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000134982e5b58>, params: {"prompt_session_id"=>1, "comment"=>"This is a sample comment.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"This is a sample comment."}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
  [1m[36mGoodFeedback Create (1.2ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "This is a sample comment."], ["created_at", "2025-03-23 04:43:32.673372"], ["updated_at", "2025-03-23 04:43:32.673372"]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
Completed 200 OK in 33ms (Views: 0.5ms | ActiveRecord: 5.9ms | Allocations: 11486)


Started POST "/good_feed" for ::1 at 2025-03-22 21:43:44 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"This is a sample comment.", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"This is a sample comment."}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001349d50eb00>, params: {"prompt_session_id"=>1, "comment"=>"This is a sample comment.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"This is a sample comment."}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001349d50eb00>, params: {"prompt_session_id"=>1, "comment"=>"This is a sample comment.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"This is a sample comment."}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:4:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001349d50eb00>, params: {"prompt_session_id"=>1, "comment"=>"This is a sample comment.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"This is a sample comment."}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
  [1m[36mGoodFeedback Create (1.1ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "This is a sample comment."], ["created_at", "2025-03-23 04:43:44.434130"], ["updated_at", "2025-03-23 04:43:44.434130"]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
  [1m[36mGoodFeedback Load (0.1ms)[0m  [1m[34mSELECT "good_feedbacks".* FROM "good_feedbacks" WHERE "good_feedbacks"."prompt_session_id" = ?[0m  [["prompt_session_id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:9:in `get_feedback'
Completed 200 OK in 31ms (Views: 2.7ms | ActiveRecord: 5.7ms | Allocations: 13262)


  [1m[36mGoodFeedback Load (0.1ms)[0m  [1m[34mSELECT "good_feedbacks".* FROM "good_feedbacks" ORDER BY "good_feedbacks"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mGoodFeedback Load (0.1ms)[0m  [1m[34mSELECT "good_feedbacks".* FROM "good_feedbacks" ORDER BY "good_feedbacks"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mGoodFeedback Destroy (0.1ms)[0m  [1m[31mDELETE FROM "good_feedbacks" WHERE "good_feedbacks"."id" = ?[0m  [["id", 2]]
  [1m[36mGoodFeedback Load (0.1ms)[0m  [1m[34mSELECT "good_feedbacks".* FROM "good_feedbacks" ORDER BY "good_feedbacks"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mGoodFeedback Destroy (0.1ms)[0m  [1m[31mDELETE FROM "good_feedbacks" WHERE "good_feedbacks"."id" = ?[0m  [["id", 1]]
  [1m[36mGoodFeedback Load (0.1ms)[0m  [1m[34mSELECT "good_feedbacks".* FROM "good_feedbacks" ORDER BY "good_feedbacks"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/" for ::1 at 2025-03-22 21:45:45 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.6ms | Allocations: 2067)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 33.2ms | Allocations: 18603)
Completed 200 OK in 123ms (Views: 40.6ms | ActiveRecord: 2.3ms | Allocations: 30534)


Started POST "/good_feed" for ::1 at 2025-03-22 21:46:02 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"This is a sample comment.", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"This is a sample comment."}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001349a590dd8>, params: {"prompt_session_id"=>1, "comment"=>"This is a sample comment.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"This is a sample comment."}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001349a590dd8>, params: {"prompt_session_id"=>1, "comment"=>"This is a sample comment.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"This is a sample comment."}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:4:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001349a590dd8>, params: {"prompt_session_id"=>1, "comment"=>"This is a sample comment.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"This is a sample comment."}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
  [1m[36mGoodFeedback Create (1.0ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "This is a sample comment."], ["created_at", "2025-03-23 04:46:02.357305"], ["updated_at", "2025-03-23 04:46:02.357305"]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
  [1m[36mGoodFeedback Load (0.1ms)[0m  [1m[34mSELECT "good_feedbacks".* FROM "good_feedbacks" WHERE "good_feedbacks"."prompt_session_id" = ?[0m  [["prompt_session_id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:9:in `get_feedback'
Completed 200 OK in 17ms (Views: 2.0ms | ActiveRecord: 1.6ms | Allocations: 7777)


Started POST "/good_feed" for ::1 at 2025-03-22 21:46:11 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>3, "comment"=>"AAAAAAAAA.", "goodfeedback"=>{"prompt_session_id"=>3, "comment"=>"AAAAAAAAA."}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001349dc3b400>, params: {"prompt_session_id"=>3, "comment"=>"AAAAAAAAA.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>3, "comment"=>"AAAAAAAAA."}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001349dc3b400>, params: {"prompt_session_id"=>3, "comment"=>"AAAAAAAAA.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>3, "comment"=>"AAAAAAAAA."}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 3], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:4:in `get_feedback'
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 700)


Started POST "/good_feed" for ::1 at 2025-03-22 21:46:16 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001349dbde2f0>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001349dbde2f0>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:4:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001349dbde2f0>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
  [1m[36mGoodFeedback Create (1.5ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "AAAAAAAAA."], ["created_at", "2025-03-23 04:46:16.241019"], ["updated_at", "2025-03-23 04:46:16.241019"]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
  [1m[36mGoodFeedback Load (0.1ms)[0m  [1m[34mSELECT "good_feedbacks".* FROM "good_feedbacks" WHERE "good_feedbacks"."prompt_session_id" = ?[0m  [["prompt_session_id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:9:in `get_feedback'
Completed 200 OK in 15ms (Views: 2.0ms | ActiveRecord: 2.0ms | Allocations: 2954)


Started GET "/" for ::1 at 2025-03-22 21:47:15 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.6ms | Allocations: 2126)
  Rendered shared/_flash.html.erb (Duration: 0.8ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 35.0ms | Allocations: 18662)
Completed 200 OK in 135ms (Views: 42.3ms | ActiveRecord: 2.6ms | Allocations: 30586)


Started DELETE "/sign-out" for ::1 at 2025-03-22 21:47:21 -0700
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.1ms | Allocations: 984)


Started GET "/" for ::1 at 2025-03-22 21:47:21 -0700
Processing by MainController#home as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.8ms | Allocations: 537)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | Allocations: 2614)
Completed 200 OK in 11ms (Views: 8.1ms | ActiveRecord: 0.0ms | Allocations: 3307)


Started GET "/" for ::1 at 2025-03-22 21:48:35 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.7ms | Allocations: 2159)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 36.0ms | Allocations: 18698)
Completed 200 OK in 58ms (Views: 43.1ms | ActiveRecord: 1.8ms | Allocations: 25483)


Started GET "/" for ::1 at 2025-03-22 21:48:35 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.6ms | Allocations: 533)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | Allocations: 2561)
Completed 200 OK in 13ms (Views: 9.0ms | ActiveRecord: 0.0ms | Allocations: 3197)


Started GET "/" for ::1 at 2025-03-22 21:49:53 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 4.2ms | Allocations: 2208)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 35.3ms | Allocations: 18748)
Completed 200 OK in 117ms (Views: 42.7ms | ActiveRecord: 2.1ms | Allocations: 25522)


Started GET "/" for ::1 at 2025-03-22 21:50:09 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 5.6ms | Allocations: 2220)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 37.8ms | Allocations: 18759)
Completed 200 OK in 115ms (Views: 45.9ms | ActiveRecord: 1.9ms | Allocations: 25523)


Started GET "/" for ::1 at 2025-03-22 21:50:24 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.7ms | Allocations: 2217)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 66.9ms | Allocations: 18585)
Completed 200 OK in 156ms (Views: 74.1ms | ActiveRecord: 1.8ms | Allocations: 25316)


Started GET "/" for ::1 at 2025-03-22 21:51:00 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.9ms | Allocations: 2205)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 35.0ms | Allocations: 18623)
Completed 200 OK in 119ms (Views: 42.0ms | ActiveRecord: 15.5ms | Allocations: 25409)


Started GET "/" for ::1 at 2025-03-22 21:51:18 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 4.8ms | Allocations: 2303)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 38.5ms | Allocations: 18840)
Completed 200 OK in 120ms (Views: 45.7ms | ActiveRecord: 2.1ms | Allocations: 25613)


Started GET "/" for ::1 at 2025-03-22 21:51:57 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 9.8ms | Allocations: 2315)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 44.4ms | Allocations: 18884)
Completed 200 OK in 124ms (Views: 51.6ms | ActiveRecord: 2.0ms | Allocations: 25631)


Started GET "/" for ::1 at 2025-03-22 21:52:21 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 4.0ms | Allocations: 2314)
  Rendered shared/_flash.html.erb (Duration: 0.9ms | Allocations: 206)
  Rendered layout layouts/application.html.erb (Duration: 38.9ms | Allocations: 18719)
Completed 200 OK in 118ms (Views: 46.3ms | ActiveRecord: 1.8ms | Allocations: 25519)


Started GET "/sign-in" for ::1 at 2025-03-22 21:52:32 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.7ms | Allocations: 743)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | Allocations: 2807)
Completed 200 OK in 23ms (Views: 12.6ms | ActiveRecord: 0.3ms | Allocations: 7662)


Started POST "/sign-in" for ::1 at 2025-03-22 21:52:35 -0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user1", "password"=>"[FILTERED]"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:12:in `create'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.1ms | Allocations: 2133)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 19)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 4153)
Completed 200 OK in 13ms (Views: 7.7ms | ActiveRecord: 0.2ms | Allocations: 5452)


Started POST "/sign-in" for ::1 at 2025-03-22 21:52:38 -0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "username"=>"user1", "password"=>"[FILTERED]", "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "user1"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:12:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 190ms (ActiveRecord: 0.1ms | Allocations: 1107)


Started GET "/" for ::1 at 2025-03-22 21:52:38 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.2ms | Allocations: 616)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | Allocations: 2649)
Completed 200 OK in 13ms (Views: 7.5ms | ActiveRecord: 0.1ms | Allocations: 4270)


Started POST "/new_prompt" for ::1 at 2025-03-22 21:53:29 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "system_prompt"=>"asdf"}, "commit"=>"Create form"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
Redirected to http://localhost:3000/
Completed 302 Found in 12ms (ActiveRecord: 1.4ms | Allocations: 5743)


Started GET "/" for ::1 at 2025-03-22 21:53:29 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.0ms | Allocations: 611)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 2645)
Completed 200 OK in 12ms (Views: 7.6ms | ActiveRecord: 0.1ms | Allocations: 3661)


Started GET "/" for ::1 at 2025-03-22 21:55:47 -0700
  
SyntaxError (C:/Users/James/Documents/.Desktop_Docs/Code/Ruby/biztech/promptflow/app/controllers/main_controller.rb:8: syntax error, unexpected end-of-input, expecting `end' or dummy end):
  
app/controllers/main_controller.rb:8: syntax error, unexpected end-of-input, expecting `end' or dummy end
Started GET "/" for ::1 at 2025-03-22 21:55:54 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 2.2ms | Allocations: 11596)


  
NoMethodError (undefined method `prompt_sessions' for an instance of User):
  
app/controllers/main_controller.rb:5:in `home'
Started GET "/" for ::1 at 2025-03-22 21:56:00 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:6:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.0ms | Allocations: 2282)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 33.8ms | Allocations: 18818)
Completed 200 OK in 142ms (Views: 41.1ms | ActiveRecord: 3.2ms | Allocations: 32938)


Started GET "/" for ::1 at 2025-03-22 21:56:36 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:6:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.0ms | Allocations: 611)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | Allocations: 2639)
Completed 200 OK in 15ms (Views: 8.2ms | ActiveRecord: 0.1ms | Allocations: 4126)


Started GET "/" for ::1 at 2025-03-22 21:57:14 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:6:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.7ms | Allocations: 2285)
  Rendered shared/_flash.html.erb (Duration: 0.8ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 39.4ms | Allocations: 18825)
Completed 200 OK in 153ms (Views: 47.2ms | ActiveRecord: 2.5ms | Allocations: 32858)


Started GET "/" for ::1 at 2025-03-22 21:57:42 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:6:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.7ms | Allocations: 2284)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 35.0ms | Allocations: 18820)
Completed 200 OK in 136ms (Views: 42.2ms | ActiveRecord: 2.3ms | Allocations: 32888)


Started POST "/new_prompt" for ::1 at 2025-03-22 21:59:00 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"2", "system_prompt"=>"asdf"}, "commit"=>"Create form"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 2], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Create (0.2ms)[0m  [1m[32mINSERT INTO "prompt_sessions" ("uid", "system_prompt", "like_count", "dislike_count", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["uid", 2], ["system_prompt", "asdf"], ["like_count", 0], ["dislike_count", 0], ["user_id", 1], ["created_at", "2025-03-23 04:59:00.498802"], ["updated_at", "2025-03-23 04:59:00.498802"]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
Completed 200 OK in 37ms (Views: 0.2ms | ActiveRecord: 4.5ms | Allocations: 16330)


Started GET "/" for ::1 at 2025-03-22 21:59:02 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:6:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.6ms | Allocations: 2276)
  Rendered shared/_flash.html.erb (Duration: 0.9ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 36.0ms | Allocations: 18811)
Completed 200 OK in 126ms (Views: 43.3ms | ActiveRecord: 0.2ms | Allocations: 21775)


Started GET "/" for ::1 at 2025-03-22 22:02:25 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:6:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 18.7ms | Allocations: 2315)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 63.9ms | Allocations: 18855)
Completed 200 OK in 200ms (Views: 72.3ms | ActiveRecord: 4.6ms | Allocations: 32906)


Started GET "/" for ::1 at 2025-03-22 22:03:01 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:6:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.6ms | Allocations: 2326)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 39.9ms | Allocations: 18820)
Completed 200 OK in 143ms (Views: 47.4ms | ActiveRecord: 2.5ms | Allocations: 32872)


Started GET "/" for ::1 at 2025-03-22 22:03:02 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:6:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.0ms | Allocations: 614)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | Allocations: 2649)
Completed 200 OK in 15ms (Views: 8.4ms | ActiveRecord: 0.2ms | Allocations: 4144)


  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" ORDER BY "prompt_sessions"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/" for ::1 at 2025-03-22 22:03:24 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:6:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.0ms | Allocations: 614)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | Allocations: 2642)
Completed 200 OK in 16ms (Views: 9.0ms | ActiveRecord: 0.2ms | Allocations: 4140)


Started GET "/" for ::1 at 2025-03-22 22:03:36 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:6:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.4ms | Allocations: 2326)
  Rendered shared/_flash.html.erb (Duration: 0.8ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 34.2ms | Allocations: 18862)
Completed 200 OK in 140ms (Views: 41.6ms | ActiveRecord: 8.0ms | Allocations: 32916)


Started GET "/" for ::1 at 2025-03-22 22:03:53 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:6:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 4.0ms | Allocations: 2382)
  Rendered shared/_flash.html.erb (Duration: 1.0ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 50.1ms | Allocations: 18918)
Completed 200 OK in 151ms (Views: 57.6ms | ActiveRecord: 2.4ms | Allocations: 33029)


Started GET "/1" for ::1 at 2025-03-22 22:07:02 -0700
  
ActionController::RoutingError (No route matches [GET] "/1"):
  
Started GET "/" for ::1 at 2025-03-22 22:08:58 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:6:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.2ms | Allocations: 2380)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 36.7ms | Allocations: 18917)
Completed 200 OK in 107ms (Views: 45.5ms | ActiveRecord: 2.8ms | Allocations: 32993)


Started GET "/get/1" for ::1 at 2025-03-22 22:09:01 -0700
Processing by MainController#get as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/main_controller.rb:11:in `get'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:15:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/get.html.erb within layouts/application
  Rendered main/get.html.erb within layouts/application (Duration: 2.8ms | Allocations: 2268)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 4292)
Completed 200 OK in 81ms (Views: 10.0ms | ActiveRecord: 0.3ms | Allocations: 6870)


Started GET "/get/1" for ::1 at 2025-03-22 22:09:05 -0700
Processing by MainController#get as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/main_controller.rb:11:in `get'
  [1m[36mPromptSession Load (0.0ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:15:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/get.html.erb within layouts/application
  Rendered main/get.html.erb within layouts/application (Duration: 2.0ms | Allocations: 652)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 2676)
Completed 200 OK in 17ms (Views: 9.2ms | ActiveRecord: 0.2ms | Allocations: 4545)


Started GET "/get/10" for ::1 at 2025-03-22 22:09:10 -0700
Processing by MainController#get as HTML
  Parameters: {"id"=>"10"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 10], ["LIMIT", 1]]
  â†³ app/controllers/main_controller.rb:11:in `get'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:15:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/get.html.erb within layouts/application
  Rendered main/get.html.erb within layouts/application (Duration: 1.2ms | Allocations: 652)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 2676)
Completed 200 OK in 15ms (Views: 7.7ms | ActiveRecord: 0.2ms | Allocations: 4542)


Started GET "/get/10" for ::1 at 2025-03-22 22:09:36 -0700
Processing by MainController#get as HTML
  Parameters: {"id"=>"10"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 10], ["LIMIT", 1]]
  â†³ app/controllers/main_controller.rb:11:in `get'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:15:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/get.html.erb within layouts/application
  Rendered main/get.html.erb within layouts/application (Duration: 3.1ms | Allocations: 2379)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 34.7ms | Allocations: 18910)
Completed 200 OK in 72ms (Views: 41.8ms | ActiveRecord: 2.5ms | Allocations: 33849)


Started GET "/get/10" for ::1 at 2025-03-22 22:09:38 -0700
Processing by MainController#get as HTML
  Parameters: {"id"=>"10"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 10], ["LIMIT", 1]]
  â†³ app/controllers/main_controller.rb:11:in `get'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:15:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/get.html.erb within layouts/application
  Rendered main/get.html.erb within layouts/application (Duration: 1.3ms | Allocations: 652)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | Allocations: 2676)
Completed 200 OK in 16ms (Views: 8.1ms | ActiveRecord: 0.2ms | Allocations: 4518)


Started GET "/get/10" for ::1 at 2025-03-22 22:09:39 -0700
Processing by MainController#get as HTML
  Parameters: {"id"=>"10"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 10], ["LIMIT", 1]]
  â†³ app/controllers/main_controller.rb:11:in `get'
  [1m[36mPromptSession Load (0.0ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:15:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/get.html.erb within layouts/application
  Rendered main/get.html.erb within layouts/application (Duration: 4.6ms | Allocations: 652)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 11.2ms | Allocations: 2707)
Completed 200 OK in 19ms (Views: 11.9ms | ActiveRecord: 0.2ms | Allocations: 4564)


Started GET "/get/10" for ::1 at 2025-03-22 22:09:39 -0700
Processing by MainController#get as HTML
  Parameters: {"id"=>"10"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 10], ["LIMIT", 1]]
  â†³ app/controllers/main_controller.rb:11:in `get'
  [1m[36mPromptSession Load (0.0ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:15:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/get.html.erb within layouts/application
  Rendered main/get.html.erb within layouts/application (Duration: 1.1ms | Allocations: 652)
  Rendered shared/_flash.html.erb (Duration: 0.4ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | Allocations: 2678)
Completed 200 OK in 16ms (Views: 8.1ms | ActiveRecord: 0.2ms | Allocations: 4526)


Started GET "/get/10" for ::1 at 2025-03-22 22:09:39 -0700
Processing by MainController#get as HTML
  Parameters: {"id"=>"10"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 10], ["LIMIT", 1]]
  â†³ app/controllers/main_controller.rb:11:in `get'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:15:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/get.html.erb within layouts/application
  Rendered main/get.html.erb within layouts/application (Duration: 1.3ms | Allocations: 652)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | Allocations: 2676)
Completed 200 OK in 16ms (Views: 8.6ms | ActiveRecord: 0.2ms | Allocations: 4518)


Started GET "/get/10" for ::1 at 2025-03-22 22:09:41 -0700
Processing by MainController#get as HTML
  Parameters: {"id"=>"10"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 10], ["LIMIT", 1]]
  â†³ app/controllers/main_controller.rb:11:in `get'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:15:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/get.html.erb within layouts/application
  Rendered main/get.html.erb within layouts/application (Duration: 1.1ms | Allocations: 652)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | Allocations: 2676)
Completed 200 OK in 15ms (Views: 7.8ms | ActiveRecord: 0.2ms | Allocations: 4533)


Started GET "/get/10" for ::1 at 2025-03-22 22:09:48 -0700
Processing by MainController#get as HTML
  Parameters: {"id"=>"10"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 10], ["LIMIT", 1]]
  â†³ app/controllers/main_controller.rb:11:in `get'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:15:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/get.html.erb within layouts/application
  Rendered main/get.html.erb within layouts/application (Duration: 3.0ms | Allocations: 2380)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 35.3ms | Allocations: 18912)
Completed 200 OK in 76ms (Views: 42.2ms | ActiveRecord: 2.5ms | Allocations: 33919)


Started GET "/get/10" for ::1 at 2025-03-22 22:09:50 -0700
Processing by MainController#get as HTML
  Parameters: {"id"=>"10"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.0ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 10], ["LIMIT", 1]]
  â†³ app/controllers/main_controller.rb:11:in `get'
  [1m[36mPromptSession Load (0.0ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:15:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/get.html.erb within layouts/application
  Rendered main/get.html.erb within layouts/application (Duration: 1.1ms | Allocations: 652)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | Allocations: 2676)
Completed 200 OK in 15ms (Views: 8.5ms | ActiveRecord: 0.2ms | Allocations: 4525)


Started GET "/get/10" for ::1 at 2025-03-22 22:09:50 -0700
Processing by MainController#get as HTML
  Parameters: {"id"=>"10"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 10], ["LIMIT", 1]]
  â†³ app/controllers/main_controller.rb:11:in `get'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:15:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/get.html.erb within layouts/application
  Rendered main/get.html.erb within layouts/application (Duration: 1.1ms | Allocations: 652)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 2676)
Completed 200 OK in 15ms (Views: 7.6ms | ActiveRecord: 0.3ms | Allocations: 4539)


Started GET "/get/10" for ::1 at 2025-03-22 22:09:50 -0700
Processing by MainController#get as HTML
  Parameters: {"id"=>"10"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 10], ["LIMIT", 1]]
  â†³ app/controllers/main_controller.rb:11:in `get'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:15:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/get.html.erb within layouts/application
  Rendered main/get.html.erb within layouts/application (Duration: 1.4ms | Allocations: 652)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | Allocations: 2676)
Completed 200 OK in 17ms (Views: 8.5ms | ActiveRecord: 0.2ms | Allocations: 4530)


Started GET "/" for ::1 at 2025-03-22 22:09:54 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:6:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.0ms | Allocations: 2266)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 4325)
Completed 200 OK in 89ms (Views: 10.4ms | ActiveRecord: 0.2ms | Allocations: 5911)


Started GET "/get/1" for ::1 at 2025-03-22 22:09:56 -0700
Processing by MainController#get as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/main_controller.rb:11:in `get'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:15:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/get.html.erb within layouts/application
  Rendered main/get.html.erb within layouts/application (Duration: 1.7ms | Allocations: 652)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 2704)
Completed 200 OK in 17ms (Views: 8.8ms | ActiveRecord: 0.3ms | Allocations: 4553)


Started GET "/get/1" for ::1 at 2025-03-22 22:10:01 -0700
Processing by MainController#get as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/main_controller.rb:11:in `get'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:15:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/get.html.erb within layouts/application
  Rendered main/get.html.erb within layouts/application (Duration: 1.1ms | Allocations: 652)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | Allocations: 2678)
Completed 200 OK in 16ms (Views: 8.0ms | ActiveRecord: 0.2ms | Allocations: 4534)


Started GET "/get/1" for ::1 at 2025-03-22 22:10:06 -0700
Processing by MainController#get as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/main_controller.rb:11:in `get'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:15:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/get.html.erb within layouts/application
  Rendered main/get.html.erb within layouts/application (Duration: 1.7ms | Allocations: 652)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | Allocations: 2677)
Completed 200 OK in 18ms (Views: 10.0ms | ActiveRecord: 0.3ms | Allocations: 4550)


Started GET "/get/1" for ::1 at 2025-03-22 22:10:25 -0700
Processing by MainController#get as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/main_controller.rb:11:in `get'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:15:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/get.html.erb within layouts/application
  Rendered main/get.html.erb within layouts/application (Duration: 2.8ms | Allocations: 2380)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 36.3ms | Allocations: 18911)
Completed 200 OK in 72ms (Views: 43.3ms | ActiveRecord: 2.4ms | Allocations: 33878)


Started GET "/HOME" for ::1 at 2025-03-22 22:10:29 -0700
  
ActionController::RoutingError (No route matches [GET] "/HOME"):
  
Started GET "/get/1" for ::1 at 2025-03-22 22:11:20 -0700
Processing by MainController#get as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/main_controller.rb:11:in `get'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:15:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/get.html.erb within layouts/application
  Rendered main/get.html.erb within layouts/application (Duration: 3.2ms | Allocations: 2379)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 33.9ms | Allocations: 18910)
Completed 200 OK in 75ms (Views: 41.5ms | ActiveRecord: 2.7ms | Allocations: 33868)


Started GET "/get/1" for ::1 at 2025-03-22 22:11:30 -0700
Processing by MainController#get as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/main_controller.rb:11:in `get'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:15:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/get.html.erb within layouts/application
  Rendered main/get.html.erb within layouts/application (Duration: 3.7ms | Allocations: 2380)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 35.0ms | Allocations: 18911)
Completed 200 OK in 73ms (Views: 41.9ms | ActiveRecord: 2.5ms | Allocations: 33920)


Started GET "/get/1" for ::1 at 2025-03-22 22:11:31 -0700
Processing by MainController#get as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/main_controller.rb:11:in `get'
  [1m[36mPromptSession Load (0.0ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:15:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/get.html.erb within layouts/application
  Rendered main/get.html.erb within layouts/application (Duration: 1.2ms | Allocations: 652)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | Allocations: 2676)
Completed 200 OK in 15ms (Views: 7.9ms | ActiveRecord: 0.2ms | Allocations: 4549)


Started GET "/get/1" for ::1 at 2025-03-22 22:12:13 -0700
Processing by MainController#get as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/main_controller.rb:11:in `get'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:15:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/get.html.erb within layouts/application
  Rendered main/get.html.erb within layouts/application (Duration: 3.8ms | Allocations: 2375)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 35.3ms | Allocations: 18906)
Completed 200 OK in 78ms (Views: 42.3ms | ActiveRecord: 2.6ms | Allocations: 33835)


Started GET "/get/1" for ::1 at 2025-03-22 22:12:21 -0700
Processing by MainController#get as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/main_controller.rb:11:in `get'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:15:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/get.html.erb within layouts/application
  Rendered main/get.html.erb within layouts/application (Duration: 3.0ms | Allocations: 2373)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 32.1ms | Allocations: 18709)
Completed 200 OK in 67ms (Views: 38.8ms | ActiveRecord: 2.6ms | Allocations: 33657)


Started GET "/get/1" for ::1 at 2025-03-22 22:12:22 -0700
Processing by MainController#get as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/main_controller.rb:11:in `get'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:15:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/get.html.erb within layouts/application
  Rendered main/get.html.erb within layouts/application (Duration: 1.3ms | Allocations: 652)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | Allocations: 2676)
Completed 200 OK in 16ms (Views: 8.1ms | ActiveRecord: 0.2ms | Allocations: 4546)


Started GET "/get/1" for ::1 at 2025-03-22 22:13:03 -0700
Processing by MainController#get as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/main_controller.rb:11:in `get'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:15:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/get.html.erb within layouts/application
  Rendered main/get.html.erb within layouts/application (Duration: 3.1ms | Allocations: 2402)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 33.9ms | Allocations: 18933)
Completed 200 OK in 136ms (Views: 41.0ms | ActiveRecord: 2.8ms | Allocations: 33891)


Started GET "/get/1" for ::1 at 2025-03-22 22:13:09 -0700
Processing by MainController#get as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/main_controller.rb:11:in `get'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:15:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/get.html.erb within layouts/application
  Rendered main/get.html.erb within layouts/application (Duration: 1.4ms | Allocations: 654)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | Allocations: 2678)
Completed 200 OK in 15ms (Views: 8.2ms | ActiveRecord: 0.2ms | Allocations: 4534)


Started GET "/get/1" for ::1 at 2025-03-22 22:13:09 -0700
Processing by MainController#get as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/main_controller.rb:11:in `get'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:15:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/get.html.erb within layouts/application
  Rendered main/get.html.erb within layouts/application (Duration: 1.2ms | Allocations: 654)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | Allocations: 2678)
Completed 200 OK in 16ms (Views: 8.1ms | ActiveRecord: 0.2ms | Allocations: 4551)


Started GET "/get/1" for ::1 at 2025-03-22 22:13:41 -0700
Processing by MainController#get as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/main_controller.rb:11:in `get'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:15:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/get.html.erb within layouts/application
  Rendered main/get.html.erb within layouts/application (Duration: 2.6ms | Allocations: 2789)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | Allocations: 2875)
Completed 500 Internal Server Error in 130ms (ActiveRecord: 2.5ms | Allocations: 17804)


  
ActionView::Template::Error (private method `system' called for an instance of PromptSession):
    472:         <div class="card-header dark">System Prompt</div>
    473:         <div class="card-content">
    474:           <p id="prompt-description" style="line-height: 1.6; color: #4b5563;">
    475:             <%= @cps.system %>
    476:           </p>
    477:         </div>
    478:       </div>
  
app/views/main/get.html.erb:475
Started GET "/" for ::1 at 2025-03-22 22:13:53 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:6:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.0ms | Allocations: 2386)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 32.4ms | Allocations: 18921)
Completed 200 OK in 159ms (Views: 39.5ms | ActiveRecord: 2.4ms | Allocations: 33044)


Started DELETE "/sign-out" for ::1 at 2025-03-22 22:13:57 -0700
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.1ms | Allocations: 974)


Started GET "/" for ::1 at 2025-03-22 22:13:57 -0700
Processing by MainController#home as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.9ms | Allocations: 537)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | Allocations: 2614)
Completed 200 OK in 11ms (Views: 7.8ms | ActiveRecord: 0.0ms | Allocations: 3314)


Started GET "/sign-in" for ::1 at 2025-03-22 22:13:59 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 723)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | Allocations: 2755)
Completed 200 OK in 17ms (Views: 12.0ms | ActiveRecord: 0.0ms | Allocations: 3570)


Started POST "/sign-in" for ::1 at 2025-03-22 22:14:02 -0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user1", "password"=>"[FILTERED]"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:12:in `create'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.9ms | Allocations: 2133)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 19)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 4153)
Completed 200 OK in 13ms (Views: 7.8ms | ActiveRecord: 0.1ms | Allocations: 5321)


Started POST "/sign-in" for ::1 at 2025-03-22 22:14:04 -0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "username"=>"user1", "password"=>"[FILTERED]", "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "user1"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:12:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 186ms (ActiveRecord: 0.1ms | Allocations: 1047)


Started GET "/" for ::1 at 2025-03-22 22:14:05 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:6:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.3ms | Allocations: 652)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | Allocations: 2685)
Completed 200 OK in 15ms (Views: 8.5ms | ActiveRecord: 0.2ms | Allocations: 4199)


Started GET "/get/1" for ::1 at 2025-03-22 22:14:11 -0700
Processing by MainController#get as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/main_controller.rb:11:in `get'
  [1m[36mPromptSession Load (0.0ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:15:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/get.html.erb within layouts/application
  Rendered main/get.html.erb within layouts/application (Duration: 3.3ms | Allocations: 2285)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 10.4ms | Allocations: 4340)
Completed 200 OK in 83ms (Views: 11.3ms | ActiveRecord: 0.3ms | Allocations: 6917)


Started GET "/get/1" for ::1 at 2025-03-22 22:14:14 -0700
Processing by MainController#get as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/main_controller.rb:11:in `get'
  [1m[36mPromptSession Load (0.0ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:15:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/get.html.erb within layouts/application
  Rendered main/get.html.erb within layouts/application (Duration: 1.9ms | Allocations: 654)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 2706)
Completed 200 OK in 17ms (Views: 9.2ms | ActiveRecord: 0.3ms | Allocations: 4576)


Started GET "/get/1" for ::1 at 2025-03-22 22:14:51 -0700
Processing by MainController#get as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/main_controller.rb:11:in `get'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:15:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/get.html.erb within layouts/application
  Rendered main/get.html.erb within layouts/application (Duration: 3.2ms | Allocations: 2397)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 34.7ms | Allocations: 18900)
Completed 200 OK in 134ms (Views: 42.1ms | ActiveRecord: 2.6ms | Allocations: 33814)


Started GET "/get/1" for ::1 at 2025-03-22 22:14:55 -0700
Processing by MainController#get as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/main_controller.rb:11:in `get'
  [1m[36mPromptSession Load (0.0ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:15:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/get.html.erb within layouts/application
  Rendered main/get.html.erb within layouts/application (Duration: 1.1ms | Allocations: 654)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | Allocations: 2678)
Completed 200 OK in 15ms (Views: 7.9ms | ActiveRecord: 0.3ms | Allocations: 4551)


Started GET "/" for ::1 at 2025-03-22 22:15:55 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:7:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 4.5ms | Allocations: 2387)
  Rendered shared/_flash.html.erb (Duration: 0.8ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 35.9ms | Allocations: 18924)
Completed 200 OK in 71ms (Views: 43.0ms | ActiveRecord: 2.3ms | Allocations: 32956)


Started GET "/" for ::1 at 2025-03-22 22:16:06 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:7:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.9ms | Allocations: 2374)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 42.1ms | Allocations: 18833)
Completed 200 OK in 155ms (Views: 49.9ms | ActiveRecord: 2.5ms | Allocations: 32892)


Started GET "/" for ::1 at 2025-03-22 22:16:17 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:7:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.8ms | Allocations: 2348)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 33.2ms | Allocations: 18808)
Completed 200 OK in 143ms (Views: 40.7ms | ActiveRecord: 2.4ms | Allocations: 32928)


Started GET "/" for ::1 at 2025-03-22 22:16:18 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:7:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.3ms | Allocations: 652)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 2680)
Completed 200 OK in 16ms (Views: 8.7ms | ActiveRecord: 0.2ms | Allocations: 4202)


Started GET "/" for ::1 at 2025-03-22 22:16:19 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:7:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.2ms | Allocations: 652)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | Allocations: 2680)
Completed 200 OK in 15ms (Views: 8.4ms | ActiveRecord: 0.2ms | Allocations: 4211)


Started GET "/" for ::1 at 2025-03-22 22:16:34 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:7:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.7ms | Allocations: 2378)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 33.3ms | Allocations: 18915)
Completed 200 OK in 139ms (Views: 40.4ms | ActiveRecord: 2.5ms | Allocations: 32932)


Started GET "/" for ::1 at 2025-03-22 22:16:42 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:7:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.3ms | Allocations: 652)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | Allocations: 2680)
Completed 200 OK in 15ms (Views: 8.4ms | ActiveRecord: 0.2ms | Allocations: 4191)


Started GET "/" for ::1 at 2025-03-22 22:17:00 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:7:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.8ms | Allocations: 2395)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 36.7ms | Allocations: 18931)
Completed 200 OK in 138ms (Views: 44.1ms | ActiveRecord: 2.3ms | Allocations: 33004)


Started GET "/" for ::1 at 2025-03-22 22:17:06 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:7:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.8ms | Allocations: 2399)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 38.4ms | Allocations: 18999)
Completed 200 OK in 145ms (Views: 45.8ms | ActiveRecord: 2.5ms | Allocations: 33030)


Started GET "/" for ::1 at 2025-03-22 22:17:09 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:7:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.8ms | Allocations: 2396)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 31.8ms | Allocations: 18828)
Completed 200 OK in 132ms (Views: 38.9ms | ActiveRecord: 2.5ms | Allocations: 32864)


Started GET "/" for ::1 at 2025-03-22 22:17:31 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:7:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.3ms | Allocations: 2430)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 36.2ms | Allocations: 18966)
Completed 200 OK in 148ms (Views: 43.6ms | ActiveRecord: 2.5ms | Allocations: 33075)


Started GET "/" for ::1 at 2025-03-22 22:18:47 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:7:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 8.1ms | Allocations: 2476)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 40.8ms | Allocations: 19033)
Completed 200 OK in 143ms (Views: 48.0ms | ActiveRecord: 2.5ms | Allocations: 33005)


Started GET "/" for ::1 at 2025-03-22 22:18:51 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:7:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.7ms | Allocations: 2477)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 31.8ms | Allocations: 18986)
Completed 200 OK in 128ms (Views: 39.1ms | ActiveRecord: 2.2ms | Allocations: 33112)


Started GET "/" for ::1 at 2025-03-22 22:20:50 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:7:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.2ms | Allocations: 2601)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 37.7ms | Allocations: 19138)
Completed 200 OK in 136ms (Views: 45.1ms | ActiveRecord: 2.8ms | Allocations: 33148)


Started GET "/" for ::1 at 2025-03-22 22:20:51 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.0ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:7:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.3ms | Allocations: 671)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | Allocations: 2699)
Completed 200 OK in 15ms (Views: 8.2ms | ActiveRecord: 0.2ms | Allocations: 4222)


Started GET "/" for ::1 at 2025-03-22 22:21:15 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:7:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.4ms | Allocations: 2595)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 34.8ms | Allocations: 19131)
Completed 200 OK in 138ms (Views: 41.8ms | ActiveRecord: 2.7ms | Allocations: 33214)


Started GET "/" for ::1 at 2025-03-22 22:22:08 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.7ms | Allocations: 2628)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 34.2ms | Allocations: 19236)
Completed 200 OK in 141ms (Views: 41.1ms | ActiveRecord: 2.3ms | Allocations: 33258)


Started GET "/" for ::1 at 2025-03-22 22:22:14 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.2ms | Allocations: 676)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | Allocations: 2728)
Completed 200 OK in 15ms (Views: 8.4ms | ActiveRecord: 0.2ms | Allocations: 4250)


Started GET "/" for ::1 at 2025-03-22 22:22:31 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.1ms | Allocations: 2640)
  Rendered shared/_flash.html.erb (Duration: 0.8ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 33.8ms | Allocations: 19062)
Completed 200 OK in 132ms (Views: 41.2ms | ActiveRecord: 2.4ms | Allocations: 33124)


Started GET "/" for ::1 at 2025-03-22 22:22:41 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.1ms | Allocations: 2639)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 34.0ms | Allocations: 19175)
Completed 200 OK in 142ms (Views: 41.1ms | ActiveRecord: 2.4ms | Allocations: 33244)


Started GET "/" for ::1 at 2025-03-22 22:22:42 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.5ms | Allocations: 676)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 2704)
Completed 200 OK in 16ms (Views: 8.7ms | ActiveRecord: 0.2ms | Allocations: 4243)


Started GET "/" for ::1 at 2025-03-22 22:22:57 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.6ms | Allocations: 2665)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 34.7ms | Allocations: 19227)
Completed 200 OK in 142ms (Views: 42.2ms | ActiveRecord: 3.0ms | Allocations: 33300)


Started GET "/" for ::1 at 2025-03-22 22:23:04 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.5ms | Allocations: 676)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | Allocations: 2726)
Completed 200 OK in 15ms (Views: 8.8ms | ActiveRecord: 0.2ms | Allocations: 4238)


Started GET "/" for ::1 at 2025-03-22 22:23:14 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.0ms | Allocations: 2658)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 206)
  Rendered layout layouts/application.html.erb (Duration: 40.2ms | Allocations: 19104)
Completed 200 OK in 140ms (Views: 47.3ms | ActiveRecord: 2.2ms | Allocations: 33093)


Started GET "/get" for ::1 at 2025-03-22 22:23:29 -0700
  
ActionController::RoutingError (No route matches [GET] "/get"):
  
Started GET "/" for ::1 at 2025-03-22 22:23:33 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 4.2ms | Allocations: 2662)
  Rendered shared/_flash.html.erb (Duration: 0.9ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 36.0ms | Allocations: 19198)
Completed 200 OK in 141ms (Views: 43.2ms | ActiveRecord: 2.4ms | Allocations: 33316)


Started GET "/" for ::1 at 2025-03-22 22:23:47 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.5ms | Allocations: 2636)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 34.2ms | Allocations: 19172)
Completed 200 OK in 133ms (Views: 42.0ms | ActiveRecord: 2.4ms | Allocations: 33205)


Started GET "/get" for ::1 at 2025-03-22 22:23:54 -0700
  
ActionController::RoutingError (No route matches [GET] "/get"):
  
Started GET "/" for ::1 at 2025-03-22 22:23:59 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.2ms | Allocations: 2658)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 39.2ms | Allocations: 19255)
Completed 200 OK in 136ms (Views: 46.7ms | ActiveRecord: 2.4ms | Allocations: 33367)


Started GET "/" for ::1 at 2025-03-22 22:24:27 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.1ms | Allocations: 2634)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 36.2ms | Allocations: 18986)
Completed 200 OK in 140ms (Views: 43.8ms | ActiveRecord: 2.5ms | Allocations: 33030)


Started GET "/" for ::1 at 2025-03-22 22:25:19 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.1ms | Allocations: 2621)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 33.7ms | Allocations: 19157)
Completed 200 OK in 134ms (Views: 41.4ms | ActiveRecord: 2.4ms | Allocations: 33181)


Started GET "/" for ::1 at 2025-03-22 22:25:45 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.5ms | Allocations: 670)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | Allocations: 2698)
Completed 200 OK in 15ms (Views: 8.4ms | ActiveRecord: 0.2ms | Allocations: 4213)


Started GET "/" for ::1 at 2025-03-22 22:26:00 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.3ms | Allocations: 2616)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 34.6ms | Allocations: 19180)
Completed 200 OK in 148ms (Views: 42.0ms | ActiveRecord: 3.1ms | Allocations: 33202)


Started GET "/" for ::1 at 2025-03-22 22:26:23 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.0ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.3ms | Allocations: 670)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | Allocations: 2721)
Completed 200 OK in 15ms (Views: 8.3ms | ActiveRecord: 0.1ms | Allocations: 4250)


Started GET "/" for ::1 at 2025-03-22 22:26:34 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.1ms | Allocations: 2625)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 206)
  Rendered layout layouts/application.html.erb (Duration: 43.6ms | Allocations: 19131)
Completed 200 OK in 143ms (Views: 51.3ms | ActiveRecord: 2.3ms | Allocations: 33137)


Started GET "/" for ::1 at 2025-03-22 22:26:49 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 10.2ms | Allocations: 2610)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 69.8ms | Allocations: 19224)
Completed 200 OK in 191ms (Views: 78.7ms | ActiveRecord: 2.8ms | Allocations: 33369)


Started GET "/" for ::1 at 2025-03-22 22:27:35 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.6ms | Allocations: 2635)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 36.4ms | Allocations: 19126)
Completed 200 OK in 139ms (Views: 44.2ms | ActiveRecord: 2.3ms | Allocations: 33134)


Started GET "/" for ::1 at 2025-03-22 22:30:16 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.7ms | Allocations: 2692)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 34.6ms | Allocations: 19229)
Completed 200 OK in 142ms (Views: 42.6ms | ActiveRecord: 2.2ms | Allocations: 33256)


Started GET "/" for ::1 at 2025-03-22 22:31:18 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 8.9ms | Allocations: 2684)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 41.2ms | Allocations: 19251)
Completed 200 OK in 136ms (Views: 48.8ms | ActiveRecord: 2.3ms | Allocations: 33218)


Started GET "/" for ::1 at 2025-03-22 22:31:20 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.5ms | Allocations: 688)
  Rendered shared/_flash.html.erb (Duration: 0.3ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | Allocations: 2736)
Completed 200 OK in 15ms (Views: 8.5ms | ActiveRecord: 0.2ms | Allocations: 4254)


Started GET "/" for ::1 at 2025-03-22 22:31:29 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.3ms | Allocations: 2693)
  Rendered shared/_flash.html.erb (Duration: 5.8ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 37.8ms | Allocations: 19171)
Completed 200 OK in 135ms (Views: 45.3ms | ActiveRecord: 2.3ms | Allocations: 33297)


Started GET "/" for ::1 at 2025-03-22 22:31:37 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.0ms | Allocations: 2697)
  Rendered shared/_flash.html.erb (Duration: 1.1ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 64.0ms | Allocations: 19227)
Completed 200 OK in 174ms (Views: 71.3ms | ActiveRecord: 2.2ms | Allocations: 33339)


Started GET "/" for ::1 at 2025-03-22 22:31:44 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.4ms | Allocations: 2685)
  Rendered shared/_flash.html.erb (Duration: 0.9ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 35.7ms | Allocations: 19214)
Completed 200 OK in 136ms (Views: 43.2ms | ActiveRecord: 2.4ms | Allocations: 33296)


Started GET "/" for ::1 at 2025-03-22 22:31:54 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.8ms | Allocations: 2685)
  Rendered shared/_flash.html.erb (Duration: 0.8ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 40.6ms | Allocations: 19228)
Completed 200 OK in 155ms (Views: 49.4ms | ActiveRecord: 2.6ms | Allocations: 33265)


Started GET "/" for ::1 at 2025-03-22 22:32:29 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.1ms | Allocations: 2694)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 39.9ms | Allocations: 19105)
Completed 200 OK in 135ms (Views: 46.9ms | ActiveRecord: 2.3ms | Allocations: 33091)


Started GET "/" for ::1 at 2025-03-22 22:32:37 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.0ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.7ms | Allocations: 688)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | Allocations: 2727)
Completed 200 OK in 15ms (Views: 8.4ms | ActiveRecord: 0.2ms | Allocations: 4245)


Started GET "/" for ::1 at 2025-03-22 22:33:09 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.5ms | Allocations: 3113)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | Allocations: 3199)
Completed 500 Internal Server Error in 106ms (ActiveRecord: 2.4ms | Allocations: 17252)


  
ActionView::Template::Error (undefined method `likes' for an instance of PromptSession):
    506:                   </svg>
    507:                 </div>
    508:                 <div>
    509:                   <div class="stat-label"><%= @pss.first.likes%></div>
    510:                   <div class="stat-value" id="likes"><%= @pss.first.dislikes%></div>
    511:                 </div>
    512:               </div>
  
app/views/main/home.html.erb:509
Started GET "/" for ::1 at 2025-03-22 22:33:23 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 8.6ms | Allocations: 2724)
  Rendered shared/_flash.html.erb (Duration: 1.2ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 71.0ms | Allocations: 19259)
Completed 200 OK in 205ms (Views: 79.2ms | ActiveRecord: 3.2ms | Allocations: 33380)


Started GET "/" for ::1 at 2025-03-22 22:34:02 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.3ms | Allocations: 2732)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 32.8ms | Allocations: 19152)
Completed 200 OK in 131ms (Views: 40.0ms | ActiveRecord: 2.3ms | Allocations: 33195)


Started GET "/" for ::1 at 2025-03-22 22:34:02 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.0ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.3ms | Allocations: 694)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | Allocations: 2722)
Completed 200 OK in 14ms (Views: 7.9ms | ActiveRecord: 0.1ms | Allocations: 4225)


Started GET "/" for ::1 at 2025-03-22 22:34:05 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.6ms | Allocations: 694)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 2722)
Completed 200 OK in 16ms (Views: 9.3ms | ActiveRecord: 0.2ms | Allocations: 4240)


Started GET "/" for ::1 at 2025-03-22 22:34:13 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.3ms | Allocations: 2726)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 37.0ms | Allocations: 19263)
Completed 200 OK in 134ms (Views: 44.1ms | ActiveRecord: 2.3ms | Allocations: 33339)


Started GET "/" for ::1 at 2025-03-22 22:34:14 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.6ms | Allocations: 694)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | Allocations: 2722)
Completed 200 OK in 16ms (Views: 8.9ms | ActiveRecord: 0.2ms | Allocations: 4240)


Started POST "/good_feed" for ::1 at 2025-03-22 22:34:25 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001349de791b8>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001349de791b8>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:4:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001349de791b8>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
  [1m[36mGoodFeedback Create (0.9ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "AAAAAAAAA."], ["created_at", "2025-03-23 05:34:25.996076"], ["updated_at", "2025-03-23 05:34:25.996076"]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
  [1m[36mGoodFeedback Load (0.1ms)[0m  [1m[34mSELECT "good_feedbacks".* FROM "good_feedbacks" WHERE "good_feedbacks"."prompt_session_id" = ?[0m  [["prompt_session_id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:9:in `get_feedback'
Completed 200 OK in 17ms (Views: 2.7ms | ActiveRecord: 1.6ms | Allocations: 7828)


Started GET "/" for ::1 at 2025-03-22 22:34:32 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.5ms | Allocations: 694)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.7ms | Allocations: 2723)
Completed 200 OK in 18ms (Views: 10.4ms | ActiveRecord: 0.2ms | Allocations: 4242)


Started GET "/" for ::1 at 2025-03-22 22:34:33 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.4ms | Allocations: 694)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | Allocations: 2722)
Completed 200 OK in 16ms (Views: 8.6ms | ActiveRecord: 0.3ms | Allocations: 4246)


Started POST "/good_feed" for ::1 at 2025-03-22 22:34:57 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001349df444d0>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001349df444d0>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:4:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001349df444d0>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
  [1m[36mGoodFeedback Create (1.0ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "AAAAAAAAA."], ["created_at", "2025-03-23 05:34:57.630788"], ["updated_at", "2025-03-23 05:34:57.630788"]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
Completed 200 OK in 25ms (Views: 0.1ms | ActiveRecord: 3.7ms | Allocations: 11411)


Started POST "/good_feed" for ::1 at 2025-03-22 22:34:59 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001349cbbe578>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001349cbbe578>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:4:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001349cbbe578>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
  [1m[36mGoodFeedback Create (1.0ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "AAAAAAAAA."], ["created_at", "2025-03-23 05:34:59.089278"], ["updated_at", "2025-03-23 05:34:59.089278"]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
Completed 200 OK in 10ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 2249)


Started POST "/good_feed" for ::1 at 2025-03-22 22:35:20 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001349d624c60>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001349d624c60>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:4:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001349d624c60>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
  [1m[36mGoodFeedback Create (1.2ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "AAAAAAAAA."], ["created_at", "2025-03-23 05:35:20.987389"], ["updated_at", "2025-03-23 05:35:20.987389"]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:9:in `get_feedback'
  [1m[36mPromptSession Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:9:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 1], ["updated_at", "2025-03-23 05:35:20.996135"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:9:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:9:in `get_feedback'
Completed 200 OK in 39ms (Views: 0.2ms | ActiveRecord: 5.8ms | Allocations: 14237)


Started GET "/" for ::1 at 2025-03-22 22:35:21 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.4ms | Allocations: 2716)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 206)
  Rendered layout layouts/application.html.erb (Duration: 43.0ms | Allocations: 19257)
Completed 200 OK in 67ms (Views: 50.0ms | ActiveRecord: 0.5ms | Allocations: 27769)


Started GET "/" for ::1 at 2025-03-22 22:36:13 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.7ms | Allocations: 2732)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 35.6ms | Allocations: 19271)
Completed 200 OK in 170ms (Views: 42.7ms | ActiveRecord: 3.9ms | Allocations: 33363)


Started POST "/good_feed" for ::1 at 2025-03-22 22:36:18 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000134a0493b78>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000134a0493b78>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:4:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000134a0493b78>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
  [1m[36mGoodFeedback Create (0.9ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "AAAAAAAAA."], ["created_at", "2025-03-23 05:36:18.413392"], ["updated_at", "2025-03-23 05:36:18.413392"]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:9:in `get_feedback'
  [1m[36mPromptSession Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:9:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 2], ["updated_at", "2025-03-23 05:36:18.420202"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:9:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:9:in `get_feedback'
Completed 200 OK in 20ms (Views: 0.1ms | ActiveRecord: 2.6ms | Allocations: 8538)


Started GET "/" for ::1 at 2025-03-22 22:36:19 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.5ms | Allocations: 692)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 2733)
Completed 200 OK in 15ms (Views: 8.7ms | ActiveRecord: 0.2ms | Allocations: 4246)


  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-03-23 05:38:59.671969', '2025-03-23 05:38:59.671973') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20250322211111)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (10.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "password_digest" varchar, "session_token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322211111') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePromptSessions (20250322224855)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "prompt_sessions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "uid" integer, "system_prompt" varchar, "like_count" integer, "dislike_count" integer, "ai_feedback" varchar, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_8e5cfb463f"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_prompt_sessions_on_user_id" ON "prompt_sessions" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322224855') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateGoodFeedbacks (20250322233105)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "good_feedbacks" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "prompt_session_id" integer NOT NULL, "comment" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_d830e5dfaa"
FOREIGN KEY ("prompt_session_id")
  REFERENCES "prompt_sessions" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_good_feedbacks_on_prompt_session_id" ON "good_feedbacks" ("prompt_session_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322233105') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateBadFeedbacks (20250322233120)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "bad_feedbacks" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "prompt_session_id" integer NOT NULL, "comment" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a944aabc96"
FOREIGN KEY ("prompt_session_id")
  REFERENCES "prompt_sessions" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bad_feedbacks_on_prompt_session_id" ON "bad_feedbacks" ("prompt_session_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322233120') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" ORDER BY "prompt_sessions"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/" for ::1 at 2025-03-22 22:41:14 -0700
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 10.9ms | Allocations: 3883)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 237)
  Rendered layout layouts/application.html.erb (Duration: 108.5ms | Allocations: 40128)
Completed 200 OK in 286ms (Views: 122.4ms | ActiveRecord: 3.6ms | Allocations: 66035)


Started GET "/sign-up" for ::1 at 2025-03-22 22:41:20 -0700
Processing by RegistrationsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 4.0ms | Allocations: 1522)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 11.2ms | Allocations: 3559)
Completed 200 OK in 29ms (Views: 16.3ms | ActiveRecord: 0.3ms | Allocations: 8897)


Started POST "/sign-up" for ::1 at 2025-03-22 22:41:26 -0700
Processing by RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user1", "email"=>"user@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "user1"], ["LIMIT", 1]]
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "session_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["username", "user1"], ["email", "user@email.com"], ["password_digest", "[FILTERED]"], ["session_token", "[FILTERED]"], ["created_at", "2025-03-23 05:41:27.005651"], ["updated_at", "2025-03-23 05:41:27.005651"]]
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 200ms (ActiveRecord: 2.9ms | Allocations: 5379)


Started GET "/" for ::1 at 2025-03-22 22:41:27 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1469)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | Allocations: 1554)
Completed 500 Internal Server Error in 21ms (ActiveRecord: 0.2ms | Allocations: 5895)


  
ActionView::Template::Error (undefined method `system_prompt' for nil):
    474:         <div class="card-header dark">System Prompt</div>
    475:         <div class="card-content">
    476:           <p id="prompt-description" style="line-height: 1.6; color: #4b5563;">
    477:             <%= @pss.first.system_prompt%>
    478:           </p>
    479:         </div>
    480:       </div>
  
app/views/main/home.html.erb:477
Started GET "/" for ::1 at 2025-03-22 22:42:18 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.4ms | Allocations: 3068)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | Allocations: 3154)
Completed 500 Internal Server Error in 114ms (ActiveRecord: 3.5ms | Allocations: 17031)


  
ActionView::Template::Error (undefined method `like_count' for nil):
    507:                 </div>
    508:                 <div>
    509:                   <div class="stat-label">Likes</div>
    510:                   <div class="stat-value" id="likes"><%= @pss.first.like_count%></div>
    511:                 </div>
    512:               </div>
    513:               
  
app/views/main/home.html.erb:510
Started GET "/" for ::1 at 2025-03-22 22:43:02 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.9ms | Allocations: 2738)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 209)
  Rendered layout layouts/application.html.erb (Duration: 36.2ms | Allocations: 19283)
Completed 200 OK in 139ms (Views: 43.8ms | ActiveRecord: 3.1ms | Allocations: 33155)


Started GET "/get" for ::1 at 2025-03-22 22:43:03 -0700
  
ActionController::RoutingError (No route matches [GET] "/get"):
  
Started GET "/" for ::1 at 2025-03-22 22:44:05 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 4.7ms | Allocations: 2770)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 44.3ms | Allocations: 19306)
Completed 200 OK in 173ms (Views: 64.8ms | ActiveRecord: 3.2ms | Allocations: 33139)


Started GET "/" for ::1 at 2025-03-22 22:44:29 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.4ms | Allocations: 2770)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 38.4ms | Allocations: 19306)
Completed 200 OK in 147ms (Views: 46.6ms | ActiveRecord: 3.1ms | Allocations: 33176)


Started POST "/new_prompt" for ::1 at 2025-03-22 22:44:44 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "system_prompt"=>"asdf"}, "commit"=>"Create form"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Create (0.2ms)[0m  [1m[32mINSERT INTO "prompt_sessions" ("uid", "system_prompt", "like_count", "dislike_count", "ai_feedback", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["uid", 1], ["system_prompt", "asdf"], ["like_count", 0], ["dislike_count", 0], ["ai_feedback", nil], ["user_id", 1], ["created_at", "2025-03-23 05:44:44.270591"], ["updated_at", "2025-03-23 05:44:44.270591"]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
Completed 200 OK in 18ms (Views: 0.2ms | ActiveRecord: 2.5ms | Allocations: 6024)


Started POST "/new_prompt" for ::1 at 2025-03-22 22:44:46 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "system_prompt"=>"asdf"}, "commit"=>"Create form"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
Redirected to http://localhost:3000/
Completed 302 Found in 10ms (ActiveRecord: 1.2ms | Allocations: 3714)


Started GET "/" for ::1 at 2025-03-22 22:44:46 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.4ms | Allocations: 681)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | Allocations: 2716)
Completed 200 OK in 15ms (Views: 8.2ms | ActiveRecord: 0.2ms | Allocations: 4233)


Started POST "/good_feed" for ::1 at 2025-03-22 22:44:53 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000021005243c10>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000021005243c10>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:4:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000021005243c10>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
  [1m[36mGoodFeedback Create (1.0ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "AAAAAAAAA."], ["created_at", "2025-03-23 05:44:54.033494"], ["updated_at", "2025-03-23 05:44:54.033494"]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:9:in `get_feedback'
  [1m[36mPromptSession Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:9:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 1], ["updated_at", "2025-03-23 05:44:54.045355"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:9:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:9:in `get_feedback'
Completed 200 OK in 32ms (Views: 0.2ms | ActiveRecord: 2.9ms | Allocations: 9500)


Started GET "/" for ::1 at 2025-03-22 22:44:55 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.6ms | Allocations: 657)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | Allocations: 2716)
Completed 200 OK in 17ms (Views: 10.2ms | ActiveRecord: 0.2ms | Allocations: 4217)


Started POST "/good_feed" for ::1 at 2025-03-22 22:44:57 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000021006fc8178>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000021006fc8178>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:4:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000021006fc8178>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
  [1m[36mGoodFeedback Create (0.9ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "AAAAAAAAA."], ["created_at", "2025-03-23 05:44:57.808980"], ["updated_at", "2025-03-23 05:44:57.808980"]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:9:in `get_feedback'
  [1m[36mPromptSession Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:9:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 2], ["updated_at", "2025-03-23 05:44:57.815010"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:9:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:9:in `get_feedback'
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 2.4ms | Allocations: 4457)


Started GET "/" for ::1 at 2025-03-22 22:44:59 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.5ms | Allocations: 657)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | Allocations: 2714)
Completed 200 OK in 18ms (Views: 10.5ms | ActiveRecord: 0.2ms | Allocations: 4213)


Started POST "/new_prompt" for ::1 at 2025-03-22 22:45:34 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"3", "system_prompt"=>"yay prompt"}, "commit"=>"Create form"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 3], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Create (0.1ms)[0m  [1m[32mINSERT INTO "prompt_sessions" ("uid", "system_prompt", "like_count", "dislike_count", "ai_feedback", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["uid", 3], ["system_prompt", "yay prompt"], ["like_count", 0], ["dislike_count", 0], ["ai_feedback", nil], ["user_id", 1], ["created_at", "2025-03-23 05:45:34.493232"], ["updated_at", "2025-03-23 05:45:34.493232"]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 1.6ms | Allocations: 3755)


Started GET "/" for ::1 at 2025-03-22 22:45:36 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.4ms | Allocations: 692)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | Allocations: 2722)
Completed 200 OK in 16ms (Views: 9.7ms | ActiveRecord: 0.2ms | Allocations: 4241)


Started GET "/" for ::1 at 2025-03-22 22:56:00 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.6ms | Allocations: 692)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 2722)
Completed 200 OK in 18ms (Views: 9.3ms | ActiveRecord: 2.5ms | Allocations: 4522)


Started GET "/" for ::1 at 2025-03-22 22:56:11 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 4.0ms | Allocations: 2849)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 36.1ms | Allocations: 19385)
Completed 200 OK in 151ms (Views: 45.3ms | ActiveRecord: 3.2ms | Allocations: 33721)


Started GET "/" for ::1 at 2025-03-22 22:57:16 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.3ms | Allocations: 2844)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 34.5ms | Allocations: 19381)
Completed 200 OK in 140ms (Views: 41.7ms | ActiveRecord: 3.5ms | Allocations: 33690)


Started GET "/" for ::1 at 2025-03-22 22:57:16 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.4ms | Allocations: 692)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | Allocations: 2720)
Completed 200 OK in 16ms (Views: 9.0ms | ActiveRecord: 0.2ms | Allocations: 4236)


Started GET "/" for ::1 at 2025-03-22 22:57:25 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.7ms | Allocations: 2844)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 33.8ms | Allocations: 19383)
Completed 200 OK in 143ms (Views: 41.5ms | ActiveRecord: 3.3ms | Allocations: 33785)


Started GET "/" for ::1 at 2025-03-22 22:57:41 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 7.7ms | Allocations: 2845)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 39.6ms | Allocations: 19413)
Completed 200 OK in 136ms (Views: 47.1ms | ActiveRecord: 3.0ms | Allocations: 33756)


Started GET "/" for ::1 at 2025-03-22 22:57:41 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.9ms | Allocations: 692)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 10.5ms | Allocations: 2744)
Completed 200 OK in 19ms (Views: 11.3ms | ActiveRecord: 0.2ms | Allocations: 4266)


Started GET "/" for ::1 at 2025-03-22 22:57:46 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.9ms | Allocations: 2849)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 39.5ms | Allocations: 19390)
Completed 200 OK in 143ms (Views: 46.6ms | ActiveRecord: 3.2ms | Allocations: 33807)


Started GET "/" for ::1 at 2025-03-22 22:57:51 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.8ms | Allocations: 2845)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 33.3ms | Allocations: 19386)
Completed 200 OK in 138ms (Views: 40.3ms | ActiveRecord: 3.1ms | Allocations: 33722)


Started GET "/" for ::1 at 2025-03-22 22:57:55 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.5ms | Allocations: 2848)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 36.2ms | Allocations: 19389)
Completed 200 OK in 145ms (Views: 44.4ms | ActiveRecord: 3.0ms | Allocations: 33781)


Started GET "/" for ::1 at 2025-03-22 22:57:59 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.4ms | Allocations: 2846)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 34.2ms | Allocations: 19384)
Completed 200 OK in 139ms (Views: 41.2ms | ActiveRecord: 3.0ms | Allocations: 33792)


Started GET "/" for ::1 at 2025-03-22 22:58:57 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.7ms | Allocations: 2849)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 34.9ms | Allocations: 19385)
Completed 200 OK in 138ms (Views: 42.1ms | ActiveRecord: 3.0ms | Allocations: 33724)


Started GET "/" for ::1 at 2025-03-22 23:00:40 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.4ms | Allocations: 2873)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 39.4ms | Allocations: 19453)
Completed 200 OK in 140ms (Views: 46.5ms | ActiveRecord: 3.2ms | Allocations: 33810)


Started GET "/" for ::1 at 2025-03-22 23:01:07 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 4.4ms | Allocations: 2873)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 36.6ms | Allocations: 19412)
Completed 200 OK in 174ms (Views: 44.1ms | ActiveRecord: 6.3ms | Allocations: 33850)


Started GET "/" for ::1 at 2025-03-22 23:01:17 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.0ms | Allocations: 2842)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 206)
  Rendered layout layouts/application.html.erb (Duration: 39.2ms | Allocations: 19352)
Completed 200 OK in 143ms (Views: 46.3ms | ActiveRecord: 3.9ms | Allocations: 33629)


Started GET "/" for ::1 at 2025-03-22 23:03:08 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.5ms | Allocations: 2870)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 38.0ms | Allocations: 19313)
Completed 200 OK in 140ms (Views: 45.1ms | ActiveRecord: 3.1ms | Allocations: 33650)


Started GET "/" for ::1 at 2025-03-22 23:03:17 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.8ms | Allocations: 2867)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 34.4ms | Allocations: 19351)
Completed 200 OK in 155ms (Views: 41.9ms | ActiveRecord: 3.2ms | Allocations: 33714)


Started GET "/" for ::1 at 2025-03-22 23:03:23 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.7ms | Allocations: 2871)
  Rendered shared/_flash.html.erb (Duration: 0.8ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 36.0ms | Allocations: 19409)
Completed 200 OK in 137ms (Views: 43.1ms | ActiveRecord: 3.2ms | Allocations: 33780)


Started GET "/" for ::1 at 2025-03-22 23:03:30 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 4.0ms | Allocations: 2872)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 35.4ms | Allocations: 19411)
Completed 200 OK in 143ms (Views: 43.2ms | ActiveRecord: 3.3ms | Allocations: 33776)


Started GET "/" for ::1 at 2025-03-22 23:52:34 -0700
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 80.4ms | Allocations: 4263)
  Rendered shared/_flash.html.erb (Duration: 1.0ms | Allocations: 233)
  Rendered layout layouts/application.html.erb (Duration: 709.6ms | Allocations: 40494)
Completed 200 OK in 1842ms (Views: 853.7ms | ActiveRecord: 6.0ms | Allocations: 74616)


Started POST "/bad_feed" for ::1 at 2025-03-22 23:53:05 -0700
Processing by BadfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000027cca28f7a0>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000027cca28f7a0>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
  [1m[36mPromptSession Load (0.3ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:4:in `get_feedback'
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000027cca28f7a0>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:8:in `get_feedback'
  [1m[36mBadFeedback Create (4.4ms)[0m  [1m[32mINSERT INTO "bad_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "AAAAAAAAA."], ["created_at", "2025-03-23 06:53:05.317964"], ["updated_at", "2025-03-23 06:53:05.317964"]]
  â†³ app/controllers/badfeedback_controller.rb:8:in `get_feedback'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:8:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:9:in `get_feedback'
  [1m[36mPromptSession Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:9:in `get_feedback'
  [1m[36mPromptSession Update (0.4ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 1], ["updated_at", "2025-03-23 06:53:05.336569"], ["id", 1]]
  â†³ app/controllers/badfeedback_controller.rb:9:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:9:in `get_feedback'
  [1m[36mGoodFeedback Load (0.2ms)[0m  [1m[34mSELECT "good_feedbacks".* FROM "good_feedbacks" WHERE "good_feedbacks"."prompt_session_id" = ?[0m  [["prompt_session_id", 1]]
  â†³ app/controllers/badfeedback_controller.rb:10:in `get_feedback'
Completed 200 OK in 108ms (Views: 7.4ms | ActiveRecord: 10.2ms | Allocations: 15804)


Started GET "/" for ::1 at 2025-03-22 23:53:07 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.7ms | Allocations: 697)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | Allocations: 2756)
Completed 200 OK in 22ms (Views: 12.9ms | ActiveRecord: 0.2ms | Allocations: 4292)


Started POST "/bad_feed" for ::1 at 2025-03-22 23:53:12 -0700
Processing by BadfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000027cca327fa0>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000027cca327fa0>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:4:in `get_feedback'
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000027cca327fa0>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:8:in `get_feedback'
  [1m[36mBadFeedback Create (1.9ms)[0m  [1m[32mINSERT INTO "bad_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "AAAAAAAAA."], ["created_at", "2025-03-23 06:53:12.230521"], ["updated_at", "2025-03-23 06:53:12.230521"]]
  â†³ app/controllers/badfeedback_controller.rb:8:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:8:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:9:in `get_feedback'
  [1m[36mPromptSession Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:9:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:9:in `get_feedback'
  [1m[36mGoodFeedback Load (0.1ms)[0m  [1m[34mSELECT "good_feedbacks".* FROM "good_feedbacks" WHERE "good_feedbacks"."prompt_session_id" = ?[0m  [["prompt_session_id", 1]]
  â†³ app/controllers/badfeedback_controller.rb:10:in `get_feedback'
Completed 200 OK in 24ms (Views: 3.3ms | ActiveRecord: 4.4ms | Allocations: 4611)


Started GET "/" for ::1 at 2025-03-22 23:53:13 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.0ms | Allocations: 697)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 11.7ms | Allocations: 2727)
Completed 200 OK in 22ms (Views: 12.6ms | ActiveRecord: 0.2ms | Allocations: 4261)


Started GET "/" for ::1 at 2025-03-22 23:53:14 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.3ms | Allocations: 697)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 12.6ms | Allocations: 2726)
Completed 200 OK in 23ms (Views: 13.6ms | ActiveRecord: 0.2ms | Allocations: 4246)


Started POST "/bad_feed" for ::1 at 2025-03-22 23:53:44 -0700
Processing by BadfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000027cc8778980>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000027cc8778980>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:4:in `get_feedback'
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000027cc8778980>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:8:in `get_feedback'
  [1m[36mBadFeedback Create (1.9ms)[0m  [1m[32mINSERT INTO "bad_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "AAAAAAAAA."], ["created_at", "2025-03-23 06:53:45.355644"], ["updated_at", "2025-03-23 06:53:45.355644"]]
  â†³ app/controllers/badfeedback_controller.rb:8:in `get_feedback'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:8:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:9:in `get_feedback'
  [1m[36mPromptSession Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:9:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "dislike_count" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["dislike_count", 1], ["updated_at", "2025-03-23 06:53:45.368114"], ["id", 1]]
  â†³ app/controllers/badfeedback_controller.rb:9:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:9:in `get_feedback'
  [1m[36mGoodFeedback Load (0.1ms)[0m  [1m[34mSELECT "good_feedbacks".* FROM "good_feedbacks" WHERE "good_feedbacks"."prompt_session_id" = ?[0m  [["prompt_session_id", 1]]
  â†³ app/controllers/badfeedback_controller.rb:10:in `get_feedback'
Completed 200 OK in 74ms (Views: 6.2ms | ActiveRecord: 10.7ms | Allocations: 19215)


Started GET "/" for ::1 at 2025-03-22 23:53:46 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 4.4ms | Allocations: 2860)
  Rendered shared/_flash.html.erb (Duration: 0.9ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 47.9ms | Allocations: 19396)
Completed 200 OK in 83ms (Views: 58.1ms | ActiveRecord: 0.7ms | Allocations: 27925)


Started GET "/" for ::1 at 2025-03-22 23:53:48 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.0ms | Allocations: 696)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 10.7ms | Allocations: 2724)
Completed 200 OK in 21ms (Views: 11.9ms | ActiveRecord: 0.3ms | Allocations: 4255)


Started GET "/get" for ::1 at 2025-03-22 23:53:48 -0700
  
ActionController::RoutingError (No route matches [GET] "/get"):
  
Started GET "/" for ::1 at 2025-03-22 23:54:06 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.7ms | Allocations: 696)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 11.6ms | Allocations: 2754)
Completed 200 OK in 22ms (Views: 12.7ms | ActiveRecord: 0.2ms | Allocations: 4281)


Started GET "/" for ::1 at 2025-03-22 23:54:06 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.7ms | Allocations: 696)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 10.9ms | Allocations: 2724)
Completed 200 OK in 22ms (Views: 12.2ms | ActiveRecord: 0.2ms | Allocations: 4237)


Started GET "/" for ::1 at 2025-03-22 23:54:44 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.0ms | Allocations: 696)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | Allocations: 2724)
Completed 200 OK in 22ms (Views: 12.6ms | ActiveRecord: 0.2ms | Allocations: 4255)


Started POST "/good_feed" for ::1 at 2025-03-22 23:54:59 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000027cc6c6c948>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000027cc6c6c948>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:4:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000027cc6c6c948>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
  [1m[36mGoodFeedback Create (1.7ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "AAAAAAAAA."], ["created_at", "2025-03-23 06:54:59.735128"], ["updated_at", "2025-03-23 06:54:59.735128"]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:9:in `get_feedback'
  [1m[36mPromptSession Exists? (3.0ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:9:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 2], ["updated_at", "2025-03-23 06:54:59.750356"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:9:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:9:in `get_feedback'
Completed 200 OK in 35ms (Views: 0.2ms | ActiveRecord: 6.1ms | Allocations: 4639)


Started GET "/get" for ::1 at 2025-03-22 23:55:01 -0700
  
ActionController::RoutingError (No route matches [GET] "/get"):
  
Started GET "/" for ::1 at 2025-03-22 23:55:02 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.0ms | Allocations: 696)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 15.0ms | Allocations: 2756)
Completed 200 OK in 25ms (Views: 16.0ms | ActiveRecord: 0.2ms | Allocations: 4275)


Started GET "/" for ::1 at 2025-03-22 23:57:15 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 4.5ms | Allocations: 2877)
  Rendered shared/_flash.html.erb (Duration: 4.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 55.3ms | Allocations: 19388)
Completed 200 OK in 187ms (Views: 64.9ms | ActiveRecord: 4.5ms | Allocations: 33735)


Started GET "/" for ::1 at 2025-03-22 23:57:24 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 4.4ms | Allocations: 2873)
  Rendered shared/_flash.html.erb (Duration: 1.0ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 51.6ms | Allocations: 19358)
Completed 200 OK in 187ms (Views: 63.0ms | ActiveRecord: 4.1ms | Allocations: 33729)


Started GET "/" for ::1 at 2025-03-22 23:58:05 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 4.3ms | Allocations: 2872)
  Rendered shared/_flash.html.erb (Duration: 1.0ms | Allocations: 206)
  Rendered layout layouts/application.html.erb (Duration: 57.6ms | Allocations: 19398)
Completed 200 OK in 205ms (Views: 68.5ms | ActiveRecord: 4.8ms | Allocations: 33739)


Started GET "/" for ::1 at 2025-03-23 00:00:03 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.7ms | Allocations: 696)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 14.2ms | Allocations: 2730)
Completed 200 OK in 27ms (Views: 15.6ms | ActiveRecord: 0.3ms | Allocations: 4257)


Started POST "/new_prompt" for ::1 at 2025-03-23 00:08:50 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"4", "system_prompt"=>"Prompt 3 long super long like acutally long aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"}, "commit"=>"Create form"}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 4], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Create (0.3ms)[0m  [1m[32mINSERT INTO "prompt_sessions" ("uid", "system_prompt", "like_count", "dislike_count", "ai_feedback", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["uid", 4], ["system_prompt", "Prompt 3 long super long like acutally long aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["like_count", 0], ["dislike_count", 0], ["ai_feedback", nil], ["user_id", 1], ["created_at", "2025-03-23 07:08:50.401340"], ["updated_at", "2025-03-23 07:08:50.401340"]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
Completed 200 OK in 47ms (Views: 0.2ms | ActiveRecord: 7.5ms | Allocations: 16425)


Started GET "/" for ::1 at 2025-03-23 00:08:52 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 4.6ms | Allocations: 2897)
  Rendered shared/_flash.html.erb (Duration: 0.9ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 49.9ms | Allocations: 19415)
Completed 200 OK in 178ms (Views: 59.4ms | ActiveRecord: 0.3ms | Allocations: 22387)


Started GET "/" for ::1 at 2025-03-23 00:09:11 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.3ms | Allocations: 731)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 13.0ms | Allocations: 2773)
Completed 200 OK in 23ms (Views: 14.0ms | ActiveRecord: 0.2ms | Allocations: 4294)


Started GET "/" for ::1 at 2025-03-23 00:12:10 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 7.3ms | Allocations: 2906)
  Rendered shared/_flash.html.erb (Duration: 0.8ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 61.5ms | Allocations: 19425)
Completed 200 OK in 232ms (Views: 71.7ms | ActiveRecord: 4.5ms | Allocations: 33812)


Started GET "/" for ::1 at 2025-03-23 00:13:53 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 4.6ms | Allocations: 2878)
  Rendered shared/_flash.html.erb (Duration: 1.2ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 63.4ms | Allocations: 19432)
Completed 200 OK in 209ms (Views: 72.8ms | ActiveRecord: 5.3ms | Allocations: 33789)


Started GET "/" for ::1 at 2025-03-23 00:13:57 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.1ms | Allocations: 731)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | Allocations: 2771)
Completed 200 OK in 22ms (Views: 13.0ms | ActiveRecord: 0.3ms | Allocations: 4304)


Started GET "/" for ::1 at 2025-03-23 00:15:13 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 4.3ms | Allocations: 2889)
  Rendered shared/_flash.html.erb (Duration: 0.9ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 46.6ms | Allocations: 19424)
Completed 200 OK in 200ms (Views: 55.9ms | ActiveRecord: 4.8ms | Allocations: 33792)


Started GET "/" for ::1 at 2025-03-23 00:16:53 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 5.6ms | Allocations: 2894)
  Rendered shared/_flash.html.erb (Duration: 1.3ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 52.7ms | Allocations: 19429)
Completed 200 OK in 235ms (Views: 67.5ms | ActiveRecord: 5.0ms | Allocations: 33770)


Started GET "/" for ::1 at 2025-03-23 00:20:31 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 4.2ms | Allocations: 2972)
  Rendered shared/_flash.html.erb (Duration: 1.0ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 45.1ms | Allocations: 19508)
Completed 200 OK in 180ms (Views: 54.7ms | ActiveRecord: 4.3ms | Allocations: 33885)


Started GET "/get" for ::1 at 2025-03-23 00:20:35 -0700
  
ActionController::RoutingError (No route matches [GET] "/get"):
  
Started GET "/" for ::1 at 2025-03-23 00:20:40 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 5.8ms | Allocations: 2966)
  Rendered shared/_flash.html.erb (Duration: 1.0ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 51.6ms | Allocations: 19502)
Completed 200 OK in 209ms (Views: 61.5ms | ActiveRecord: 4.8ms | Allocations: 33936)


Started GET "/" for ::1 at 2025-03-23 00:20:58 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 4.3ms | Allocations: 2974)
  Rendered shared/_flash.html.erb (Duration: 0.9ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 46.5ms | Allocations: 19509)
Completed 200 OK in 176ms (Views: 56.3ms | ActiveRecord: 4.9ms | Allocations: 33937)


Started GET "/" for ::1 at 2025-03-23 00:20:58 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.0ms | Allocations: 731)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 10.7ms | Allocations: 2789)
Completed 200 OK in 28ms (Views: 11.8ms | ActiveRecord: 0.2ms | Allocations: 4325)


Started GET "/" for ::1 at 2025-03-23 00:21:25 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 5.0ms | Allocations: 2873)
  Rendered shared/_flash.html.erb (Duration: 2.5ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 66.0ms | Allocations: 19408)
Completed 200 OK in 211ms (Views: 77.0ms | ActiveRecord: 4.6ms | Allocations: 33807)


Started GET "/" for ::1 at 2025-03-23 00:21:52 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 4.8ms | Allocations: 2911)
  Rendered shared/_flash.html.erb (Duration: 1.0ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 49.5ms | Allocations: 19314)
Completed 200 OK in 194ms (Views: 60.0ms | ActiveRecord: 4.6ms | Allocations: 33742)


Started GET "/" for ::1 at 2025-03-23 00:24:03 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.6ms | Allocations: 731)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | Allocations: 2789)
Completed 200 OK in 16ms (Views: 9.6ms | ActiveRecord: 0.2ms | Allocations: 4337)


Started GET "/" for ::1 at 2025-03-23 00:24:04 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.7ms | Allocations: 731)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 2785)
Completed 200 OK in 16ms (Views: 9.2ms | ActiveRecord: 0.2ms | Allocations: 4332)


Started DELETE "/sign-out" for ::1 at 2025-03-23 00:24:05 -0700
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.1ms | Allocations: 1040)


Started GET "/" for ::1 at 2025-03-23 00:24:05 -0700
Processing by MainController#home as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.8ms | Allocations: 541)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 30)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 2620)
Completed 200 OK in 12ms (Views: 8.7ms | ActiveRecord: 0.0ms | Allocations: 3330)


Started GET "/sign-in" for ::1 at 2025-03-23 00:24:07 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 17.3ms | Allocations: 930)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 23.7ms | Allocations: 2963)
Completed 200 OK in 52ms (Views: 28.8ms | ActiveRecord: 0.0ms | Allocations: 3791)


Started POST "/sign-in" for ::1 at 2025-03-23 00:24:10 -0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user1", "password"=>"[FILTERED]"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:12:in `create'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 2148)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 19)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | Allocations: 4168)
Completed 200 OK in 13ms (Views: 8.0ms | ActiveRecord: 0.1ms | Allocations: 5358)


Started POST "/sign-in" for ::1 at 2025-03-23 00:24:13 -0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "username"=>"user1", "password"=>"[FILTERED]", "commit"=>"Sign In"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "user1"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:12:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 188ms (ActiveRecord: 0.2ms | Allocations: 1073)


Started GET "/" for ::1 at 2025-03-23 00:24:13 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.0ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 5.7ms | Allocations: 731)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 12.1ms | Allocations: 2794)
Completed 200 OK in 19ms (Views: 12.9ms | ActiveRecord: 0.1ms | Allocations: 4358)


Started GET "/" for ::1 at 2025-03-23 00:27:01 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 9.5ms | Allocations: 2916)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 42.6ms | Allocations: 19454)
Completed 200 OK in 164ms (Views: 50.1ms | ActiveRecord: 3.4ms | Allocations: 33817)


Started GET "/" for ::1 at 2025-03-23 00:27:07 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.6ms | Allocations: 731)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | Allocations: 2759)
Completed 200 OK in 16ms (Views: 8.9ms | ActiveRecord: 0.2ms | Allocations: 4316)


Started GET "/get" for ::1 at 2025-03-23 00:27:50 -0700
  
ActionController::RoutingError (No route matches [GET] "/get"):
  
Started GET "/" for ::1 at 2025-03-23 00:27:51 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.0ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.4ms | Allocations: 731)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | Allocations: 2789)
Completed 200 OK in 14ms (Views: 8.5ms | ActiveRecord: 0.1ms | Allocations: 4334)


Started GET "/" for ::1 at 2025-03-23 00:32:08 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.3ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.4ms | Allocations: 2936)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 206)
  Rendered layout layouts/application.html.erb (Duration: 38.7ms | Allocations: 19479)
Completed 200 OK in 154ms (Views: 45.8ms | ActiveRecord: 3.6ms | Allocations: 33851)


Started DELETE "/sign-out" for ::1 at 2025-03-23 00:35:32 -0700
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
Redirected to http://localhost:3000/
Completed 302 Found in 11ms (ActiveRecord: 0.1ms | Allocations: 1001)


Started GET "/" for ::1 at 2025-03-23 00:35:32 -0700
Processing by MainController#home as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.3ms | Allocations: 537)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 21.5ms | Allocations: 2619)
Completed 200 OK in 28ms (Views: 22.2ms | ActiveRecord: 0.0ms | Allocations: 3309)


Started GET "/sign-in" for ::1 at 2025-03-23 00:35:36 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.5ms | Allocations: 730)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | Allocations: 2792)
Completed 200 OK in 18ms (Views: 13.5ms | ActiveRecord: 0.0ms | Allocations: 3624)


Started POST "/sign-in" for ::1 at 2025-03-23 00:35:40 -0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user1", "password"=>"[FILTERED]"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:12:in `create'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.5ms | Allocations: 2133)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 19)
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | Allocations: 4162)
Completed 200 OK in 13ms (Views: 8.6ms | ActiveRecord: 0.1ms | Allocations: 5342)


Started POST "/sign-in" for ::1 at 2025-03-23 00:35:46 -0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "username"=>"user1", "password"=>"[FILTERED]", "commit"=>"Sign In"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "user1"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:12:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 188ms (ActiveRecord: 0.1ms | Allocations: 1061)


Started GET "/" for ::1 at 2025-03-23 00:35:46 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.5ms | Allocations: 733)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | Allocations: 2767)
Completed 200 OK in 16ms (Views: 9.4ms | ActiveRecord: 0.2ms | Allocations: 4334)


Started POST "/good_feed" for ::1 at 2025-03-23 00:36:07 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000027cc8c155b0>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000027cc8c155b0>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:4:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000027cc8c155b0>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
  [1m[36mGoodFeedback Create (1.3ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "AAAAAAAAA."], ["created_at", "2025-03-23 07:36:08.154314"], ["updated_at", "2025-03-23 07:36:08.154314"]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:9:in `get_feedback'
  [1m[36mPromptSession Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:9:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 3], ["updated_at", "2025-03-23 07:36:08.166255"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:9:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:9:in `get_feedback'
Completed 200 OK in 28ms (Views: 0.2ms | ActiveRecord: 5.8ms | Allocations: 8582)


Started GET "/" for ::1 at 2025-03-23 00:36:09 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.5ms | Allocations: 733)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | Allocations: 2761)
Completed 200 OK in 16ms (Views: 8.5ms | ActiveRecord: 0.2ms | Allocations: 4301)


Started POST "/good_feed" for ::1 at 2025-03-23 00:36:13 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000027cc54442f8>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000027cc54442f8>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:4:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000027cc54442f8>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
  [1m[36mGoodFeedback Create (4.6ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "AAAAAAAAA."], ["created_at", "2025-03-23 07:36:13.667091"], ["updated_at", "2025-03-23 07:36:13.667091"]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:9:in `get_feedback'
  [1m[36mPromptSession Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:9:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 4], ["updated_at", "2025-03-23 07:36:13.676679"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:9:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:9:in `get_feedback'
Completed 200 OK in 18ms (Views: 0.1ms | ActiveRecord: 6.1ms | Allocations: 4463)


Started GET "/" for ::1 at 2025-03-23 00:36:15 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.0ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.5ms | Allocations: 733)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | Allocations: 2791)
Completed 200 OK in 15ms (Views: 8.7ms | ActiveRecord: 0.1ms | Allocations: 4330)


Started GET "/" for ::1 at 2025-03-23 01:39:09 -0700
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 27.1ms | Allocations: 3490)
  Rendered layout layouts/application.html.erb (Duration: 27.8ms | Allocations: 3617)
Completed 500 Internal Server Error in 514ms (ActiveRecord: 3.3ms | Allocations: 37759)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <!DOCTYPE html>
<html lang="en">
  <% if @ps.errors.any? %>
    <div class="alert alert-danger">
        <% @ps.errors.full_messages.each do |messages| %>
        <div><%= messages %></div>
        <% end %>
    </div>
<% end %>
<head>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PromptFlow</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f5f5f5;
    }
    
    .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 20px;
      background-color: white;
      border-bottom: 1px solid #e1e1e1;
    }
    
    .sidebar {
      width: 280px;
      height: 100vh;
      background-color: white;
      border-right: 1px solid #e1e1e1;
      overflow-y: auto;
    }
    
    .search-bar {
      display: flex;
      align-items: center;
      background-color: #f5f5f5;
      border-radius: 6px;
      padding: 8px 12px;
      margin: 16px;
    }
    
    .search-bar input {
      border: none;
      background: none;
      outline: none;
      width: 100%;
      margin-left: 8px;
    }
    
    .dashboard-link {
      display: flex;
      align-items: center;
      padding: 10px 16px;
      margin: 0 12px;
      background-color: oklch(0.882 0.059 254.128);
      color: oklch(0.623 0.214 259.815);
      border-radius: 6px;
      text-decoration: none;
    }
    
    .dashboard-link svg {
      margin-right: 12px;
    }
    
    .category-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 16px;
      color: #6b7280;
      font-weight: 600;
      font-size: 0.8rem;
    }
    
    .history-header {
      display: flex;
      align-items: center;
      padding: 8px 16px;
      color: oklch(0.623 0.214 259.815);
      font-weight: 500;
    }
    
    .history-header svg {
      margin-right: 8px;
    }
    
    .prompt-item {
      padding: 12px 16px;
      cursor: pointer;
    }
    
    .prompt-item:hover {
      background-color: oklch(0.97 0.03 254.604);
      transition: 0.2s ease-in-out;
    }
    
    .prompt-item.selected {
      background-color: oklch(0.932 0.032 255.585);
    }
    
    .prompt-icon {
      margin-right: 12px;
      flex-shrink: 0;
    }
    
    .prompt-title {
      font-weight: 500;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      max-width: 180px;
    }
    
    .prompt-date {
      font-size: 0.75rem;
      color: #6b7280;
      margin-top: 4px;
    }
    
    .content-area {
      flex: 1;
      padding: 20px;
    }
    
    .card {
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      margin-bottom: 20px;
      overflow: hidden;
    }
    
    .card-header {
      padding: 12px 16px;
      font-weight: 600;
      color: white;
    }
    
    .card-header.dark {
      background-color: #1f2937;
    }
    
    .card-header.blue {
      background-color: oklch(0.623 0.214 259.815);
    }
    
    .card-content {
      padding: 16px;
    }
    
    .stats-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .stat-item {
      display: flex;
      align-items: center;
      margin-bottom: 16px;
    }
    
    .stat-icon {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 12px;
    }
    
    .stat-icon.purple {
      background-color: #f3e8ff;
    }

    .thumbs-up {
      filter: brightness(100%);
      cursor: pointer;
      transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
    }

    .thumbs-up:hover {
      filter: brightness(200%);
      transform: scale(1.2);
    }
    
    .stat-icon.red {
      background-color: #fee2e2;
    }

    .thumbs-down:hover {
      filter: brightness(100%);
      cursor: pointer;
      transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
    }

    .thumbs-down:hover {
      filter: brightness(200%);
      transform: scale(1.2);
    }
    
    .stat-label {
      font-size: 0.8rem;
      color: #6b7280;
    }

    .chart {
        transform: scale(1);
        transition: transform 0.3s ease-in-out;
    }

    .chart:hover {
        transform: scale(1.2);
    }
    
    .stat-value {
      font-size: 1.5rem;
      font-weight: 700;
    }
    
    .dropdown {
      position: relative;
      border-radius: 2rem;
      transition: 0.2s ease-in-out;
    }
    
    .dropdown-menu {
      display: none;
      position: absolute;
      right: 0;
      top: 40px;
      background-color: white;
      border-radius: 6px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      min-width: 200px;
      z-index: 10;
    }
    
    .dropdown-header {
      padding: 12px 16px;
      font-weight: 600;
      border-bottom: 1px solid #f1f1f1;
    }
    
    .dropdown-item {
      padding: 12px 16px;
      display: block;
      color: #333;
      text-decoration: none;
      border-bottom: 1px solid #f1f1f1;
    }
    
    .dropdown-item:last-child {
      border-bottom: none;
    }
    
    .dropdown-item:hover {
      background-color: #f9fafb;
    }
    
    .dropdown-item.danger {
      color: #ef4444;
    }
    
    .flex {
      display: flex;
    }
    
    .flex-col {
      flex-direction: column;
    }
    
    .items-center {
      align-items: center;
    }
    
    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <h1><i class="fa-solid fa-worm fa-flip-horizontal"></i>PromptFlow</h1>
    
    <div class="flex items-center">
      <!-- Notifications -->
      <button style="margin-right: 16px; background: none; border: none; cursor: pointer;">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
          <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
        </svg>
      </button>
      
      <!-- Settings -->
      <button id="settings-button" style="margin-right: 16px; background: none; border: none; cursor: pointer;">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="3"></circle>
          <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
        </svg>
      </button>
      
      <!-- User Profile -->
      
      <% if Current.user %>
      <div class="dropdown">
        <button id="user-button" style="display: flex; align-items: center; background: none; border: none; cursor: pointer;">
          <div style="width: 32px; height: 32px; border-radius: 50%; background-color: #7c3aed; color: white; display: flex; align-items: center; justify-content: center; margin-right: 8px;">
            <span>DD</span>
          </div>
          <span style="font-weight: 500; margin-right: 4px;"><%= Current.user.%></span>
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="6 9 12 15 18 9"></polyline>
          </svg>
        </button>
        <div id="user-dropdown" class="dropdown-menu">
          <div class="dropdown-header">My Account</div>
          <a href="#" class="dropdown-item">Profile</a>
          <a href="#" class="dropdown-item">Settings</a>
          <a href="#" class="dropdown-item">Billing</a>
          <%= button_to "Log out", sign_out_path, method: :delete, class: "dropdown-item danger", turbo: false %>
        </div>
      </div>
      <% else %>
      <%= link_to "Log in", sign_in_path, method: :get, class: "dropdown-item danger", turbo: false %>
      <% end %>
    </div>
  </header>
  
  <div class="flex">
    <!-- Sidebar -->
    <div class="sidebar">
      <!-- Search Bar -->
      <div class="search-bar">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="11" cy="11" r="8"></circle>
          <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
        <input type="text" placeholder="Search prompts..." />
      </div>
      
      <!-- Dashboard -->
      <a href="/get" class="dashboard-link">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
          <polyline points="9 22 9 12 15 12 15 22"></polyline>
        </svg>
        <span style="color: oklch(0.623 0.214 259.815)">Dashboard</span>
      </a>
      
      <!-- Prompt History -->
      <div style="margin-top: 20px;">
        <div class="category-header">
          <span>PROMPTS</span>
          <button id="new-prompt-button" style="background: none; border: none; color: #3b82f6; cursor: pointer;">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="12" y1="5" x2="12" y2="19"></line>
              <line x1="5" y1="12" x2="19" y2="12"></line>
            </svg>
          </button>
        </div>
        
        <!-- Prompt History Section -->
        <div>
          <div class="history-header">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="oklch(0.623 0.214 259.815)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"></path>
            </svg>
            <span>Prompt History</span>
          </div>
          
          <!-- History Items -->
          <% if Current.user %>
            <div>
            <% @pss.each do |prompt| %>
              <!-- Item 1 (selected) -->
              <div class="prompt-item" data-id="<%= @i2 %>">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title" style="color: oklch(0.623 0.214 259.815);"><%= prompt.system_prompt %></div>
                    <div class="prompt-date"><%= prompt.updated_at %></div>
                  </div>
                </div>
              </div>
              <%# 
              <!-- Item 2 -->
              <div class="prompt-item" data-id="1">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Design a logo for a tech startup</div>
                    <div class="prompt-date">2023-06-14</div>
                  </div>
                </div>
              </div>
              
              <!-- Item 3 -->
              <div class="prompt-item" data-id="2">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Write a product description for a new gadget</div>
                    <div class="prompt-date">2023-06-13</div>
                  </div>
                </div>
              </div>
              
              <!-- Item 4 -->
              <div class="prompt-item" data-id="3">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Generate ideas for a marketing campaign</div>
                    <div class="prompt-date">2023-06-12</div>
                  </div>
                </div>
              </div>
              
              <!-- Item 5 -->
              <div class="prompt-item" data-id="4">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Create a social media content calendar</div>
                    <div class="prompt-date">2023-06-11</div>
                  </div>
                </div>
              </div> %>


            <% @i2 = @i2 + 1%>
            <% end %>
            </div>
          <% else %>

          <% end %>

        </div>
      </div>
    </div>
    
    <!-- Main Content Area -->
    <div class="content-area">
      <!-- System Prompt Card -->
      <% if Current.user %>
        <% if @pss.first %>
          <div class="card">
            <div class="card-header dark">System Prompt</div>
            <div class="card-content">
              <p id="prompt-description" style="line-height: 1.6; color: #4b5563;">
                <%= @pss.first.system_prompt%>
              </p>
            </div>
          </div>
        <% else %>
          <div class="card">
          <div class="card-header blue">
            <div style="display: flex; align-items: center;">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
              </svg>
              No prompts created!
            </div>
          </div>
          <div class="card-content">
            <p style="line-height: 1.6; color: #4b5563;">
              Create a prompt and begin optimizing!
            </p>
          </div>
        </div>
        <%end%>
      <% else %>
      <% end %>
      
      <!-- Statistics Card -->
      <% if Current.user %>
      <% if @pss.first %>
      <div class="card">
        <div class="card-header blue">
          <div style="display: flex; align-items: center;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
              <circle cx="12" cy="12" r="10"></circle>
              <line x1="12" y1="16" x2="12" y2="12"></line>
              <line x1="12" y1="8" x2="12.01" y2="8"></line>
            </svg>
            Statistics
          </div>
        </div>
        <div class="card-content">
          <div class="stats-container">
            <div>
              <!-- Likes -->
              <div class="stat-item">
                <div class="stat-icon purple">
                  <svg class="thumbs-up" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#7c3aed" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>
                  </svg>
                </div>
                <div>
                  <div class="stat-label">Likes</div>
                  <div class="stat-value" id="likes"><%= @pss.first.like_count%></div>
                </div>
              </div>
              
              <!-- Dislikes -->
              <div class="stat-item">
                <div class="stat-icon red">
                  <svg class="thumbs-down" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#ef4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path>
                  </svg>
                </div>
                <div>
                  <div class="stat-label">Dislikes</div>
                  <div class="stat-value" id="dislikes"><%= @pss.first.dislike_count%></div>
                </div>
              </div>
            </div>
            
            <!-- Donut Chart -->
            <div>
              <svg class="chart" width="150" height="150" viewBox="0 0 150 150">
                <circle cx="75" cy="75" r="60" fill="transparent" stroke="#FF0000" stroke-width="20"></circle>
                <circle id="likeCircle" cx="75" cy="75" r="60" fill="transparent" stroke="#008000" stroke-width="20" stroke-dasharray="<%= 377 * (@pss.first.like_count / (@pss.first.like_count + @pss.first.dislike_count)) %> <%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count)) %>" stroke-dashoffset="0"></circle>

                <circle cx="75" cy="75" r="40" fill="white"></circle>
              </svg>
            </div>
          </div>
        </div>
      </div>
      <% end %>
      <% else %>
      <% end %>
      
      <!-- AI Feedback Card -->
      <% if Current.user %>
      <% if @pss.first %>
      <div class="card">
        <div class="card-header blue">
          <div style="display: flex; align-items: center;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
              <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
            </svg>
            AI Feedback
          </div>
        </div>
        <div class="card-content">
          <p style="line-height: 1.6; color: #4b5563;" id="feedback">
            <%= @pss.first.ai_feedback%>
          </p>
        </div>
      </div>
      <% end %>
      <% else %>
      <div class="card">
        <div class="card-header blue">
          <div style="display: flex; align-items: center;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
              <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
            </svg>
            Login to access page!
          </div>
        </div>
        <div class="card-content">
          <p style="line-height: 1.6; color: #4b5563;">
            Login through your company/personal account to access the dashboard.
          </p>
        </div>
      </div>
      <% end %>



    </div>
  </div>
  
  <!-- New Prompt Modal -->
  <div id="new-prompt-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); z-index: 100; align-items: center; justify-content: center;">
    <div style="background-color: white; border-radius: 8px; padding: 24px; width: 90%; max-width: 500px; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);">
      <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 16px;">Create New Prompt</h3>
      <%# <form id="new-prompt-form">
        <div style="margin-bottom: 16px;">
          <label for="prompt-title" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt Title</label>
          <input type="text" id="prompt-title" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Enter a title for your prompt" />
        </div>
        <div style="margin-bottom: 16px;">
          <label for="prompt-text" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt</label>
          <textarea id="prompt-text" rows="5" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Write your prompt here..."></textarea>
        </div>
        <div style="display: flex; justify-content: flex-end; gap: 12px;">
          <button type="button" id="cancel-prompt" style="padding: 8px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
          <button type="submit" style="padding: 8px 16px; background-color: #7c3aed; color: white; border: none; border-radius: 6px; cursor: pointer;">Create</button>
        </div>
      </form> %>
      <%= form_with model: @ps, url: new_prompt_path, data: { turbo: false } do |form| %>
<div class="mb-3">
    <%= form.label :uid %>
    <%= form.number_field :uid, class: "form-control", placeholder: "123" %>
</div>
<div class="mb-3">
    <%= form.label :system_prompt %>
    <%= form.text_field :system_prompt, class: "form-control" %>
</div>
<div class="mb-3">
  <button type="button" id="cancel-prompt" style="padding: 7px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
  <%= form.submit "Create form", class: "btn btn-primary" %>
</div>
<% end %>
    </div>
  </div>

  <script>
    // Sample prompt data
    const promptData = [
      <% if Current.user %>
      <% @pss.each do |prompt| %>
      {
        id: <%= @i %>,
        title: "<%= prompt.system_prompt %>",
        date: "<%= prompt.updated_at %>",
        content: "<%= prompt.system_prompt %>",
        likes: <%= prompt.like_count %>,
        dislikes: <%= prompt.dislike_count %>,
        feedback: "<%= prompt.ai_feedback %>"
      },
      <% @i = @i + 1%>
      <%end%>

      <% else %>

      <% end %>
    ];
    
    // Handle prompt item clicks
    document.querySelectorAll('.prompt-item').forEach(item => {
      item.addEventListener('click', () => {
        // Get prompt id
        const promptId = parseInt(item.getAttribute('data-id'));
        
        // Update selection visualization
        document.querySelectorAll('.prompt-item').forEach(el => {
          el.classList.remove('selected');
          el.querySelector('.prompt-title').style.color = '#374151';
        });
        
        item.classList.add('selected');
        item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
        
        // Update content based on selection
        const prompt = promptData.find(p => p.id === promptId);
        if (prompt) {
          document.getElementById('prompt-description').textContent = prompt.content;
          document.getElementById('likes').textContent = prompt.likes;
          document.getElementById('dislikes').textContent = prompt.dislikes;
          document.getElementById('feedback').textContent = prompt.feedback;
          let lip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
          let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
          document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
        }
      });
    });
    
    // Account dropdown functionality
    const userButton = document.getElementById('user-button');
    const userDropdown = document.getElementById('user-dropdown');
    
    userButton.addEventListener('click', (e) => {
      e.stopPropagation();
      userDropdown.style.display = userDropdown.style.display === 'block' ? 'none' : 'block';
    });
    
    // Close dropdown when clicking elsewhere
    document.addEventListener('click', () => {
      userDropdown.style.display = 'none';
    });
    
    // New prompt modal functionality
    const newPromptButton = document.getElementById('new-prompt-button');
    const newPromptModal = document.getElementById('new-prompt-modal');
    const cancelPromptButton = document.getElementById('cancel-prompt');
    const newPromptForm = document.getElementById('new-prompt-form');
    
    newPromptButton.addEventListener('click', () => {
      newPromptModal.style.display = 'flex';
    });
    
    cancelPromptButton.addEventListener('click', () => {
      newPromptModal.style.display = 'none';
      newPromptForm.reset();
    });
  
    
    // Prevent clicks inside the modal from closing it
    newPromptModal.querySelector('div').addEventListener('click', (e) => {
      e.stopPropagation();
    });
    
    // Close modal when clicking outside
    newPromptModal.addEventListener('click', () => {
      newPromptModal.style.display = 'none';
      newPromptForm.reset();
    });

    
    document.addEventListener('DOMContentLoaded', function() {
        let item = document.querySelector('.prompt-item');
        const promptId = 0;
        console.log(promptId);
        
        // Update selection visualization
        document.querySelectorAll('.prompt-item').forEach(el => {
          el.classList.remove('selected');
          el.querySelector('.prompt-title').style.color = '#374151';
        });
        
        item.classList.add('selected');
        item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
        
        // Update content based on selection
        const prompt = promptData.find(p => p.id === promptId);
        if (prompt) {
          document.getElementById('prompt-description').textContent = prompt.content;
          document.getElementById('likes').textContent = prompt.likes;
          document.getElementById('dislikes').textContent = prompt.dislikes;
          document.getElementById('feedback').textContent = prompt.feedback;
          let lip =377 * prompt.likes / (prompt.likes + prompt.dislikes);
          let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
          document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
        }
        console.log(promptId);
    });

  </script>
</body>
</html>
):
1:    <!DOCTYPE html>
2:    <html lang="en">
3:      <% if @ps.errors.any? %>
4:        <div class="alert alert-danger">
5:            <% @ps.errors.full_messages.each do |messages| %>
6:            <div><%= messages %></div>
7:            <% end %>
8:        </div>
9:    <% end %>
10:    <head>
11:    
12:      <meta charset="UTF-8" />
13:      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
14:      <title>PromptFlow</title>
15:      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
16:      <style>
17:        body {
18:          font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
19:          margin: 0;
20:          padding: 0;
21:          background-color: #f5f5f5;
22:        }
23:        
24:        .header {
25:          display: flex;
26:          align-items: center;
27:          justify-content: space-between;
28:          padding: 10px 20px;
29:          background-color: white;
30:          border-bottom: 1px solid #e1e1e1;
31:        }
32:        
33:        .sidebar {
34:          width: 280px;
35:          height: 100vh;
36:          background-color: white;
37:          border-right: 1px solid #e1e1e1;
38:          overflow-y: auto;
39:        }
40:        
41:        .search-bar {
42:          display: flex;
43:          align-items: center;
44:          background-color: #f5f5f5;
45:          border-radius: 6px;
46:          padding: 8px 12px;
47:          margin: 16px;
48:        }
49:        
50:        .search-bar input {
51:          border: none;
52:          background: none;
53:          outline: none;
54:          width: 100%;
55:          margin-left: 8px;
56:        }
57:        
58:        .dashboard-link {
59:          display: flex;
60:          align-items: center;
61:          padding: 10px 16px;
62:          margin: 0 12px;
63:          background-color: oklch(0.882 0.059 254.128);
64:          color: oklch(0.623 0.214 259.815);
65:          border-radius: 6px;
66:          text-decoration: none;
67:        }
68:        
69:        .dashboard-link svg {
70:          margin-right: 12px;
71:        }
72:        
73:        .category-header {
74:          display: flex;
75:          justify-content: space-between;
76:          align-items: center;
77:          padding: 16px;
78:          color: #6b7280;
79:          font-weight: 600;
80:          font-size: 0.8rem;
81:        }
82:        
83:        .history-header {
84:          display: flex;
85:          align-items: center;
86:          padding: 8px 16px;
87:          color: oklch(0.623 0.214 259.815);
88:          font-weight: 500;
89:        }
90:        
91:        .history-header svg {
92:          margin-right: 8px;
93:        }
94:        
95:        .prompt-item {
96:          padding: 12px 16px;
97:          cursor: pointer;
98:        }
99:        
100:        .prompt-item:hover {
101:          background-color: oklch(0.97 0.03 254.604);
102:          transition: 0.2s ease-in-out;
103:        }
104:        
105:        .prompt-item.selected {
106:          background-color: oklch(0.932 0.032 255.585);
107:        }
108:        
109:        .prompt-icon {
110:          margin-right: 12px;
111:          flex-shrink: 0;
112:        }
113:        
114:        .prompt-title {
115:          font-weight: 500;
116:          white-space: nowrap;
117:          overflow: hidden;
118:          text-overflow: ellipsis;
119:          max-width: 180px;
120:        }
121:        
122:        .prompt-date {
123:          font-size: 0.75rem;
124:          color: #6b7280;
125:          margin-top: 4px;
126:        }
127:        
128:        .content-area {
129:          flex: 1;
130:          padding: 20px;
131:        }
132:        
133:        .card {
134:          background-color: white;
135:          border-radius: 8px;
136:          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
137:          margin-bottom: 20px;
138:          overflow: hidden;
139:        }
140:        
141:        .card-header {
142:          padding: 12px 16px;
143:          font-weight: 600;
144:          color: white;
145:        }
146:        
147:        .card-header.dark {
148:          background-color: #1f2937;
149:        }
150:        
151:        .card-header.blue {
152:          background-color: oklch(0.623 0.214 259.815);
153:        }
154:        
155:        .card-content {
156:          padding: 16px;
157:        }
158:        
159:        .stats-container {
160:          display: flex;
161:          justify-content: space-between;
162:          align-items: center;
163:        }
164:        
165:        .stat-item {
166:          display: flex;
167:          align-items: center;
168:          margin-bottom: 16px;
169:        }
170:        
171:        .stat-icon {
172:          width: 40px;
173:          height: 40px;
174:          border-radius: 50%;
175:          display: flex;
176:          align-items: center;
177:          justify-content: center;
178:          margin-right: 12px;
179:        }
180:        
181:        .stat-icon.purple {
182:          background-color: #f3e8ff;
183:        }
184:    
185:        .thumbs-up {
186:          filter: brightness(100%);
187:          cursor: pointer;
188:          transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
189:        }
190:    
191:        .thumbs-up:hover {
192:          filter: brightness(200%);
193:          transform: scale(1.2);
194:        }
195:        
196:        .stat-icon.red {
197:          background-color: #fee2e2;
198:        }
199:    
200:        .thumbs-down:hover {
201:          filter: brightness(100%);
202:          cursor: pointer;
203:          transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
204:        }
205:    
206:        .thumbs-down:hover {
207:          filter: brightness(200%);
208:          transform: scale(1.2);
209:        }
210:        
211:        .stat-label {
212:          font-size: 0.8rem;
213:          color: #6b7280;
214:        }
215:    
216:        .chart {
217:            transform: scale(1);
218:            transition: transform 0.3s ease-in-out;
219:        }
220:    
221:        .chart:hover {
222:            transform: scale(1.2);
223:        }
224:        
225:        .stat-value {
226:          font-size: 1.5rem;
227:          font-weight: 700;
228:        }
229:        
230:        .dropdown {
231:          position: relative;
232:          border-radius: 2rem;
233:          transition: 0.2s ease-in-out;
234:        }
235:        
236:        .dropdown-menu {
237:          display: none;
238:          position: absolute;
239:          right: 0;
240:          top: 40px;
241:          background-color: white;
242:          border-radius: 6px;
243:          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
244:          min-width: 200px;
245:          z-index: 10;
246:        }
247:        
248:        .dropdown-header {
249:          padding: 12px 16px;
250:          font-weight: 600;
251:          border-bottom: 1px solid #f1f1f1;
252:        }
253:        
254:        .dropdown-item {
255:          padding: 12px 16px;
256:          display: block;
257:          color: #333;
258:          text-decoration: none;
259:          border-bottom: 1px solid #f1f1f1;
260:        }
261:        
262:        .dropdown-item:last-child {
263:          border-bottom: none;
264:        }
265:        
266:        .dropdown-item:hover {
267:          background-color: #f9fafb;
268:        }
269:        
270:        .dropdown-item.danger {
271:          color: #ef4444;
272:        }
273:        
274:        .flex {
275:          display: flex;
276:        }
277:        
278:        .flex-col {
279:          flex-direction: column;
280:        }
281:        
282:        .items-center {
283:          align-items: center;
284:        }
285:        
286:        .hidden {
287:          display: none;
288:        }
289:      </style>
290:    </head>
291:    <body>
292:      <!-- Header -->
293:      <header class="header">
294:        <h1><i class="fa-solid fa-worm fa-flip-horizontal"></i>PromptFlow</h1>
295:        
296:        <div class="flex items-center">
297:          <!-- Notifications -->
298:          <button style="margin-right: 16px; background: none; border: none; cursor: pointer;">
299:            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
300:              <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
301:              <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
302:            </svg>
303:          </button>
304:          
305:          <!-- Settings -->
306:          <button id="settings-button" style="margin-right: 16px; background: none; border: none; cursor: pointer;">
307:            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
308:              <circle cx="12" cy="12" r="3"></circle>
309:              <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
310:            </svg>
311:          </button>
312:          
313:          <!-- User Profile -->
314:          
315:          <% if Current.user %>
316:          <div class="dropdown">
317:            <button id="user-button" style="display: flex; align-items: center; background: none; border: none; cursor: pointer;">
318:              <div style="width: 32px; height: 32px; border-radius: 50%; background-color: #7c3aed; color: white; display: flex; align-items: center; justify-content: center; margin-right: 8px;">
319:                <span>DD</span>
320:              </div>
321:              <span style="font-weight: 500; margin-right: 4px;"><%= Current.user.%></span>
322:              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
323:                <polyline points="6 9 12 15 18 9"></polyline>
324:              </svg>
325:            </button>
326:            <div id="user-dropdown" class="dropdown-menu">
327:              <div class="dropdown-header">My Account</div>
328:              <a href="#" class="dropdown-item">Profile</a>
329:              <a href="#" class="dropdown-item">Settings</a>
330:              <a href="#" class="dropdown-item">Billing</a>
331:              <%= button_to "Log out", sign_out_path, method: :delete, class: "dropdown-item danger", turbo: false %>
332:            </div>
333:          </div>
334:          <% else %>
335:          <%= link_to "Log in", sign_in_path, method: :get, class: "dropdown-item danger", turbo: false %>
336:          <% end %>
337:        </div>
338:      </header>
339:      
340:      <div class="flex">
341:        <!-- Sidebar -->
342:        <div class="sidebar">
343:          <!-- Search Bar -->
344:          <div class="search-bar">
345:            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
346:              <circle cx="11" cy="11" r="8"></circle>
347:              <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
348:            </svg>
349:            <input type="text" placeholder="Search prompts..." />
350:          </div>
351:          
352:          <!-- Dashboard -->
353:          <a href="/get" class="dashboard-link">
354:            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
355:              <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
356:              <polyline points="9 22 9 12 15 12 15 22"></polyline>
357:            </svg>
358:            <span style="color: oklch(0.623 0.214 259.815)">Dashboard</span>
359:          </a>
360:          
361:          <!-- Prompt History -->
362:          <div style="margin-top: 20px;">
363:            <div class="category-header">
364:              <span>PROMPTS</span>
365:              <button id="new-prompt-button" style="background: none; border: none; color: #3b82f6; cursor: pointer;">
366:                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
367:                  <line x1="12" y1="5" x2="12" y2="19"></line>
368:                  <line x1="5" y1="12" x2="19" y2="12"></line>
369:                </svg>
370:              </button>
371:            </div>
372:            
373:            <!-- Prompt History Section -->
374:            <div>
375:              <div class="history-header">
376:                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="oklch(0.623 0.214 259.815)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
377:                  <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"></path>
378:                </svg>
379:                <span>Prompt History</span>
380:              </div>
381:              
382:              <!-- History Items -->
383:              <% if Current.user %>
384:                <div>
385:                <% @pss.each do |prompt| %>
386:                  <!-- Item 1 (selected) -->
387:                  <div class="prompt-item" data-id="<%= @i2 %>">
388:                    <div class="flex" style="align-items: flex-start;">
389:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
390:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
391:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
392:                      </svg>
393:                      <div>
394:                        <div class="prompt-title" style="color: oklch(0.623 0.214 259.815);"><%= prompt.system_prompt %></div>
395:                        <div class="prompt-date"><%= prompt.updated_at %></div>
396:                      </div>
397:                    </div>
398:                  </div>
399:                  <%# 
400:                  <!-- Item 2 -->
401:                  <div class="prompt-item" data-id="1">
402:                    <div class="flex" style="align-items: flex-start;">
403:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
404:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
405:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
406:                      </svg>
407:                      <div>
408:                        <div class="prompt-title">Design a logo for a tech startup</div>
409:                        <div class="prompt-date">2023-06-14</div>
410:                      </div>
411:                    </div>
412:                  </div>
413:                  
414:                  <!-- Item 3 -->
415:                  <div class="prompt-item" data-id="2">
416:                    <div class="flex" style="align-items: flex-start;">
417:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
418:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
419:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
420:                      </svg>
421:                      <div>
422:                        <div class="prompt-title">Write a product description for a new gadget</div>
423:                        <div class="prompt-date">2023-06-13</div>
424:                      </div>
425:                    </div>
426:                  </div>
427:                  
428:                  <!-- Item 4 -->
429:                  <div class="prompt-item" data-id="3">
430:                    <div class="flex" style="align-items: flex-start;">
431:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
432:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
433:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
434:                      </svg>
435:                      <div>
436:                        <div class="prompt-title">Generate ideas for a marketing campaign</div>
437:                        <div class="prompt-date">2023-06-12</div>
438:                      </div>
439:                    </div>
440:                  </div>
441:                  
442:                  <!-- Item 5 -->
443:                  <div class="prompt-item" data-id="4">
444:                    <div class="flex" style="align-items: flex-start;">
445:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
446:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
447:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
448:                      </svg>
449:                      <div>
450:                        <div class="prompt-title">Create a social media content calendar</div>
451:                        <div class="prompt-date">2023-06-11</div>
452:                      </div>
453:                    </div>
454:                  </div> %>
455:    
456:    
457:                <% @i2 = @i2 + 1%>
458:                <% end %>
459:                </div>
460:              <% else %>
461:    
462:              <% end %>
463:    
464:            </div>
465:          </div>
466:        </div>
467:        
468:        <!-- Main Content Area -->
469:        <div class="content-area">
470:          <!-- System Prompt Card -->
471:          <% if Current.user %>
472:            <% if @pss.first %>
473:              <div class="card">
474:                <div class="card-header dark">System Prompt</div>
475:                <div class="card-content">
476:                  <p id="prompt-description" style="line-height: 1.6; color: #4b5563;">
477:                    <%= @pss.first.system_prompt%>
478:                  </p>
479:                </div>
480:              </div>
481:            <% else %>
482:              <div class="card">
483:              <div class="card-header blue">
484:                <div style="display: flex; align-items: center;">
485:                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
486:                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
487:                  </svg>
488:                  No prompts created!
489:                </div>
490:              </div>
491:              <div class="card-content">
492:                <p style="line-height: 1.6; color: #4b5563;">
493:                  Create a prompt and begin optimizing!
494:                </p>
495:              </div>
496:            </div>
497:            <%end%>
498:          <% else %>
499:          <% end %>
500:          
501:          <!-- Statistics Card -->
502:          <% if Current.user %>
503:          <% if @pss.first %>
504:          <div class="card">
505:            <div class="card-header blue">
506:              <div style="display: flex; align-items: center;">
507:                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
508:                  <circle cx="12" cy="12" r="10"></circle>
509:                  <line x1="12" y1="16" x2="12" y2="12"></line>
510:                  <line x1="12" y1="8" x2="12.01" y2="8"></line>
511:                </svg>
512:                Statistics
513:              </div>
514:            </div>
515:            <div class="card-content">
516:              <div class="stats-container">
517:                <div>
518:                  <!-- Likes -->
519:                  <div class="stat-item">
520:                    <div class="stat-icon purple">
521:                      <svg class="thumbs-up" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#7c3aed" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
522:                        <path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>
523:                      </svg>
524:                    </div>
525:                    <div>
526:                      <div class="stat-label">Likes</div>
527:                      <div class="stat-value" id="likes"><%= @pss.first.like_count%></div>
528:                    </div>
529:                  </div>
530:                  
531:                  <!-- Dislikes -->
532:                  <div class="stat-item">
533:                    <div class="stat-icon red">
534:                      <svg class="thumbs-down" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#ef4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
535:                        <path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path>
536:                      </svg>
537:                    </div>
538:                    <div>
539:                      <div class="stat-label">Dislikes</div>
540:                      <div class="stat-value" id="dislikes"><%= @pss.first.dislike_count%></div>
541:                    </div>
542:                  </div>
543:                </div>
544:                
545:                <!-- Donut Chart -->
546:                <div>
547:                  <svg class="chart" width="150" height="150" viewBox="0 0 150 150">
548:                    <circle cx="75" cy="75" r="60" fill="transparent" stroke="#FF0000" stroke-width="20"></circle>
549:                    <circle id="likeCircle" cx="75" cy="75" r="60" fill="transparent" stroke="#008000" stroke-width="20" stroke-dasharray="<%= 377 * (@pss.first.like_count / (@pss.first.like_count + @pss.first.dislike_count)) %> <%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count)) %>" stroke-dashoffset="0"></circle>
550:    
551:                    <circle cx="75" cy="75" r="40" fill="white"></circle>
552:                  </svg>
553:                </div>
554:              </div>
555:            </div>
556:          </div>
557:          <% end %>
558:          <% else %>
559:          <% end %>
560:          
561:          <!-- AI Feedback Card -->
562:          <% if Current.user %>
563:          <% if @pss.first %>
564:          <div class="card">
565:            <div class="card-header blue">
566:              <div style="display: flex; align-items: center;">
567:                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
568:                  <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
569:                </svg>
570:                AI Feedback
571:              </div>
572:            </div>
573:            <div class="card-content">
574:              <p style="line-height: 1.6; color: #4b5563;" id="feedback">
575:                <%= @pss.first.ai_feedback%>
576:              </p>
577:            </div>
578:          </div>
579:          <% end %>
580:          <% else %>
581:          <div class="card">
582:            <div class="card-header blue">
583:              <div style="display: flex; align-items: center;">
584:                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
585:                  <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
586:                </svg>
587:                Login to access page!
588:              </div>
589:            </div>
590:            <div class="card-content">
591:              <p style="line-height: 1.6; color: #4b5563;">
592:                Login through your company/personal account to access the dashboard.
593:              </p>
594:            </div>
595:          </div>
596:          <% end %>
597:    
598:    
599:    
600:        </div>
601:      </div>
602:      
603:      <!-- New Prompt Modal -->
604:      <div id="new-prompt-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); z-index: 100; align-items: center; justify-content: center;">
605:        <div style="background-color: white; border-radius: 8px; padding: 24px; width: 90%; max-width: 500px; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);">
606:          <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 16px;">Create New Prompt</h3>
607:          <%# <form id="new-prompt-form">
608:            <div style="margin-bottom: 16px;">
609:              <label for="prompt-title" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt Title</label>
610:              <input type="text" id="prompt-title" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Enter a title for your prompt" />
611:            </div>
612:            <div style="margin-bottom: 16px;">
613:              <label for="prompt-text" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt</label>
614:              <textarea id="prompt-text" rows="5" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Write your prompt here..."></textarea>
615:            </div>
616:            <div style="display: flex; justify-content: flex-end; gap: 12px;">
617:              <button type="button" id="cancel-prompt" style="padding: 8px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
618:              <button type="submit" style="padding: 8px 16px; background-color: #7c3aed; color: white; border: none; border-radius: 6px; cursor: pointer;">Create</button>
619:            </div>
620:          </form> %>
621:          <%= form_with model: @ps, url: new_prompt_path, data: { turbo: false } do |form| %>
622:    <div class="mb-3">
623:        <%= form.label :uid %>
624:        <%= form.number_field :uid, class: "form-control", placeholder: "123" %>
625:    </div>
626:    <div class="mb-3">
627:        <%= form.label :system_prompt %>
628:        <%= form.text_field :system_prompt, class: "form-control" %>
629:    </div>
630:    <div class="mb-3">
631:      <button type="button" id="cancel-prompt" style="padding: 7px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
632:      <%= form.submit "Create form", class: "btn btn-primary" %>
633:    </div>
634:    <% end %>
635:        </div>
636:      </div>
637:    
638:      <script>
639:        // Sample prompt data
640:        const promptData = [
641:          <% if Current.user %>
642:          <% @pss.each do |prompt| %>
643:          {
644:            id: <%= @i %>,
645:            title: "<%= prompt.system_prompt %>",
646:            date: "<%= prompt.updated_at %>",
647:            content: "<%= prompt.system_prompt %>",
648:            likes: <%= prompt.like_count %>,
649:            dislikes: <%= prompt.dislike_count %>,
650:            feedback: "<%= prompt.ai_feedback %>"
651:          },
652:          <% @i = @i + 1%>
653:          <%end%>
654:    
655:          <% else %>
656:    
657:          <% end %>
658:        ];
659:        
660:        // Handle prompt item clicks
661:        document.querySelectorAll('.prompt-item').forEach(item => {
662:          item.addEventListener('click', () => {
663:            // Get prompt id
664:            const promptId = parseInt(item.getAttribute('data-id'));
665:            
666:            // Update selection visualization
667:            document.querySelectorAll('.prompt-item').forEach(el => {
668:              el.classList.remove('selected');
669:              el.querySelector('.prompt-title').style.color = '#374151';
670:            });
671:            
672:            item.classList.add('selected');
673:            item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
674:            
675:            // Update content based on selection
676:            const prompt = promptData.find(p => p.id === promptId);
677:            if (prompt) {
678:              document.getElementById('prompt-description').textContent = prompt.content;
679:              document.getElementById('likes').textContent = prompt.likes;
680:              document.getElementById('dislikes').textContent = prompt.dislikes;
681:              document.getElementById('feedback').textContent = prompt.feedback;
682:              let lip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
683:              let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
684:              document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
685:            }
686:          });
687:        });
688:        
689:        // Account dropdown functionality
690:        const userButton = document.getElementById('user-button');
691:        const userDropdown = document.getElementById('user-dropdown');
692:        
693:        userButton.addEventListener('click', (e) => {
694:          e.stopPropagation();
695:          userDropdown.style.display = userDropdown.style.display === 'block' ? 'none' : 'block';
696:        });
697:        
698:        // Close dropdown when clicking elsewhere
699:        document.addEventListener('click', () => {
700:          userDropdown.style.display = 'none';
701:        });
702:        
703:        // New prompt modal functionality
704:        const newPromptButton = document.getElementById('new-prompt-button');
705:        const newPromptModal = document.getElementById('new-prompt-modal');
706:        const cancelPromptButton = document.getElementById('cancel-prompt');
707:        const newPromptForm = document.getElementById('new-prompt-form');
708:        
709:        newPromptButton.addEventListener('click', () => {
710:          newPromptModal.style.display = 'flex';
711:        });
712:        
713:        cancelPromptButton.addEventListener('click', () => {
714:          newPromptModal.style.display = 'none';
715:          newPromptForm.reset();
716:        });
717:      
718:        
719:        // Prevent clicks inside the modal from closing it
720:        newPromptModal.querySelector('div').addEventListener('click', (e) => {
721:          e.stopPropagation();
722:        });
723:        
724:        // Close modal when clicking outside
725:        newPromptModal.addEventListener('click', () => {
726:          newPromptModal.style.display = 'none';
727:          newPromptForm.reset();
728:        });
729:    
730:        
731:        document.addEventListener('DOMContentLoaded', function() {
732:            let item = document.querySelector('.prompt-item');
733:            const promptId = 0;
734:            console.log(promptId);
735:            
736:            // Update selection visualization
737:            document.querySelectorAll('.prompt-item').forEach(el => {
738:              el.classList.remove('selected');
739:              el.querySelector('.prompt-title').style.color = '#374151';
740:            });
741:            
742:            item.classList.add('selected');
743:            item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
744:            
745:            // Update content based on selection
746:            const prompt = promptData.find(p => p.id === promptId);
747:            if (prompt) {
748:              document.getElementById('prompt-description').textContent = prompt.content;
749:              document.getElementById('likes').textContent = prompt.likes;
750:              document.getElementById('dislikes').textContent = prompt.dislikes;
751:              document.getElementById('feedback').textContent = prompt.feedback;
752:              let lip =377 * prompt.likes / (prompt.likes + prompt.dislikes);
753:              let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
754:              document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
755:            }
756:            console.log(promptId);
757:        });
758:    
759:      </script>
760:    </body>
761:    </html>
  
app/views/main/home.html.erb:321: syntax error, unexpected ')'
Started GET "/" for ::1 at 2025-03-23 01:39:14 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.8ms | Allocations: 3053)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | Allocations: 3145)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.2ms | Allocations: 4721)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <!DOCTYPE html>
<html lang="en">
  <% if @ps.errors.any? %>
    <div class="alert alert-danger">
        <% @ps.errors.full_messages.each do |messages| %>
        <div><%= messages %></div>
        <% end %>
    </div>
<% end %>
<head>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PromptFlow</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f5f5f5;
    }
    
    .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 20px;
      background-color: white;
      border-bottom: 1px solid #e1e1e1;
    }
    
    .sidebar {
      width: 280px;
      height: 100vh;
      background-color: white;
      border-right: 1px solid #e1e1e1;
      overflow-y: auto;
    }
    
    .search-bar {
      display: flex;
      align-items: center;
      background-color: #f5f5f5;
      border-radius: 6px;
      padding: 8px 12px;
      margin: 16px;
    }
    
    .search-bar input {
      border: none;
      background: none;
      outline: none;
      width: 100%;
      margin-left: 8px;
    }
    
    .dashboard-link {
      display: flex;
      align-items: center;
      padding: 10px 16px;
      margin: 0 12px;
      background-color: oklch(0.882 0.059 254.128);
      color: oklch(0.623 0.214 259.815);
      border-radius: 6px;
      text-decoration: none;
    }
    
    .dashboard-link svg {
      margin-right: 12px;
    }
    
    .category-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 16px;
      color: #6b7280;
      font-weight: 600;
      font-size: 0.8rem;
    }
    
    .history-header {
      display: flex;
      align-items: center;
      padding: 8px 16px;
      color: oklch(0.623 0.214 259.815);
      font-weight: 500;
    }
    
    .history-header svg {
      margin-right: 8px;
    }
    
    .prompt-item {
      padding: 12px 16px;
      cursor: pointer;
    }
    
    .prompt-item:hover {
      background-color: oklch(0.97 0.03 254.604);
      transition: 0.2s ease-in-out;
    }
    
    .prompt-item.selected {
      background-color: oklch(0.932 0.032 255.585);
    }
    
    .prompt-icon {
      margin-right: 12px;
      flex-shrink: 0;
    }
    
    .prompt-title {
      font-weight: 500;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      max-width: 180px;
    }
    
    .prompt-date {
      font-size: 0.75rem;
      color: #6b7280;
      margin-top: 4px;
    }
    
    .content-area {
      flex: 1;
      padding: 20px;
    }
    
    .card {
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      margin-bottom: 20px;
      overflow: hidden;
    }
    
    .card-header {
      padding: 12px 16px;
      font-weight: 600;
      color: white;
    }
    
    .card-header.dark {
      background-color: #1f2937;
    }
    
    .card-header.blue {
      background-color: oklch(0.623 0.214 259.815);
    }
    
    .card-content {
      padding: 16px;
    }
    
    .stats-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .stat-item {
      display: flex;
      align-items: center;
      margin-bottom: 16px;
    }
    
    .stat-icon {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 12px;
    }
    
    .stat-icon.purple {
      background-color: #f3e8ff;
    }

    .thumbs-up {
      filter: brightness(100%);
      cursor: pointer;
      transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
    }

    .thumbs-up:hover {
      filter: brightness(200%);
      transform: scale(1.2);
    }
    
    .stat-icon.red {
      background-color: #fee2e2;
    }

    .thumbs-down:hover {
      filter: brightness(100%);
      cursor: pointer;
      transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
    }

    .thumbs-down:hover {
      filter: brightness(200%);
      transform: scale(1.2);
    }
    
    .stat-label {
      font-size: 0.8rem;
      color: #6b7280;
    }

    .chart {
        transform: scale(1);
        transition: transform 0.3s ease-in-out;
    }

    .chart:hover {
        transform: scale(1.2);
    }
    
    .stat-value {
      font-size: 1.5rem;
      font-weight: 700;
    }
    
    .dropdown {
      position: relative;
      border-radius: 2rem;
      transition: 0.2s ease-in-out;
    }
    
    .dropdown-menu {
      display: none;
      position: absolute;
      right: 0;
      top: 40px;
      background-color: white;
      border-radius: 6px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      min-width: 200px;
      z-index: 10;
    }
    
    .dropdown-header {
      padding: 12px 16px;
      font-weight: 600;
      border-bottom: 1px solid #f1f1f1;
    }
    
    .dropdown-item {
      padding: 12px 16px;
      display: block;
      color: #333;
      text-decoration: none;
      border-bottom: 1px solid #f1f1f1;
    }
    
    .dropdown-item:last-child {
      border-bottom: none;
    }
    
    .dropdown-item:hover {
      background-color: #f9fafb;
    }
    
    .dropdown-item.danger {
      color: #ef4444;
    }
    
    .flex {
      display: flex;
    }
    
    .flex-col {
      flex-direction: column;
    }
    
    .items-center {
      align-items: center;
    }
    
    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <h1><i class="fa-solid fa-worm fa-flip-horizontal"></i>PromptFlow</h1>
    
    <div class="flex items-center">
      <!-- Notifications -->
      <button style="margin-right: 16px; background: none; border: none; cursor: pointer;">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
          <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
        </svg>
      </button>
      
      <!-- Settings -->
      <button id="settings-button" style="margin-right: 16px; background: none; border: none; cursor: pointer;">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="3"></circle>
          <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
        </svg>
      </button>
      
      <!-- User Profile -->
      
      <% if Current.user %>
      <div class="dropdown">
        <button id="user-button" style="display: flex; align-items: center; background: none; border: none; cursor: pointer;">
          <div style="width: 32px; height: 32px; border-radius: 50%; background-color: #7c3aed; color: white; display: flex; align-items: center; justify-content: center; margin-right: 8px;">
            <span>DD</span>
          </div>
          <span style="font-weight: 500; margin-right: 4px;"><%= Current.user.%></span>
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="6 9 12 15 18 9"></polyline>
          </svg>
        </button>
        <div id="user-dropdown" class="dropdown-menu">
          <div class="dropdown-header">My Account</div>
          <a href="#" class="dropdown-item">Profile</a>
          <a href="#" class="dropdown-item">Settings</a>
          <a href="#" class="dropdown-item">Billing</a>
          <%= button_to "Log out", sign_out_path, method: :delete, class: "dropdown-item danger", turbo: false %>
        </div>
      </div>
      <% else %>
      <%= link_to "Log in", sign_in_path, method: :get, class: "dropdown-item danger", turbo: false %>
      <% end %>
    </div>
  </header>
  
  <div class="flex">
    <!-- Sidebar -->
    <div class="sidebar">
      <!-- Search Bar -->
      <div class="search-bar">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="11" cy="11" r="8"></circle>
          <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
        <input type="text" placeholder="Search prompts..." />
      </div>
      
      <!-- Dashboard -->
      <a href="/get" class="dashboard-link">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
          <polyline points="9 22 9 12 15 12 15 22"></polyline>
        </svg>
        <span style="color: oklch(0.623 0.214 259.815)">Dashboard</span>
      </a>
      
      <!-- Prompt History -->
      <div style="margin-top: 20px;">
        <div class="category-header">
          <span>PROMPTS</span>
          <button id="new-prompt-button" style="background: none; border: none; color: #3b82f6; cursor: pointer;">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="12" y1="5" x2="12" y2="19"></line>
              <line x1="5" y1="12" x2="19" y2="12"></line>
            </svg>
          </button>
        </div>
        
        <!-- Prompt History Section -->
        <div>
          <div class="history-header">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="oklch(0.623 0.214 259.815)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"></path>
            </svg>
            <span>Prompt History</span>
          </div>
          
          <!-- History Items -->
          <% if Current.user %>
            <div>
            <% @pss.each do |prompt| %>
              <!-- Item 1 (selected) -->
              <div class="prompt-item" data-id="<%= @i2 %>">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title" style="color: oklch(0.623 0.214 259.815);"><%= prompt.system_prompt %></div>
                    <div class="prompt-date"><%= prompt.updated_at %></div>
                  </div>
                </div>
              </div>
              <%# 
              <!-- Item 2 -->
              <div class="prompt-item" data-id="1">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Design a logo for a tech startup</div>
                    <div class="prompt-date">2023-06-14</div>
                  </div>
                </div>
              </div>
              
              <!-- Item 3 -->
              <div class="prompt-item" data-id="2">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Write a product description for a new gadget</div>
                    <div class="prompt-date">2023-06-13</div>
                  </div>
                </div>
              </div>
              
              <!-- Item 4 -->
              <div class="prompt-item" data-id="3">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Generate ideas for a marketing campaign</div>
                    <div class="prompt-date">2023-06-12</div>
                  </div>
                </div>
              </div>
              
              <!-- Item 5 -->
              <div class="prompt-item" data-id="4">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Create a social media content calendar</div>
                    <div class="prompt-date">2023-06-11</div>
                  </div>
                </div>
              </div> %>


            <% @i2 = @i2 + 1%>
            <% end %>
            </div>
          <% else %>

          <% end %>

        </div>
      </div>
    </div>
    
    <!-- Main Content Area -->
    <div class="content-area">
      <!-- System Prompt Card -->
      <% if Current.user %>
        <% if @pss.first %>
          <div class="card">
            <div class="card-header dark">System Prompt</div>
            <div class="card-content">
              <p id="prompt-description" style="line-height: 1.6; color: #4b5563;">
                <%= @pss.first.system_prompt%>
              </p>
            </div>
          </div>
        <% else %>
          <div class="card">
          <div class="card-header blue">
            <div style="display: flex; align-items: center;">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
              </svg>
              No prompts created!
            </div>
          </div>
          <div class="card-content">
            <p style="line-height: 1.6; color: #4b5563;">
              Create a prompt and begin optimizing!
            </p>
          </div>
        </div>
        <%end%>
      <% else %>
      <% end %>
      
      <!-- Statistics Card -->
      <% if Current.user %>
      <% if @pss.first %>
      <div class="card">
        <div class="card-header blue">
          <div style="display: flex; align-items: center;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
              <circle cx="12" cy="12" r="10"></circle>
              <line x1="12" y1="16" x2="12" y2="12"></line>
              <line x1="12" y1="8" x2="12.01" y2="8"></line>
            </svg>
            Statistics
          </div>
        </div>
        <div class="card-content">
          <div class="stats-container">
            <div>
              <!-- Likes -->
              <div class="stat-item">
                <div class="stat-icon purple">
                  <svg class="thumbs-up" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#7c3aed" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>
                  </svg>
                </div>
                <div>
                  <div class="stat-label">Likes</div>
                  <div class="stat-value" id="likes"><%= @pss.first.like_count%></div>
                </div>
              </div>
              
              <!-- Dislikes -->
              <div class="stat-item">
                <div class="stat-icon red">
                  <svg class="thumbs-down" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#ef4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path>
                  </svg>
                </div>
                <div>
                  <div class="stat-label">Dislikes</div>
                  <div class="stat-value" id="dislikes"><%= @pss.first.dislike_count%></div>
                </div>
              </div>
            </div>
            
            <!-- Donut Chart -->
            <div>
              <svg class="chart" width="150" height="150" viewBox="0 0 150 150">
                <circle cx="75" cy="75" r="60" fill="transparent" stroke="#FF0000" stroke-width="20"></circle>
                <circle id="likeCircle" cx="75" cy="75" r="60" fill="transparent" stroke="#008000" stroke-width="20" stroke-dasharray="<%= 377 * (@pss.first.like_count / (@pss.first.like_count + @pss.first.dislike_count)) %> <%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count)) %>" stroke-dashoffset="0"></circle>

                <circle cx="75" cy="75" r="40" fill="white"></circle>
              </svg>
            </div>
          </div>
        </div>
      </div>
      <% end %>
      <% else %>
      <% end %>
      
      <!-- AI Feedback Card -->
      <% if Current.user %>
      <% if @pss.first %>
      <div class="card">
        <div class="card-header blue">
          <div style="display: flex; align-items: center;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
              <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
            </svg>
            AI Feedback
          </div>
        </div>
        <div class="card-content">
          <p style="line-height: 1.6; color: #4b5563;" id="feedback">
            <%= @pss.first.ai_feedback%>
          </p>
        </div>
      </div>
      <% end %>
      <% else %>
      <div class="card">
        <div class="card-header blue">
          <div style="display: flex; align-items: center;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
              <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
            </svg>
            Login to access page!
          </div>
        </div>
        <div class="card-content">
          <p style="line-height: 1.6; color: #4b5563;">
            Login through your company/personal account to access the dashboard.
          </p>
        </div>
      </div>
      <% end %>



    </div>
  </div>
  
  <!-- New Prompt Modal -->
  <div id="new-prompt-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); z-index: 100; align-items: center; justify-content: center;">
    <div style="background-color: white; border-radius: 8px; padding: 24px; width: 90%; max-width: 500px; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);">
      <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 16px;">Create New Prompt</h3>
      <%# <form id="new-prompt-form">
        <div style="margin-bottom: 16px;">
          <label for="prompt-title" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt Title</label>
          <input type="text" id="prompt-title" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Enter a title for your prompt" />
        </div>
        <div style="margin-bottom: 16px;">
          <label for="prompt-text" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt</label>
          <textarea id="prompt-text" rows="5" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Write your prompt here..."></textarea>
        </div>
        <div style="display: flex; justify-content: flex-end; gap: 12px;">
          <button type="button" id="cancel-prompt" style="padding: 8px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
          <button type="submit" style="padding: 8px 16px; background-color: #7c3aed; color: white; border: none; border-radius: 6px; cursor: pointer;">Create</button>
        </div>
      </form> %>
      <%= form_with model: @ps, url: new_prompt_path, data: { turbo: false } do |form| %>
<div class="mb-3">
    <%= form.label :uid %>
    <%= form.number_field :uid, class: "form-control", placeholder: "123" %>
</div>
<div class="mb-3">
    <%= form.label :system_prompt %>
    <%= form.text_field :system_prompt, class: "form-control" %>
</div>
<div class="mb-3">
  <button type="button" id="cancel-prompt" style="padding: 7px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
  <%= form.submit "Create form", class: "btn btn-primary" %>
</div>
<% end %>
    </div>
  </div>

  <script>
    // Sample prompt data
    const promptData = [
      <% if Current.user %>
      <% @pss.each do |prompt| %>
      {
        id: <%= @i %>,
        title: "<%= prompt.system_prompt %>",
        date: "<%= prompt.updated_at %>",
        content: "<%= prompt.system_prompt %>",
        likes: <%= prompt.like_count %>,
        dislikes: <%= prompt.dislike_count %>,
        feedback: "<%= prompt.ai_feedback %>"
      },
      <% @i = @i + 1%>
      <%end%>

      <% else %>

      <% end %>
    ];
    
    // Handle prompt item clicks
    document.querySelectorAll('.prompt-item').forEach(item => {
      item.addEventListener('click', () => {
        // Get prompt id
        const promptId = parseInt(item.getAttribute('data-id'));
        
        // Update selection visualization
        document.querySelectorAll('.prompt-item').forEach(el => {
          el.classList.remove('selected');
          el.querySelector('.prompt-title').style.color = '#374151';
        });
        
        item.classList.add('selected');
        item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
        
        // Update content based on selection
        const prompt = promptData.find(p => p.id === promptId);
        if (prompt) {
          document.getElementById('prompt-description').textContent = prompt.content;
          document.getElementById('likes').textContent = prompt.likes;
          document.getElementById('dislikes').textContent = prompt.dislikes;
          document.getElementById('feedback').textContent = prompt.feedback;
          let lip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
          let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
          document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
        }
      });
    });
    
    // Account dropdown functionality
    const userButton = document.getElementById('user-button');
    const userDropdown = document.getElementById('user-dropdown');
    
    userButton.addEventListener('click', (e) => {
      e.stopPropagation();
      userDropdown.style.display = userDropdown.style.display === 'block' ? 'none' : 'block';
    });
    
    // Close dropdown when clicking elsewhere
    document.addEventListener('click', () => {
      userDropdown.style.display = 'none';
    });
    
    // New prompt modal functionality
    const newPromptButton = document.getElementById('new-prompt-button');
    const newPromptModal = document.getElementById('new-prompt-modal');
    const cancelPromptButton = document.getElementById('cancel-prompt');
    const newPromptForm = document.getElementById('new-prompt-form');
    
    newPromptButton.addEventListener('click', () => {
      newPromptModal.style.display = 'flex';
    });
    
    cancelPromptButton.addEventListener('click', () => {
      newPromptModal.style.display = 'none';
      newPromptForm.reset();
    });
  
    
    // Prevent clicks inside the modal from closing it
    newPromptModal.querySelector('div').addEventListener('click', (e) => {
      e.stopPropagation();
    });
    
    // Close modal when clicking outside
    newPromptModal.addEventListener('click', () => {
      newPromptModal.style.display = 'none';
      newPromptForm.reset();
    });

    
    document.addEventListener('DOMContentLoaded', function() {
        let item = document.querySelector('.prompt-item');
        const promptId = 0;
        console.log(promptId);
        
        // Update selection visualization
        document.querySelectorAll('.prompt-item').forEach(el => {
          el.classList.remove('selected');
          el.querySelector('.prompt-title').style.color = '#374151';
        });
        
        item.classList.add('selected');
        item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
        
        // Update content based on selection
        const prompt = promptData.find(p => p.id === promptId);
        if (prompt) {
          document.getElementById('prompt-description').textContent = prompt.content;
          document.getElementById('likes').textContent = prompt.likes;
          document.getElementById('dislikes').textContent = prompt.dislikes;
          document.getElementById('feedback').textContent = prompt.feedback;
          let lip =377 * prompt.likes / (prompt.likes + prompt.dislikes);
          let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
          document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
        }
        console.log(promptId);
    });

  </script>
</body>
</html>
):
1:    <!DOCTYPE html>
2:    <html lang="en">
3:      <% if @ps.errors.any? %>
4:        <div class="alert alert-danger">
5:            <% @ps.errors.full_messages.each do |messages| %>
6:            <div><%= messages %></div>
7:            <% end %>
8:        </div>
9:    <% end %>
10:    <head>
11:    
12:      <meta charset="UTF-8" />
13:      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
14:      <title>PromptFlow</title>
15:      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
16:      <style>
17:        body {
18:          font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
19:          margin: 0;
20:          padding: 0;
21:          background-color: #f5f5f5;
22:        }
23:        
24:        .header {
25:          display: flex;
26:          align-items: center;
27:          justify-content: space-between;
28:          padding: 10px 20px;
29:          background-color: white;
30:          border-bottom: 1px solid #e1e1e1;
31:        }
32:        
33:        .sidebar {
34:          width: 280px;
35:          height: 100vh;
36:          background-color: white;
37:          border-right: 1px solid #e1e1e1;
38:          overflow-y: auto;
39:        }
40:        
41:        .search-bar {
42:          display: flex;
43:          align-items: center;
44:          background-color: #f5f5f5;
45:          border-radius: 6px;
46:          padding: 8px 12px;
47:          margin: 16px;
48:        }
49:        
50:        .search-bar input {
51:          border: none;
52:          background: none;
53:          outline: none;
54:          width: 100%;
55:          margin-left: 8px;
56:        }
57:        
58:        .dashboard-link {
59:          display: flex;
60:          align-items: center;
61:          padding: 10px 16px;
62:          margin: 0 12px;
63:          background-color: oklch(0.882 0.059 254.128);
64:          color: oklch(0.623 0.214 259.815);
65:          border-radius: 6px;
66:          text-decoration: none;
67:        }
68:        
69:        .dashboard-link svg {
70:          margin-right: 12px;
71:        }
72:        
73:        .category-header {
74:          display: flex;
75:          justify-content: space-between;
76:          align-items: center;
77:          padding: 16px;
78:          color: #6b7280;
79:          font-weight: 600;
80:          font-size: 0.8rem;
81:        }
82:        
83:        .history-header {
84:          display: flex;
85:          align-items: center;
86:          padding: 8px 16px;
87:          color: oklch(0.623 0.214 259.815);
88:          font-weight: 500;
89:        }
90:        
91:        .history-header svg {
92:          margin-right: 8px;
93:        }
94:        
95:        .prompt-item {
96:          padding: 12px 16px;
97:          cursor: pointer;
98:        }
99:        
100:        .prompt-item:hover {
101:          background-color: oklch(0.97 0.03 254.604);
102:          transition: 0.2s ease-in-out;
103:        }
104:        
105:        .prompt-item.selected {
106:          background-color: oklch(0.932 0.032 255.585);
107:        }
108:        
109:        .prompt-icon {
110:          margin-right: 12px;
111:          flex-shrink: 0;
112:        }
113:        
114:        .prompt-title {
115:          font-weight: 500;
116:          white-space: nowrap;
117:          overflow: hidden;
118:          text-overflow: ellipsis;
119:          max-width: 180px;
120:        }
121:        
122:        .prompt-date {
123:          font-size: 0.75rem;
124:          color: #6b7280;
125:          margin-top: 4px;
126:        }
127:        
128:        .content-area {
129:          flex: 1;
130:          padding: 20px;
131:        }
132:        
133:        .card {
134:          background-color: white;
135:          border-radius: 8px;
136:          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
137:          margin-bottom: 20px;
138:          overflow: hidden;
139:        }
140:        
141:        .card-header {
142:          padding: 12px 16px;
143:          font-weight: 600;
144:          color: white;
145:        }
146:        
147:        .card-header.dark {
148:          background-color: #1f2937;
149:        }
150:        
151:        .card-header.blue {
152:          background-color: oklch(0.623 0.214 259.815);
153:        }
154:        
155:        .card-content {
156:          padding: 16px;
157:        }
158:        
159:        .stats-container {
160:          display: flex;
161:          justify-content: space-between;
162:          align-items: center;
163:        }
164:        
165:        .stat-item {
166:          display: flex;
167:          align-items: center;
168:          margin-bottom: 16px;
169:        }
170:        
171:        .stat-icon {
172:          width: 40px;
173:          height: 40px;
174:          border-radius: 50%;
175:          display: flex;
176:          align-items: center;
177:          justify-content: center;
178:          margin-right: 12px;
179:        }
180:        
181:        .stat-icon.purple {
182:          background-color: #f3e8ff;
183:        }
184:    
185:        .thumbs-up {
186:          filter: brightness(100%);
187:          cursor: pointer;
188:          transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
189:        }
190:    
191:        .thumbs-up:hover {
192:          filter: brightness(200%);
193:          transform: scale(1.2);
194:        }
195:        
196:        .stat-icon.red {
197:          background-color: #fee2e2;
198:        }
199:    
200:        .thumbs-down:hover {
201:          filter: brightness(100%);
202:          cursor: pointer;
203:          transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
204:        }
205:    
206:        .thumbs-down:hover {
207:          filter: brightness(200%);
208:          transform: scale(1.2);
209:        }
210:        
211:        .stat-label {
212:          font-size: 0.8rem;
213:          color: #6b7280;
214:        }
215:    
216:        .chart {
217:            transform: scale(1);
218:            transition: transform 0.3s ease-in-out;
219:        }
220:    
221:        .chart:hover {
222:            transform: scale(1.2);
223:        }
224:        
225:        .stat-value {
226:          font-size: 1.5rem;
227:          font-weight: 700;
228:        }
229:        
230:        .dropdown {
231:          position: relative;
232:          border-radius: 2rem;
233:          transition: 0.2s ease-in-out;
234:        }
235:        
236:        .dropdown-menu {
237:          display: none;
238:          position: absolute;
239:          right: 0;
240:          top: 40px;
241:          background-color: white;
242:          border-radius: 6px;
243:          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
244:          min-width: 200px;
245:          z-index: 10;
246:        }
247:        
248:        .dropdown-header {
249:          padding: 12px 16px;
250:          font-weight: 600;
251:          border-bottom: 1px solid #f1f1f1;
252:        }
253:        
254:        .dropdown-item {
255:          padding: 12px 16px;
256:          display: block;
257:          color: #333;
258:          text-decoration: none;
259:          border-bottom: 1px solid #f1f1f1;
260:        }
261:        
262:        .dropdown-item:last-child {
263:          border-bottom: none;
264:        }
265:        
266:        .dropdown-item:hover {
267:          background-color: #f9fafb;
268:        }
269:        
270:        .dropdown-item.danger {
271:          color: #ef4444;
272:        }
273:        
274:        .flex {
275:          display: flex;
276:        }
277:        
278:        .flex-col {
279:          flex-direction: column;
280:        }
281:        
282:        .items-center {
283:          align-items: center;
284:        }
285:        
286:        .hidden {
287:          display: none;
288:        }
289:      </style>
290:    </head>
291:    <body>
292:      <!-- Header -->
293:      <header class="header">
294:        <h1><i class="fa-solid fa-worm fa-flip-horizontal"></i>PromptFlow</h1>
295:        
296:        <div class="flex items-center">
297:          <!-- Notifications -->
298:          <button style="margin-right: 16px; background: none; border: none; cursor: pointer;">
299:            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
300:              <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
301:              <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
302:            </svg>
303:          </button>
304:          
305:          <!-- Settings -->
306:          <button id="settings-button" style="margin-right: 16px; background: none; border: none; cursor: pointer;">
307:            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
308:              <circle cx="12" cy="12" r="3"></circle>
309:              <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
310:            </svg>
311:          </button>
312:          
313:          <!-- User Profile -->
314:          
315:          <% if Current.user %>
316:          <div class="dropdown">
317:            <button id="user-button" style="display: flex; align-items: center; background: none; border: none; cursor: pointer;">
318:              <div style="width: 32px; height: 32px; border-radius: 50%; background-color: #7c3aed; color: white; display: flex; align-items: center; justify-content: center; margin-right: 8px;">
319:                <span>DD</span>
320:              </div>
321:              <span style="font-weight: 500; margin-right: 4px;"><%= Current.user.%></span>
322:              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
323:                <polyline points="6 9 12 15 18 9"></polyline>
324:              </svg>
325:            </button>
326:            <div id="user-dropdown" class="dropdown-menu">
327:              <div class="dropdown-header">My Account</div>
328:              <a href="#" class="dropdown-item">Profile</a>
329:              <a href="#" class="dropdown-item">Settings</a>
330:              <a href="#" class="dropdown-item">Billing</a>
331:              <%= button_to "Log out", sign_out_path, method: :delete, class: "dropdown-item danger", turbo: false %>
332:            </div>
333:          </div>
334:          <% else %>
335:          <%= link_to "Log in", sign_in_path, method: :get, class: "dropdown-item danger", turbo: false %>
336:          <% end %>
337:        </div>
338:      </header>
339:      
340:      <div class="flex">
341:        <!-- Sidebar -->
342:        <div class="sidebar">
343:          <!-- Search Bar -->
344:          <div class="search-bar">
345:            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
346:              <circle cx="11" cy="11" r="8"></circle>
347:              <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
348:            </svg>
349:            <input type="text" placeholder="Search prompts..." />
350:          </div>
351:          
352:          <!-- Dashboard -->
353:          <a href="/get" class="dashboard-link">
354:            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
355:              <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
356:              <polyline points="9 22 9 12 15 12 15 22"></polyline>
357:            </svg>
358:            <span style="color: oklch(0.623 0.214 259.815)">Dashboard</span>
359:          </a>
360:          
361:          <!-- Prompt History -->
362:          <div style="margin-top: 20px;">
363:            <div class="category-header">
364:              <span>PROMPTS</span>
365:              <button id="new-prompt-button" style="background: none; border: none; color: #3b82f6; cursor: pointer;">
366:                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
367:                  <line x1="12" y1="5" x2="12" y2="19"></line>
368:                  <line x1="5" y1="12" x2="19" y2="12"></line>
369:                </svg>
370:              </button>
371:            </div>
372:            
373:            <!-- Prompt History Section -->
374:            <div>
375:              <div class="history-header">
376:                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="oklch(0.623 0.214 259.815)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
377:                  <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"></path>
378:                </svg>
379:                <span>Prompt History</span>
380:              </div>
381:              
382:              <!-- History Items -->
383:              <% if Current.user %>
384:                <div>
385:                <% @pss.each do |prompt| %>
386:                  <!-- Item 1 (selected) -->
387:                  <div class="prompt-item" data-id="<%= @i2 %>">
388:                    <div class="flex" style="align-items: flex-start;">
389:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
390:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
391:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
392:                      </svg>
393:                      <div>
394:                        <div class="prompt-title" style="color: oklch(0.623 0.214 259.815);"><%= prompt.system_prompt %></div>
395:                        <div class="prompt-date"><%= prompt.updated_at %></div>
396:                      </div>
397:                    </div>
398:                  </div>
399:                  <%# 
400:                  <!-- Item 2 -->
401:                  <div class="prompt-item" data-id="1">
402:                    <div class="flex" style="align-items: flex-start;">
403:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
404:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
405:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
406:                      </svg>
407:                      <div>
408:                        <div class="prompt-title">Design a logo for a tech startup</div>
409:                        <div class="prompt-date">2023-06-14</div>
410:                      </div>
411:                    </div>
412:                  </div>
413:                  
414:                  <!-- Item 3 -->
415:                  <div class="prompt-item" data-id="2">
416:                    <div class="flex" style="align-items: flex-start;">
417:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
418:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
419:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
420:                      </svg>
421:                      <div>
422:                        <div class="prompt-title">Write a product description for a new gadget</div>
423:                        <div class="prompt-date">2023-06-13</div>
424:                      </div>
425:                    </div>
426:                  </div>
427:                  
428:                  <!-- Item 4 -->
429:                  <div class="prompt-item" data-id="3">
430:                    <div class="flex" style="align-items: flex-start;">
431:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
432:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
433:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
434:                      </svg>
435:                      <div>
436:                        <div class="prompt-title">Generate ideas for a marketing campaign</div>
437:                        <div class="prompt-date">2023-06-12</div>
438:                      </div>
439:                    </div>
440:                  </div>
441:                  
442:                  <!-- Item 5 -->
443:                  <div class="prompt-item" data-id="4">
444:                    <div class="flex" style="align-items: flex-start;">
445:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
446:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
447:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
448:                      </svg>
449:                      <div>
450:                        <div class="prompt-title">Create a social media content calendar</div>
451:                        <div class="prompt-date">2023-06-11</div>
452:                      </div>
453:                    </div>
454:                  </div> %>
455:    
456:    
457:                <% @i2 = @i2 + 1%>
458:                <% end %>
459:                </div>
460:              <% else %>
461:    
462:              <% end %>
463:    
464:            </div>
465:          </div>
466:        </div>
467:        
468:        <!-- Main Content Area -->
469:        <div class="content-area">
470:          <!-- System Prompt Card -->
471:          <% if Current.user %>
472:            <% if @pss.first %>
473:              <div class="card">
474:                <div class="card-header dark">System Prompt</div>
475:                <div class="card-content">
476:                  <p id="prompt-description" style="line-height: 1.6; color: #4b5563;">
477:                    <%= @pss.first.system_prompt%>
478:                  </p>
479:                </div>
480:              </div>
481:            <% else %>
482:              <div class="card">
483:              <div class="card-header blue">
484:                <div style="display: flex; align-items: center;">
485:                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
486:                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
487:                  </svg>
488:                  No prompts created!
489:                </div>
490:              </div>
491:              <div class="card-content">
492:                <p style="line-height: 1.6; color: #4b5563;">
493:                  Create a prompt and begin optimizing!
494:                </p>
495:              </div>
496:            </div>
497:            <%end%>
498:          <% else %>
499:          <% end %>
500:          
501:          <!-- Statistics Card -->
502:          <% if Current.user %>
503:          <% if @pss.first %>
504:          <div class="card">
505:            <div class="card-header blue">
506:              <div style="display: flex; align-items: center;">
507:                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
508:                  <circle cx="12" cy="12" r="10"></circle>
509:                  <line x1="12" y1="16" x2="12" y2="12"></line>
510:                  <line x1="12" y1="8" x2="12.01" y2="8"></line>
511:                </svg>
512:                Statistics
513:              </div>
514:            </div>
515:            <div class="card-content">
516:              <div class="stats-container">
517:                <div>
518:                  <!-- Likes -->
519:                  <div class="stat-item">
520:                    <div class="stat-icon purple">
521:                      <svg class="thumbs-up" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#7c3aed" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
522:                        <path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>
523:                      </svg>
524:                    </div>
525:                    <div>
526:                      <div class="stat-label">Likes</div>
527:                      <div class="stat-value" id="likes"><%= @pss.first.like_count%></div>
528:                    </div>
529:                  </div>
530:                  
531:                  <!-- Dislikes -->
532:                  <div class="stat-item">
533:                    <div class="stat-icon red">
534:                      <svg class="thumbs-down" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#ef4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
535:                        <path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path>
536:                      </svg>
537:                    </div>
538:                    <div>
539:                      <div class="stat-label">Dislikes</div>
540:                      <div class="stat-value" id="dislikes"><%= @pss.first.dislike_count%></div>
541:                    </div>
542:                  </div>
543:                </div>
544:                
545:                <!-- Donut Chart -->
546:                <div>
547:                  <svg class="chart" width="150" height="150" viewBox="0 0 150 150">
548:                    <circle cx="75" cy="75" r="60" fill="transparent" stroke="#FF0000" stroke-width="20"></circle>
549:                    <circle id="likeCircle" cx="75" cy="75" r="60" fill="transparent" stroke="#008000" stroke-width="20" stroke-dasharray="<%= 377 * (@pss.first.like_count / (@pss.first.like_count + @pss.first.dislike_count)) %> <%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count)) %>" stroke-dashoffset="0"></circle>
550:    
551:                    <circle cx="75" cy="75" r="40" fill="white"></circle>
552:                  </svg>
553:                </div>
554:              </div>
555:            </div>
556:          </div>
557:          <% end %>
558:          <% else %>
559:          <% end %>
560:          
561:          <!-- AI Feedback Card -->
562:          <% if Current.user %>
563:          <% if @pss.first %>
564:          <div class="card">
565:            <div class="card-header blue">
566:              <div style="display: flex; align-items: center;">
567:                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
568:                  <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
569:                </svg>
570:                AI Feedback
571:              </div>
572:            </div>
573:            <div class="card-content">
574:              <p style="line-height: 1.6; color: #4b5563;" id="feedback">
575:                <%= @pss.first.ai_feedback%>
576:              </p>
577:            </div>
578:          </div>
579:          <% end %>
580:          <% else %>
581:          <div class="card">
582:            <div class="card-header blue">
583:              <div style="display: flex; align-items: center;">
584:                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
585:                  <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
586:                </svg>
587:                Login to access page!
588:              </div>
589:            </div>
590:            <div class="card-content">
591:              <p style="line-height: 1.6; color: #4b5563;">
592:                Login through your company/personal account to access the dashboard.
593:              </p>
594:            </div>
595:          </div>
596:          <% end %>
597:    
598:    
599:    
600:        </div>
601:      </div>
602:      
603:      <!-- New Prompt Modal -->
604:      <div id="new-prompt-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); z-index: 100; align-items: center; justify-content: center;">
605:        <div style="background-color: white; border-radius: 8px; padding: 24px; width: 90%; max-width: 500px; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);">
606:          <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 16px;">Create New Prompt</h3>
607:          <%# <form id="new-prompt-form">
608:            <div style="margin-bottom: 16px;">
609:              <label for="prompt-title" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt Title</label>
610:              <input type="text" id="prompt-title" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Enter a title for your prompt" />
611:            </div>
612:            <div style="margin-bottom: 16px;">
613:              <label for="prompt-text" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt</label>
614:              <textarea id="prompt-text" rows="5" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Write your prompt here..."></textarea>
615:            </div>
616:            <div style="display: flex; justify-content: flex-end; gap: 12px;">
617:              <button type="button" id="cancel-prompt" style="padding: 8px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
618:              <button type="submit" style="padding: 8px 16px; background-color: #7c3aed; color: white; border: none; border-radius: 6px; cursor: pointer;">Create</button>
619:            </div>
620:          </form> %>
621:          <%= form_with model: @ps, url: new_prompt_path, data: { turbo: false } do |form| %>
622:    <div class="mb-3">
623:        <%= form.label :uid %>
624:        <%= form.number_field :uid, class: "form-control", placeholder: "123" %>
625:    </div>
626:    <div class="mb-3">
627:        <%= form.label :system_prompt %>
628:        <%= form.text_field :system_prompt, class: "form-control" %>
629:    </div>
630:    <div class="mb-3">
631:      <button type="button" id="cancel-prompt" style="padding: 7px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
632:      <%= form.submit "Create form", class: "btn btn-primary" %>
633:    </div>
634:    <% end %>
635:        </div>
636:      </div>
637:    
638:      <script>
639:        // Sample prompt data
640:        const promptData = [
641:          <% if Current.user %>
642:          <% @pss.each do |prompt| %>
643:          {
644:            id: <%= @i %>,
645:            title: "<%= prompt.system_prompt %>",
646:            date: "<%= prompt.updated_at %>",
647:            content: "<%= prompt.system_prompt %>",
648:            likes: <%= prompt.like_count %>,
649:            dislikes: <%= prompt.dislike_count %>,
650:            feedback: "<%= prompt.ai_feedback %>"
651:          },
652:          <% @i = @i + 1%>
653:          <%end%>
654:    
655:          <% else %>
656:    
657:          <% end %>
658:        ];
659:        
660:        // Handle prompt item clicks
661:        document.querySelectorAll('.prompt-item').forEach(item => {
662:          item.addEventListener('click', () => {
663:            // Get prompt id
664:            const promptId = parseInt(item.getAttribute('data-id'));
665:            
666:            // Update selection visualization
667:            document.querySelectorAll('.prompt-item').forEach(el => {
668:              el.classList.remove('selected');
669:              el.querySelector('.prompt-title').style.color = '#374151';
670:            });
671:            
672:            item.classList.add('selected');
673:            item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
674:            
675:            // Update content based on selection
676:            const prompt = promptData.find(p => p.id === promptId);
677:            if (prompt) {
678:              document.getElementById('prompt-description').textContent = prompt.content;
679:              document.getElementById('likes').textContent = prompt.likes;
680:              document.getElementById('dislikes').textContent = prompt.dislikes;
681:              document.getElementById('feedback').textContent = prompt.feedback;
682:              let lip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
683:              let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
684:              document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
685:            }
686:          });
687:        });
688:        
689:        // Account dropdown functionality
690:        const userButton = document.getElementById('user-button');
691:        const userDropdown = document.getElementById('user-dropdown');
692:        
693:        userButton.addEventListener('click', (e) => {
694:          e.stopPropagation();
695:          userDropdown.style.display = userDropdown.style.display === 'block' ? 'none' : 'block';
696:        });
697:        
698:        // Close dropdown when clicking elsewhere
699:        document.addEventListener('click', () => {
700:          userDropdown.style.display = 'none';
701:        });
702:        
703:        // New prompt modal functionality
704:        const newPromptButton = document.getElementById('new-prompt-button');
705:        const newPromptModal = document.getElementById('new-prompt-modal');
706:        const cancelPromptButton = document.getElementById('cancel-prompt');
707:        const newPromptForm = document.getElementById('new-prompt-form');
708:        
709:        newPromptButton.addEventListener('click', () => {
710:          newPromptModal.style.display = 'flex';
711:        });
712:        
713:        cancelPromptButton.addEventListener('click', () => {
714:          newPromptModal.style.display = 'none';
715:          newPromptForm.reset();
716:        });
717:      
718:        
719:        // Prevent clicks inside the modal from closing it
720:        newPromptModal.querySelector('div').addEventListener('click', (e) => {
721:          e.stopPropagation();
722:        });
723:        
724:        // Close modal when clicking outside
725:        newPromptModal.addEventListener('click', () => {
726:          newPromptModal.style.display = 'none';
727:          newPromptForm.reset();
728:        });
729:    
730:        
731:        document.addEventListener('DOMContentLoaded', function() {
732:            let item = document.querySelector('.prompt-item');
733:            const promptId = 0;
734:            console.log(promptId);
735:            
736:            // Update selection visualization
737:            document.querySelectorAll('.prompt-item').forEach(el => {
738:              el.classList.remove('selected');
739:              el.querySelector('.prompt-title').style.color = '#374151';
740:            });
741:            
742:            item.classList.add('selected');
743:            item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
744:            
745:            // Update content based on selection
746:            const prompt = promptData.find(p => p.id === promptId);
747:            if (prompt) {
748:              document.getElementById('prompt-description').textContent = prompt.content;
749:              document.getElementById('likes').textContent = prompt.likes;
750:              document.getElementById('dislikes').textContent = prompt.dislikes;
751:              document.getElementById('feedback').textContent = prompt.feedback;
752:              let lip =377 * prompt.likes / (prompt.likes + prompt.dislikes);
753:              let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
754:              document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
755:            }
756:            console.log(promptId);
757:        });
758:    
759:      </script>
760:    </body>
761:    </html>
  
app/views/main/home.html.erb:321: syntax error, unexpected ')'
Started GET "/" for ::1 at 2025-03-23 01:39:29 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.0ms | Allocations: 2980)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | Allocations: 3073)
Completed 500 Internal Server Error in 42ms (ActiveRecord: 3.2ms | Allocations: 17459)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <!DOCTYPE html>
<html lang="en">
  <% if @ps.errors.any? %>
    <div class="alert alert-danger">
        <% @ps.errors.full_messages.each do |messages| %>
        <div><%= messages %></div>
        <% end %>
    </div>
<% end %>
<head>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PromptFlow</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f5f5f5;
    }
    
    .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 20px;
      background-color: white;
      border-bottom: 1px solid #e1e1e1;
    }
    
    .sidebar {
      width: 280px;
      height: 100vh;
      background-color: white;
      border-right: 1px solid #e1e1e1;
      overflow-y: auto;
    }
    
    .search-bar {
      display: flex;
      align-items: center;
      background-color: #f5f5f5;
      border-radius: 6px;
      padding: 8px 12px;
      margin: 16px;
    }
    
    .search-bar input {
      border: none;
      background: none;
      outline: none;
      width: 100%;
      margin-left: 8px;
    }
    
    .dashboard-link {
      display: flex;
      align-items: center;
      padding: 10px 16px;
      margin: 0 12px;
      background-color: oklch(0.882 0.059 254.128);
      color: oklch(0.623 0.214 259.815);
      border-radius: 6px;
      text-decoration: none;
    }
    
    .dashboard-link svg {
      margin-right: 12px;
    }
    
    .category-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 16px;
      color: #6b7280;
      font-weight: 600;
      font-size: 0.8rem;
    }
    
    .history-header {
      display: flex;
      align-items: center;
      padding: 8px 16px;
      color: oklch(0.623 0.214 259.815);
      font-weight: 500;
    }
    
    .history-header svg {
      margin-right: 8px;
    }
    
    .prompt-item {
      padding: 12px 16px;
      cursor: pointer;
    }
    
    .prompt-item:hover {
      background-color: oklch(0.97 0.03 254.604);
      transition: 0.2s ease-in-out;
    }
    
    .prompt-item.selected {
      background-color: oklch(0.932 0.032 255.585);
    }
    
    .prompt-icon {
      margin-right: 12px;
      flex-shrink: 0;
    }
    
    .prompt-title {
      font-weight: 500;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      max-width: 180px;
    }
    
    .prompt-date {
      font-size: 0.75rem;
      color: #6b7280;
      margin-top: 4px;
    }
    
    .content-area {
      flex: 1;
      padding: 20px;
    }
    
    .card {
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      margin-bottom: 20px;
      overflow: hidden;
    }
    
    .card-header {
      padding: 12px 16px;
      font-weight: 600;
      color: white;
    }
    
    .card-header.dark {
      background-color: #1f2937;
    }
    
    .card-header.blue {
      background-color: oklch(0.623 0.214 259.815);
    }
    
    .card-content {
      padding: 16px;
    }
    
    .stats-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .stat-item {
      display: flex;
      align-items: center;
      margin-bottom: 16px;
    }
    
    .stat-icon {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 12px;
    }
    
    .stat-icon.purple {
      background-color: #f3e8ff;
    }

    .thumbs-up {
      filter: brightness(100%);
      cursor: pointer;
      transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
    }

    .thumbs-up:hover {
      filter: brightness(200%);
      transform: scale(1.2);
    }
    
    .stat-icon.red {
      background-color: #fee2e2;
    }

    .thumbs-down:hover {
      filter: brightness(100%);
      cursor: pointer;
      transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
    }

    .thumbs-down:hover {
      filter: brightness(200%);
      transform: scale(1.2);
    }
    
    .stat-label {
      font-size: 0.8rem;
      color: #6b7280;
    }

    .chart {
        transform: scale(1);
        transition: transform 0.3s ease-in-out;
    }

    .chart:hover {
        transform: scale(1.2);
    }
    
    .stat-value {
      font-size: 1.5rem;
      font-weight: 700;
    }
    
    .dropdown {
      position: relative;
      border-radius: 2rem;
      transition: 0.2s ease-in-out;
    }
    
    .dropdown-menu {
      display: none;
      position: absolute;
      right: 0;
      top: 40px;
      background-color: white;
      border-radius: 6px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      min-width: 200px;
      z-index: 10;
    }
    
    .dropdown-header {
      padding: 12px 16px;
      font-weight: 600;
      border-bottom: 1px solid #f1f1f1;
    }
    
    .dropdown-item {
      padding: 12px 16px;
      display: block;
      color: #333;
      text-decoration: none;
      border-bottom: 1px solid #f1f1f1;
    }
    
    .dropdown-item:last-child {
      border-bottom: none;
    }
    
    .dropdown-item:hover {
      background-color: #f9fafb;
    }
    
    .dropdown-item.danger {
      color: #ef4444;
    }
    
    .flex {
      display: flex;
    }
    
    .flex-col {
      flex-direction: column;
    }
    
    .items-center {
      align-items: center;
    }
    
    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <h1><i class="fa-solid fa-worm fa-flip-horizontal"></i>PromptFlow</h1>
    
    <div class="flex items-center">
      <!-- Notifications -->
      <button style="margin-right: 16px; background: none; border: none; cursor: pointer;">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
          <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
        </svg>
      </button>
      
      <!-- Settings -->
      <button id="settings-button" style="margin-right: 16px; background: none; border: none; cursor: pointer;">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="3"></circle>
          <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
        </svg>
      </button>
      
      <!-- User Profile -->
      
      <% if Current.user %>
      <div class="dropdown">
        <button id="user-button" style="display: flex; align-items: center; background: none; border: none; cursor: pointer;">
          <div style="width: 32px; height: 32px; border-radius: 50%; background-color: #7c3aed; color: white; display: flex; align-items: center; justify-content: center; margin-right: 8px;">
            <span>DD</span>
          </div>
          <span style="font-weight: 500; margin-right: 4px;"><%= Current.user.%></span>
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="6 9 12 15 18 9"></polyline>
          </svg>
        </button>
        <div id="user-dropdown" class="dropdown-menu">
          <div class="dropdown-header">My Account</div>
          <a href="#" class="dropdown-item">Profile</a>
          <a href="#" class="dropdown-item">Settings</a>
          <a href="#" class="dropdown-item">Billing</a>
          <%= button_to "Log out", sign_out_path, method: :delete, class: "dropdown-item danger", turbo: false %>
        </div>
      </div>
      <% else %>
      <%= link_to "Log in", sign_in_path, method: :get, class: "dropdown-item danger", turbo: false %>
      <% end %>
    </div>
  </header>
  
  <div class="flex">
    <!-- Sidebar -->
    <div class="sidebar">
      <!-- Search Bar -->
      <div class="search-bar">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="11" cy="11" r="8"></circle>
          <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
        <input type="text" placeholder="Search prompts..." />
      </div>
      
      <!-- Dashboard -->
      <a href="/get" class="dashboard-link">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
          <polyline points="9 22 9 12 15 12 15 22"></polyline>
        </svg>
        <span style="color: oklch(0.623 0.214 259.815)">Dashboard</span>
      </a>
      
      <!-- Prompt History -->
      <div style="margin-top: 20px;">
        <div class="category-header">
          <span>PROMPTS</span>
          <button id="new-prompt-button" style="background: none; border: none; color: #3b82f6; cursor: pointer;">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="12" y1="5" x2="12" y2="19"></line>
              <line x1="5" y1="12" x2="19" y2="12"></line>
            </svg>
          </button>
        </div>
        
        <!-- Prompt History Section -->
        <div>
          <div class="history-header">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="oklch(0.623 0.214 259.815)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"></path>
            </svg>
            <span>Prompt History</span>
          </div>
          
          <!-- History Items -->
          <% if Current.user %>
            <div>
            <% @pss.each do |prompt| %>
              <!-- Item 1 (selected) -->
              <div class="prompt-item" data-id="<%= @i2 %>">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title" style="color: oklch(0.623 0.214 259.815);"><%= prompt.system_prompt %></div>
                    <div class="prompt-date"><%= prompt.updated_at %></div>
                  </div>
                </div>
              </div>
              <%# 
              <!-- Item 2 -->
              <div class="prompt-item" data-id="1">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Design a logo for a tech startup</div>
                    <div class="prompt-date">2023-06-14</div>
                  </div>
                </div>
              </div>
              
              <!-- Item 3 -->
              <div class="prompt-item" data-id="2">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Write a product description for a new gadget</div>
                    <div class="prompt-date">2023-06-13</div>
                  </div>
                </div>
              </div>
              
              <!-- Item 4 -->
              <div class="prompt-item" data-id="3">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Generate ideas for a marketing campaign</div>
                    <div class="prompt-date">2023-06-12</div>
                  </div>
                </div>
              </div>
              
              <!-- Item 5 -->
              <div class="prompt-item" data-id="4">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Create a social media content calendar</div>
                    <div class="prompt-date">2023-06-11</div>
                  </div>
                </div>
              </div> %>


            <% @i2 = @i2 + 1%>
            <% end %>
            </div>
          <% else %>

          <% end %>

        </div>
      </div>
    </div>
    
    <!-- Main Content Area -->
    <div class="content-area">
      <!-- System Prompt Card -->
      <% if Current.user %>
        <% if @pss.first %>
          <div class="card">
            <div class="card-header dark">System Prompt</div>
            <div class="card-content">
              <p id="prompt-description" style="line-height: 1.6; color: #4b5563;">
                <%= @pss.first.system_prompt%>
              </p>
            </div>
          </div>
        <% else %>
          <div class="card">
          <div class="card-header blue">
            <div style="display: flex; align-items: center;">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
              </svg>
              No prompts created!
            </div>
          </div>
          <div class="card-content">
            <p style="line-height: 1.6; color: #4b5563;">
              Create a prompt and begin optimizing!
            </p>
          </div>
        </div>
        <%end%>
      <% else %>
      <% end %>
      
      <!-- Statistics Card -->
      <% if Current.user %>
      <% if @pss.first %>
      <div class="card">
        <div class="card-header blue">
          <div style="display: flex; align-items: center;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
              <circle cx="12" cy="12" r="10"></circle>
              <line x1="12" y1="16" x2="12" y2="12"></line>
              <line x1="12" y1="8" x2="12.01" y2="8"></line>
            </svg>
            Statistics
          </div>
        </div>
        <div class="card-content">
          <div class="stats-container">
            <div>
              <!-- Likes -->
              <div class="stat-item">
                <div class="stat-icon purple">
                  <svg class="thumbs-up" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#7c3aed" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>
                  </svg>
                </div>
                <div>
                  <div class="stat-label">Likes</div>
                  <div class="stat-value" id="likes"><%= @pss.first.like_count%></div>
                </div>
              </div>
              
              <!-- Dislikes -->
              <div class="stat-item">
                <div class="stat-icon red">
                  <svg class="thumbs-down" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#ef4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path>
                  </svg>
                </div>
                <div>
                  <div class="stat-label">Dislikes</div>
                  <div class="stat-value" id="dislikes"><%= @pss.first.dislike_count%></div>
                </div>
              </div>
            </div>
            
            <!-- Donut Chart -->
            <div>
              <svg class="chart" width="150" height="150" viewBox="0 0 150 150">
                <circle cx="75" cy="75" r="60" fill="transparent" stroke="#FF0000" stroke-width="20"></circle>
                <circle id="likeCircle" cx="75" cy="75" r="60" fill="transparent" stroke="#008000" stroke-width="20" stroke-dasharray="<%= 377 * (@pss.first.like_count / (@pss.first.like_count + @pss.first.dislike_count)) %> <%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count)) %>" stroke-dashoffset="0"></circle>

                <circle cx="75" cy="75" r="40" fill="white"></circle>
              </svg>
            </div>
          </div>
        </div>
      </div>
      <% end %>
      <% else %>
      <% end %>
      
      <!-- AI Feedback Card -->
      <% if Current.user %>
      <% if @pss.first %>
      <div class="card">
        <div class="card-header blue">
          <div style="display: flex; align-items: center;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
              <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
            </svg>
            AI Feedback
          </div>
        </div>
        <div class="card-content">
          <p style="line-height: 1.6; color: #4b5563;" id="feedback">
            <%= @pss.first.ai_feedback%>
          </p>
        </div>
      </div>
      <% end %>
      <% else %>
      <div class="card">
        <div class="card-header blue">
          <div style="display: flex; align-items: center;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
              <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
            </svg>
            Login to access page!
          </div>
        </div>
        <div class="card-content">
          <p style="line-height: 1.6; color: #4b5563;">
            Login through your company/personal account to access the dashboard.
          </p>
        </div>
      </div>
      <% end %>



    </div>
  </div>
  
  <!-- New Prompt Modal -->
  <div id="new-prompt-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); z-index: 100; align-items: center; justify-content: center;">
    <div style="background-color: white; border-radius: 8px; padding: 24px; width: 90%; max-width: 500px; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);">
      <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 16px;">Create New Prompt</h3>
      <%# <form id="new-prompt-form">
        <div style="margin-bottom: 16px;">
          <label for="prompt-title" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt Title</label>
          <input type="text" id="prompt-title" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Enter a title for your prompt" />
        </div>
        <div style="margin-bottom: 16px;">
          <label for="prompt-text" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt</label>
          <textarea id="prompt-text" rows="5" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Write your prompt here..."></textarea>
        </div>
        <div style="display: flex; justify-content: flex-end; gap: 12px;">
          <button type="button" id="cancel-prompt" style="padding: 8px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
          <button type="submit" style="padding: 8px 16px; background-color: #7c3aed; color: white; border: none; border-radius: 6px; cursor: pointer;">Create</button>
        </div>
      </form> %>
      <%= form_with model: @ps, url: new_prompt_path, data: { turbo: false } do |form| %>
<div class="mb-3">
    <%= form.label :uid %>
    <%= form.number_field :uid, class: "form-control", placeholder: "123" %>
</div>
<div class="mb-3">
    <%= form.label :system_prompt %>
    <%= form.text_field :system_prompt, class: "form-control" %>
</div>
<div class="mb-3">
  <button type="button" id="cancel-prompt" style="padding: 7px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
  <%= form.submit "Create form", class: "btn btn-primary" %>
</div>
<% end %>
    </div>
  </div>

  <script>
    // Sample prompt data
    const promptData = [
      <% if Current.user %>
      <% @pss.each do |prompt| %>
      {
        id: <%= @i %>,
        title: "<%= prompt.system_prompt %>",
        date: "<%= prompt.updated_at %>",
        content: "<%= prompt.system_prompt %>",
        likes: <%= prompt.like_count %>,
        dislikes: <%= prompt.dislike_count %>,
        feedback: "<%= prompt.ai_feedback %>"
      },
      <% @i = @i + 1%>
      <%end%>

      <% else %>

      <% end %>
    ];
    
    // Handle prompt item clicks
    document.querySelectorAll('.prompt-item').forEach(item => {
      item.addEventListener('click', () => {
        // Get prompt id
        const promptId = parseInt(item.getAttribute('data-id'));
        
        // Update selection visualization
        document.querySelectorAll('.prompt-item').forEach(el => {
          el.classList.remove('selected');
          el.querySelector('.prompt-title').style.color = '#374151';
        });
        
        item.classList.add('selected');
        item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
        
        // Update content based on selection
        const prompt = promptData.find(p => p.id === promptId);
        if (prompt) {
          document.getElementById('prompt-description').textContent = prompt.content;
          document.getElementById('likes').textContent = prompt.likes;
          document.getElementById('dislikes').textContent = prompt.dislikes;
          document.getElementById('feedback').textContent = prompt.feedback;
          let lip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
          let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
          document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
        }
      });
    });
    
    // Account dropdown functionality
    const userButton = document.getElementById('user-button');
    const userDropdown = document.getElementById('user-dropdown');
    
    userButton.addEventListener('click', (e) => {
      e.stopPropagation();
      userDropdown.style.display = userDropdown.style.display === 'block' ? 'none' : 'block';
    });
    
    // Close dropdown when clicking elsewhere
    document.addEventListener('click', () => {
      userDropdown.style.display = 'none';
    });
    
    // New prompt modal functionality
    const newPromptButton = document.getElementById('new-prompt-button');
    const newPromptModal = document.getElementById('new-prompt-modal');
    const cancelPromptButton = document.getElementById('cancel-prompt');
    const newPromptForm = document.getElementById('new-prompt-form');
    
    newPromptButton.addEventListener('click', () => {
      newPromptModal.style.display = 'flex';
    });
    
    cancelPromptButton.addEventListener('click', () => {
      newPromptModal.style.display = 'none';
      newPromptForm.reset();
    });
  
    
    // Prevent clicks inside the modal from closing it
    newPromptModal.querySelector('div').addEventListener('click', (e) => {
      e.stopPropagation();
    });
    
    // Close modal when clicking outside
    newPromptModal.addEventListener('click', () => {
      newPromptModal.style.display = 'none';
      newPromptForm.reset();
    });

    
    document.addEventListener('DOMContentLoaded', function() {
        let item = document.querySelector('.prompt-item');
        const promptId = 0;
        console.log(promptId);
        
        // Update selection visualization
        document.querySelectorAll('.prompt-item').forEach(el => {
          el.classList.remove('selected');
          el.querySelector('.prompt-title').style.color = '#374151';
        });
        
        item.classList.add('selected');
        item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
        
        // Update content based on selection
        const prompt = promptData.find(p => p.id === promptId);
        if (prompt) {
          document.getElementById('prompt-description').textContent = prompt.content;
          document.getElementById('likes').textContent = prompt.likes;
          document.getElementById('dislikes').textContent = prompt.dislikes;
          document.getElementById('feedback').textContent = prompt.feedback;
          let lip =377 * prompt.likes / (prompt.likes + prompt.dislikes);
          let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
          document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
        }
        console.log(promptId);
    });

  </script>
</body>
</html>
):
1:    <!DOCTYPE html>
2:    <html lang="en">
3:      <% if @ps.errors.any? %>
4:        <div class="alert alert-danger">
5:            <% @ps.errors.full_messages.each do |messages| %>
6:            <div><%= messages %></div>
7:            <% end %>
8:        </div>
9:    <% end %>
10:    <head>
11:    
12:      <meta charset="UTF-8" />
13:      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
14:      <title>PromptFlow</title>
15:      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
16:      <style>
17:        body {
18:          font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
19:          margin: 0;
20:          padding: 0;
21:          background-color: #f5f5f5;
22:        }
23:        
24:        .header {
25:          display: flex;
26:          align-items: center;
27:          justify-content: space-between;
28:          padding: 10px 20px;
29:          background-color: white;
30:          border-bottom: 1px solid #e1e1e1;
31:        }
32:        
33:        .sidebar {
34:          width: 280px;
35:          height: 100vh;
36:          background-color: white;
37:          border-right: 1px solid #e1e1e1;
38:          overflow-y: auto;
39:        }
40:        
41:        .search-bar {
42:          display: flex;
43:          align-items: center;
44:          background-color: #f5f5f5;
45:          border-radius: 6px;
46:          padding: 8px 12px;
47:          margin: 16px;
48:        }
49:        
50:        .search-bar input {
51:          border: none;
52:          background: none;
53:          outline: none;
54:          width: 100%;
55:          margin-left: 8px;
56:        }
57:        
58:        .dashboard-link {
59:          display: flex;
60:          align-items: center;
61:          padding: 10px 16px;
62:          margin: 0 12px;
63:          background-color: oklch(0.882 0.059 254.128);
64:          color: oklch(0.623 0.214 259.815);
65:          border-radius: 6px;
66:          text-decoration: none;
67:        }
68:        
69:        .dashboard-link svg {
70:          margin-right: 12px;
71:        }
72:        
73:        .category-header {
74:          display: flex;
75:          justify-content: space-between;
76:          align-items: center;
77:          padding: 16px;
78:          color: #6b7280;
79:          font-weight: 600;
80:          font-size: 0.8rem;
81:        }
82:        
83:        .history-header {
84:          display: flex;
85:          align-items: center;
86:          padding: 8px 16px;
87:          color: oklch(0.623 0.214 259.815);
88:          font-weight: 500;
89:        }
90:        
91:        .history-header svg {
92:          margin-right: 8px;
93:        }
94:        
95:        .prompt-item {
96:          padding: 12px 16px;
97:          cursor: pointer;
98:        }
99:        
100:        .prompt-item:hover {
101:          background-color: oklch(0.97 0.03 254.604);
102:          transition: 0.2s ease-in-out;
103:        }
104:        
105:        .prompt-item.selected {
106:          background-color: oklch(0.932 0.032 255.585);
107:        }
108:        
109:        .prompt-icon {
110:          margin-right: 12px;
111:          flex-shrink: 0;
112:        }
113:        
114:        .prompt-title {
115:          font-weight: 500;
116:          white-space: nowrap;
117:          overflow: hidden;
118:          text-overflow: ellipsis;
119:          max-width: 180px;
120:        }
121:        
122:        .prompt-date {
123:          font-size: 0.75rem;
124:          color: #6b7280;
125:          margin-top: 4px;
126:        }
127:        
128:        .content-area {
129:          flex: 1;
130:          padding: 20px;
131:        }
132:        
133:        .card {
134:          background-color: white;
135:          border-radius: 8px;
136:          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
137:          margin-bottom: 20px;
138:          overflow: hidden;
139:        }
140:        
141:        .card-header {
142:          padding: 12px 16px;
143:          font-weight: 600;
144:          color: white;
145:        }
146:        
147:        .card-header.dark {
148:          background-color: #1f2937;
149:        }
150:        
151:        .card-header.blue {
152:          background-color: oklch(0.623 0.214 259.815);
153:        }
154:        
155:        .card-content {
156:          padding: 16px;
157:        }
158:        
159:        .stats-container {
160:          display: flex;
161:          justify-content: space-between;
162:          align-items: center;
163:        }
164:        
165:        .stat-item {
166:          display: flex;
167:          align-items: center;
168:          margin-bottom: 16px;
169:        }
170:        
171:        .stat-icon {
172:          width: 40px;
173:          height: 40px;
174:          border-radius: 50%;
175:          display: flex;
176:          align-items: center;
177:          justify-content: center;
178:          margin-right: 12px;
179:        }
180:        
181:        .stat-icon.purple {
182:          background-color: #f3e8ff;
183:        }
184:    
185:        .thumbs-up {
186:          filter: brightness(100%);
187:          cursor: pointer;
188:          transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
189:        }
190:    
191:        .thumbs-up:hover {
192:          filter: brightness(200%);
193:          transform: scale(1.2);
194:        }
195:        
196:        .stat-icon.red {
197:          background-color: #fee2e2;
198:        }
199:    
200:        .thumbs-down:hover {
201:          filter: brightness(100%);
202:          cursor: pointer;
203:          transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
204:        }
205:    
206:        .thumbs-down:hover {
207:          filter: brightness(200%);
208:          transform: scale(1.2);
209:        }
210:        
211:        .stat-label {
212:          font-size: 0.8rem;
213:          color: #6b7280;
214:        }
215:    
216:        .chart {
217:            transform: scale(1);
218:            transition: transform 0.3s ease-in-out;
219:        }
220:    
221:        .chart:hover {
222:            transform: scale(1.2);
223:        }
224:        
225:        .stat-value {
226:          font-size: 1.5rem;
227:          font-weight: 700;
228:        }
229:        
230:        .dropdown {
231:          position: relative;
232:          border-radius: 2rem;
233:          transition: 0.2s ease-in-out;
234:        }
235:        
236:        .dropdown-menu {
237:          display: none;
238:          position: absolute;
239:          right: 0;
240:          top: 40px;
241:          background-color: white;
242:          border-radius: 6px;
243:          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
244:          min-width: 200px;
245:          z-index: 10;
246:        }
247:        
248:        .dropdown-header {
249:          padding: 12px 16px;
250:          font-weight: 600;
251:          border-bottom: 1px solid #f1f1f1;
252:        }
253:        
254:        .dropdown-item {
255:          padding: 12px 16px;
256:          display: block;
257:          color: #333;
258:          text-decoration: none;
259:          border-bottom: 1px solid #f1f1f1;
260:        }
261:        
262:        .dropdown-item:last-child {
263:          border-bottom: none;
264:        }
265:        
266:        .dropdown-item:hover {
267:          background-color: #f9fafb;
268:        }
269:        
270:        .dropdown-item.danger {
271:          color: #ef4444;
272:        }
273:        
274:        .flex {
275:          display: flex;
276:        }
277:        
278:        .flex-col {
279:          flex-direction: column;
280:        }
281:        
282:        .items-center {
283:          align-items: center;
284:        }
285:        
286:        .hidden {
287:          display: none;
288:        }
289:      </style>
290:    </head>
291:    <body>
292:      <!-- Header -->
293:      <header class="header">
294:        <h1><i class="fa-solid fa-worm fa-flip-horizontal"></i>PromptFlow</h1>
295:        
296:        <div class="flex items-center">
297:          <!-- Notifications -->
298:          <button style="margin-right: 16px; background: none; border: none; cursor: pointer;">
299:            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
300:              <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
301:              <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
302:            </svg>
303:          </button>
304:          
305:          <!-- Settings -->
306:          <button id="settings-button" style="margin-right: 16px; background: none; border: none; cursor: pointer;">
307:            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
308:              <circle cx="12" cy="12" r="3"></circle>
309:              <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
310:            </svg>
311:          </button>
312:          
313:          <!-- User Profile -->
314:          
315:          <% if Current.user %>
316:          <div class="dropdown">
317:            <button id="user-button" style="display: flex; align-items: center; background: none; border: none; cursor: pointer;">
318:              <div style="width: 32px; height: 32px; border-radius: 50%; background-color: #7c3aed; color: white; display: flex; align-items: center; justify-content: center; margin-right: 8px;">
319:                <span>DD</span>
320:              </div>
321:              <span style="font-weight: 500; margin-right: 4px;"><%= Current.user.%></span>
322:              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
323:                <polyline points="6 9 12 15 18 9"></polyline>
324:              </svg>
325:            </button>
326:            <div id="user-dropdown" class="dropdown-menu">
327:              <div class="dropdown-header">My Account</div>
328:              <a href="#" class="dropdown-item">Profile</a>
329:              <a href="#" class="dropdown-item">Settings</a>
330:              <a href="#" class="dropdown-item">Billing</a>
331:              <%= button_to "Log out", sign_out_path, method: :delete, class: "dropdown-item danger", turbo: false %>
332:            </div>
333:          </div>
334:          <% else %>
335:          <%= link_to "Log in", sign_in_path, method: :get, class: "dropdown-item danger", turbo: false %>
336:          <% end %>
337:        </div>
338:      </header>
339:      
340:      <div class="flex">
341:        <!-- Sidebar -->
342:        <div class="sidebar">
343:          <!-- Search Bar -->
344:          <div class="search-bar">
345:            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
346:              <circle cx="11" cy="11" r="8"></circle>
347:              <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
348:            </svg>
349:            <input type="text" placeholder="Search prompts..." />
350:          </div>
351:          
352:          <!-- Dashboard -->
353:          <a href="/get" class="dashboard-link">
354:            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
355:              <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
356:              <polyline points="9 22 9 12 15 12 15 22"></polyline>
357:            </svg>
358:            <span style="color: oklch(0.623 0.214 259.815)">Dashboard</span>
359:          </a>
360:          
361:          <!-- Prompt History -->
362:          <div style="margin-top: 20px;">
363:            <div class="category-header">
364:              <span>PROMPTS</span>
365:              <button id="new-prompt-button" style="background: none; border: none; color: #3b82f6; cursor: pointer;">
366:                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
367:                  <line x1="12" y1="5" x2="12" y2="19"></line>
368:                  <line x1="5" y1="12" x2="19" y2="12"></line>
369:                </svg>
370:              </button>
371:            </div>
372:            
373:            <!-- Prompt History Section -->
374:            <div>
375:              <div class="history-header">
376:                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="oklch(0.623 0.214 259.815)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
377:                  <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"></path>
378:                </svg>
379:                <span>Prompt History</span>
380:              </div>
381:              
382:              <!-- History Items -->
383:              <% if Current.user %>
384:                <div>
385:                <% @pss.each do |prompt| %>
386:                  <!-- Item 1 (selected) -->
387:                  <div class="prompt-item" data-id="<%= @i2 %>">
388:                    <div class="flex" style="align-items: flex-start;">
389:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
390:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
391:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
392:                      </svg>
393:                      <div>
394:                        <div class="prompt-title" style="color: oklch(0.623 0.214 259.815);"><%= prompt.system_prompt %></div>
395:                        <div class="prompt-date"><%= prompt.updated_at %></div>
396:                      </div>
397:                    </div>
398:                  </div>
399:                  <%# 
400:                  <!-- Item 2 -->
401:                  <div class="prompt-item" data-id="1">
402:                    <div class="flex" style="align-items: flex-start;">
403:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
404:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
405:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
406:                      </svg>
407:                      <div>
408:                        <div class="prompt-title">Design a logo for a tech startup</div>
409:                        <div class="prompt-date">2023-06-14</div>
410:                      </div>
411:                    </div>
412:                  </div>
413:                  
414:                  <!-- Item 3 -->
415:                  <div class="prompt-item" data-id="2">
416:                    <div class="flex" style="align-items: flex-start;">
417:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
418:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
419:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
420:                      </svg>
421:                      <div>
422:                        <div class="prompt-title">Write a product description for a new gadget</div>
423:                        <div class="prompt-date">2023-06-13</div>
424:                      </div>
425:                    </div>
426:                  </div>
427:                  
428:                  <!-- Item 4 -->
429:                  <div class="prompt-item" data-id="3">
430:                    <div class="flex" style="align-items: flex-start;">
431:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
432:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
433:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
434:                      </svg>
435:                      <div>
436:                        <div class="prompt-title">Generate ideas for a marketing campaign</div>
437:                        <div class="prompt-date">2023-06-12</div>
438:                      </div>
439:                    </div>
440:                  </div>
441:                  
442:                  <!-- Item 5 -->
443:                  <div class="prompt-item" data-id="4">
444:                    <div class="flex" style="align-items: flex-start;">
445:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
446:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
447:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
448:                      </svg>
449:                      <div>
450:                        <div class="prompt-title">Create a social media content calendar</div>
451:                        <div class="prompt-date">2023-06-11</div>
452:                      </div>
453:                    </div>
454:                  </div> %>
455:    
456:    
457:                <% @i2 = @i2 + 1%>
458:                <% end %>
459:                </div>
460:              <% else %>
461:    
462:              <% end %>
463:    
464:            </div>
465:          </div>
466:        </div>
467:        
468:        <!-- Main Content Area -->
469:        <div class="content-area">
470:          <!-- System Prompt Card -->
471:          <% if Current.user %>
472:            <% if @pss.first %>
473:              <div class="card">
474:                <div class="card-header dark">System Prompt</div>
475:                <div class="card-content">
476:                  <p id="prompt-description" style="line-height: 1.6; color: #4b5563;">
477:                    <%= @pss.first.system_prompt%>
478:                  </p>
479:                </div>
480:              </div>
481:            <% else %>
482:              <div class="card">
483:              <div class="card-header blue">
484:                <div style="display: flex; align-items: center;">
485:                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
486:                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
487:                  </svg>
488:                  No prompts created!
489:                </div>
490:              </div>
491:              <div class="card-content">
492:                <p style="line-height: 1.6; color: #4b5563;">
493:                  Create a prompt and begin optimizing!
494:                </p>
495:              </div>
496:            </div>
497:            <%end%>
498:          <% else %>
499:          <% end %>
500:          
501:          <!-- Statistics Card -->
502:          <% if Current.user %>
503:          <% if @pss.first %>
504:          <div class="card">
505:            <div class="card-header blue">
506:              <div style="display: flex; align-items: center;">
507:                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
508:                  <circle cx="12" cy="12" r="10"></circle>
509:                  <line x1="12" y1="16" x2="12" y2="12"></line>
510:                  <line x1="12" y1="8" x2="12.01" y2="8"></line>
511:                </svg>
512:                Statistics
513:              </div>
514:            </div>
515:            <div class="card-content">
516:              <div class="stats-container">
517:                <div>
518:                  <!-- Likes -->
519:                  <div class="stat-item">
520:                    <div class="stat-icon purple">
521:                      <svg class="thumbs-up" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#7c3aed" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
522:                        <path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>
523:                      </svg>
524:                    </div>
525:                    <div>
526:                      <div class="stat-label">Likes</div>
527:                      <div class="stat-value" id="likes"><%= @pss.first.like_count%></div>
528:                    </div>
529:                  </div>
530:                  
531:                  <!-- Dislikes -->
532:                  <div class="stat-item">
533:                    <div class="stat-icon red">
534:                      <svg class="thumbs-down" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#ef4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
535:                        <path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path>
536:                      </svg>
537:                    </div>
538:                    <div>
539:                      <div class="stat-label">Dislikes</div>
540:                      <div class="stat-value" id="dislikes"><%= @pss.first.dislike_count%></div>
541:                    </div>
542:                  </div>
543:                </div>
544:                
545:                <!-- Donut Chart -->
546:                <div>
547:                  <svg class="chart" width="150" height="150" viewBox="0 0 150 150">
548:                    <circle cx="75" cy="75" r="60" fill="transparent" stroke="#FF0000" stroke-width="20"></circle>
549:                    <circle id="likeCircle" cx="75" cy="75" r="60" fill="transparent" stroke="#008000" stroke-width="20" stroke-dasharray="<%= 377 * (@pss.first.like_count / (@pss.first.like_count + @pss.first.dislike_count)) %> <%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count)) %>" stroke-dashoffset="0"></circle>
550:    
551:                    <circle cx="75" cy="75" r="40" fill="white"></circle>
552:                  </svg>
553:                </div>
554:              </div>
555:            </div>
556:          </div>
557:          <% end %>
558:          <% else %>
559:          <% end %>
560:          
561:          <!-- AI Feedback Card -->
562:          <% if Current.user %>
563:          <% if @pss.first %>
564:          <div class="card">
565:            <div class="card-header blue">
566:              <div style="display: flex; align-items: center;">
567:                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
568:                  <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
569:                </svg>
570:                AI Feedback
571:              </div>
572:            </div>
573:            <div class="card-content">
574:              <p style="line-height: 1.6; color: #4b5563;" id="feedback">
575:                <%= @pss.first.ai_feedback%>
576:              </p>
577:            </div>
578:          </div>
579:          <% end %>
580:          <% else %>
581:          <div class="card">
582:            <div class="card-header blue">
583:              <div style="display: flex; align-items: center;">
584:                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
585:                  <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
586:                </svg>
587:                Login to access page!
588:              </div>
589:            </div>
590:            <div class="card-content">
591:              <p style="line-height: 1.6; color: #4b5563;">
592:                Login through your company/personal account to access the dashboard.
593:              </p>
594:            </div>
595:          </div>
596:          <% end %>
597:    
598:    
599:    
600:        </div>
601:      </div>
602:      
603:      <!-- New Prompt Modal -->
604:      <div id="new-prompt-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); z-index: 100; align-items: center; justify-content: center;">
605:        <div style="background-color: white; border-radius: 8px; padding: 24px; width: 90%; max-width: 500px; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);">
606:          <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 16px;">Create New Prompt</h3>
607:          <%# <form id="new-prompt-form">
608:            <div style="margin-bottom: 16px;">
609:              <label for="prompt-title" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt Title</label>
610:              <input type="text" id="prompt-title" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Enter a title for your prompt" />
611:            </div>
612:            <div style="margin-bottom: 16px;">
613:              <label for="prompt-text" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt</label>
614:              <textarea id="prompt-text" rows="5" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Write your prompt here..."></textarea>
615:            </div>
616:            <div style="display: flex; justify-content: flex-end; gap: 12px;">
617:              <button type="button" id="cancel-prompt" style="padding: 8px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
618:              <button type="submit" style="padding: 8px 16px; background-color: #7c3aed; color: white; border: none; border-radius: 6px; cursor: pointer;">Create</button>
619:            </div>
620:          </form> %>
621:          <%= form_with model: @ps, url: new_prompt_path, data: { turbo: false } do |form| %>
622:    <div class="mb-3">
623:        <%= form.label :uid %>
624:        <%= form.number_field :uid, class: "form-control", placeholder: "123" %>
625:    </div>
626:    <div class="mb-3">
627:        <%= form.label :system_prompt %>
628:        <%= form.text_field :system_prompt, class: "form-control" %>
629:    </div>
630:    <div class="mb-3">
631:      <button type="button" id="cancel-prompt" style="padding: 7px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
632:      <%= form.submit "Create form", class: "btn btn-primary" %>
633:    </div>
634:    <% end %>
635:        </div>
636:      </div>
637:    
638:      <script>
639:        // Sample prompt data
640:        const promptData = [
641:          <% if Current.user %>
642:          <% @pss.each do |prompt| %>
643:          {
644:            id: <%= @i %>,
645:            title: "<%= prompt.system_prompt %>",
646:            date: "<%= prompt.updated_at %>",
647:            content: "<%= prompt.system_prompt %>",
648:            likes: <%= prompt.like_count %>,
649:            dislikes: <%= prompt.dislike_count %>,
650:            feedback: "<%= prompt.ai_feedback %>"
651:          },
652:          <% @i = @i + 1%>
653:          <%end%>
654:    
655:          <% else %>
656:    
657:          <% end %>
658:        ];
659:        
660:        // Handle prompt item clicks
661:        document.querySelectorAll('.prompt-item').forEach(item => {
662:          item.addEventListener('click', () => {
663:            // Get prompt id
664:            const promptId = parseInt(item.getAttribute('data-id'));
665:            
666:            // Update selection visualization
667:            document.querySelectorAll('.prompt-item').forEach(el => {
668:              el.classList.remove('selected');
669:              el.querySelector('.prompt-title').style.color = '#374151';
670:            });
671:            
672:            item.classList.add('selected');
673:            item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
674:            
675:            // Update content based on selection
676:            const prompt = promptData.find(p => p.id === promptId);
677:            if (prompt) {
678:              document.getElementById('prompt-description').textContent = prompt.content;
679:              document.getElementById('likes').textContent = prompt.likes;
680:              document.getElementById('dislikes').textContent = prompt.dislikes;
681:              document.getElementById('feedback').textContent = prompt.feedback;
682:              let lip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
683:              let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
684:              document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
685:            }
686:          });
687:        });
688:        
689:        // Account dropdown functionality
690:        const userButton = document.getElementById('user-button');
691:        const userDropdown = document.getElementById('user-dropdown');
692:        
693:        userButton.addEventListener('click', (e) => {
694:          e.stopPropagation();
695:          userDropdown.style.display = userDropdown.style.display === 'block' ? 'none' : 'block';
696:        });
697:        
698:        // Close dropdown when clicking elsewhere
699:        document.addEventListener('click', () => {
700:          userDropdown.style.display = 'none';
701:        });
702:        
703:        // New prompt modal functionality
704:        const newPromptButton = document.getElementById('new-prompt-button');
705:        const newPromptModal = document.getElementById('new-prompt-modal');
706:        const cancelPromptButton = document.getElementById('cancel-prompt');
707:        const newPromptForm = document.getElementById('new-prompt-form');
708:        
709:        newPromptButton.addEventListener('click', () => {
710:          newPromptModal.style.display = 'flex';
711:        });
712:        
713:        cancelPromptButton.addEventListener('click', () => {
714:          newPromptModal.style.display = 'none';
715:          newPromptForm.reset();
716:        });
717:      
718:        
719:        // Prevent clicks inside the modal from closing it
720:        newPromptModal.querySelector('div').addEventListener('click', (e) => {
721:          e.stopPropagation();
722:        });
723:        
724:        // Close modal when clicking outside
725:        newPromptModal.addEventListener('click', () => {
726:          newPromptModal.style.display = 'none';
727:          newPromptForm.reset();
728:        });
729:    
730:        
731:        document.addEventListener('DOMContentLoaded', function() {
732:            let item = document.querySelector('.prompt-item');
733:            const promptId = 0;
734:            console.log(promptId);
735:            
736:            // Update selection visualization
737:            document.querySelectorAll('.prompt-item').forEach(el => {
738:              el.classList.remove('selected');
739:              el.querySelector('.prompt-title').style.color = '#374151';
740:            });
741:            
742:            item.classList.add('selected');
743:            item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
744:            
745:            // Update content based on selection
746:            const prompt = promptData.find(p => p.id === promptId);
747:            if (prompt) {
748:              document.getElementById('prompt-description').textContent = prompt.content;
749:              document.getElementById('likes').textContent = prompt.likes;
750:              document.getElementById('dislikes').textContent = prompt.dislikes;
751:              document.getElementById('feedback').textContent = prompt.feedback;
752:              let lip =377 * prompt.likes / (prompt.likes + prompt.dislikes);
753:              let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
754:              document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
755:            }
756:            console.log(promptId);
757:        });
758:    
759:      </script>
760:    </body>
761:    </html>
  
app/views/main/home.html.erb:321: syntax error, unexpected ')'
Started GET "/" for ::1 at 2025-03-23 01:39:44 -0700
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.8ms | Allocations: 3490)
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | Allocations: 3617)
Completed 500 Internal Server Error in 131ms (ActiveRecord: 3.2ms | Allocations: 37758)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <!DOCTYPE html>
<html lang="en">
  <% if @ps.errors.any? %>
    <div class="alert alert-danger">
        <% @ps.errors.full_messages.each do |messages| %>
        <div><%= messages %></div>
        <% end %>
    </div>
<% end %>
<head>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PromptFlow</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f5f5f5;
    }
    
    .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 20px;
      background-color: white;
      border-bottom: 1px solid #e1e1e1;
    }
    
    .sidebar {
      width: 280px;
      height: 100vh;
      background-color: white;
      border-right: 1px solid #e1e1e1;
      overflow-y: auto;
    }
    
    .search-bar {
      display: flex;
      align-items: center;
      background-color: #f5f5f5;
      border-radius: 6px;
      padding: 8px 12px;
      margin: 16px;
    }
    
    .search-bar input {
      border: none;
      background: none;
      outline: none;
      width: 100%;
      margin-left: 8px;
    }
    
    .dashboard-link {
      display: flex;
      align-items: center;
      padding: 10px 16px;
      margin: 0 12px;
      background-color: oklch(0.882 0.059 254.128);
      color: oklch(0.623 0.214 259.815);
      border-radius: 6px;
      text-decoration: none;
    }
    
    .dashboard-link svg {
      margin-right: 12px;
    }
    
    .category-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 16px;
      color: #6b7280;
      font-weight: 600;
      font-size: 0.8rem;
    }
    
    .history-header {
      display: flex;
      align-items: center;
      padding: 8px 16px;
      color: oklch(0.623 0.214 259.815);
      font-weight: 500;
    }
    
    .history-header svg {
      margin-right: 8px;
    }
    
    .prompt-item {
      padding: 12px 16px;
      cursor: pointer;
    }
    
    .prompt-item:hover {
      background-color: oklch(0.97 0.03 254.604);
      transition: 0.2s ease-in-out;
    }
    
    .prompt-item.selected {
      background-color: oklch(0.932 0.032 255.585);
    }
    
    .prompt-icon {
      margin-right: 12px;
      flex-shrink: 0;
    }
    
    .prompt-title {
      font-weight: 500;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      max-width: 180px;
    }
    
    .prompt-date {
      font-size: 0.75rem;
      color: #6b7280;
      margin-top: 4px;
    }
    
    .content-area {
      flex: 1;
      padding: 20px;
    }
    
    .card {
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      margin-bottom: 20px;
      overflow: hidden;
    }
    
    .card-header {
      padding: 12px 16px;
      font-weight: 600;
      color: white;
    }
    
    .card-header.dark {
      background-color: #1f2937;
    }
    
    .card-header.blue {
      background-color: oklch(0.623 0.214 259.815);
    }
    
    .card-content {
      padding: 16px;
    }
    
    .stats-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .stat-item {
      display: flex;
      align-items: center;
      margin-bottom: 16px;
    }
    
    .stat-icon {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 12px;
    }
    
    .stat-icon.purple {
      background-color: #f3e8ff;
    }

    .thumbs-up {
      filter: brightness(100%);
      cursor: pointer;
      transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
    }

    .thumbs-up:hover {
      filter: brightness(200%);
      transform: scale(1.2);
    }
    
    .stat-icon.red {
      background-color: #fee2e2;
    }

    .thumbs-down:hover {
      filter: brightness(100%);
      cursor: pointer;
      transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
    }

    .thumbs-down:hover {
      filter: brightness(200%);
      transform: scale(1.2);
    }
    
    .stat-label {
      font-size: 0.8rem;
      color: #6b7280;
    }

    .chart {
        transform: scale(1);
        transition: transform 0.3s ease-in-out;
    }

    .chart:hover {
        transform: scale(1.2);
    }
    
    .stat-value {
      font-size: 1.5rem;
      font-weight: 700;
    }
    
    .dropdown {
      position: relative;
      border-radius: 2rem;
      transition: 0.2s ease-in-out;
    }
    
    .dropdown-menu {
      display: none;
      position: absolute;
      right: 0;
      top: 40px;
      background-color: white;
      border-radius: 6px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      min-width: 200px;
      z-index: 10;
    }
    
    .dropdown-header {
      padding: 12px 16px;
      font-weight: 600;
      border-bottom: 1px solid #f1f1f1;
    }
    
    .dropdown-item {
      padding: 12px 16px;
      display: block;
      color: #333;
      text-decoration: none;
      border-bottom: 1px solid #f1f1f1;
    }
    
    .dropdown-item:last-child {
      border-bottom: none;
    }
    
    .dropdown-item:hover {
      background-color: #f9fafb;
    }
    
    .dropdown-item.danger {
      color: #ef4444;
    }
    
    .flex {
      display: flex;
    }
    
    .flex-col {
      flex-direction: column;
    }
    
    .items-center {
      align-items: center;
    }
    
    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <h1><i class="fa-solid fa-worm fa-flip-horizontal"></i>PromptFlow</h1>
    
    <div class="flex items-center">
      <!-- Notifications -->
      <button style="margin-right: 16px; background: none; border: none; cursor: pointer;">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
          <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
        </svg>
      </button>
      
      <!-- Settings -->
      <button id="settings-button" style="margin-right: 16px; background: none; border: none; cursor: pointer;">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="3"></circle>
          <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
        </svg>
      </button>
      
      <!-- User Profile -->
      
      <% if Current.user %>
      <div class="dropdown">
        <button id="user-button" style="display: flex; align-items: center; background: none; border: none; cursor: pointer;">
          <div style="width: 32px; height: 32px; border-radius: 50%; background-color: #7c3aed; color: white; display: flex; align-items: center; justify-content: center; margin-right: 8px;">
            <span>DD</span>
          </div>
          <span style="font-weight: 500; margin-right: 4px;"><%= Current.user.%></span>
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="6 9 12 15 18 9"></polyline>
          </svg>
        </button>
        <div id="user-dropdown" class="dropdown-menu">
          <div class="dropdown-header">My Account</div>
          <a href="#" class="dropdown-item">Profile</a>
          <a href="#" class="dropdown-item">Settings</a>
          <a href="#" class="dropdown-item">Billing</a>
          <%= button_to "Log out", sign_out_path, method: :delete, class: "dropdown-item danger", turbo: false %>
        </div>
      </div>
      <% else %>
      <%= link_to "Log in", sign_in_path, method: :get, class: "dropdown-item danger", turbo: false %>
      <% end %>
    </div>
  </header>
  
  <div class="flex">
    <!-- Sidebar -->
    <div class="sidebar">
      <!-- Search Bar -->
      <div class="search-bar">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="11" cy="11" r="8"></circle>
          <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
        <input type="text" placeholder="Search prompts..." />
      </div>
      
      <!-- Dashboard -->
      <a href="/get" class="dashboard-link">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
          <polyline points="9 22 9 12 15 12 15 22"></polyline>
        </svg>
        <span style="color: oklch(0.623 0.214 259.815)">Dashboard</span>
      </a>
      
      <!-- Prompt History -->
      <div style="margin-top: 20px;">
        <div class="category-header">
          <span>PROMPTS</span>
          <button id="new-prompt-button" style="background: none; border: none; color: #3b82f6; cursor: pointer;">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="12" y1="5" x2="12" y2="19"></line>
              <line x1="5" y1="12" x2="19" y2="12"></line>
            </svg>
          </button>
        </div>
        
        <!-- Prompt History Section -->
        <div>
          <div class="history-header">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="oklch(0.623 0.214 259.815)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"></path>
            </svg>
            <span>Prompt History</span>
          </div>
          
          <!-- History Items -->
          <% if Current.user %>
            <div>
            <% @pss.each do |prompt| %>
              <!-- Item 1 (selected) -->
              <div class="prompt-item" data-id="<%= @i2 %>">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title" style="color: oklch(0.623 0.214 259.815);"><%= prompt.system_prompt %></div>
                    <div class="prompt-date"><%= prompt.updated_at %></div>
                  </div>
                </div>
              </div>
              <%# 
              <!-- Item 2 -->
              <div class="prompt-item" data-id="1">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Design a logo for a tech startup</div>
                    <div class="prompt-date">2023-06-14</div>
                  </div>
                </div>
              </div>
              
              <!-- Item 3 -->
              <div class="prompt-item" data-id="2">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Write a product description for a new gadget</div>
                    <div class="prompt-date">2023-06-13</div>
                  </div>
                </div>
              </div>
              
              <!-- Item 4 -->
              <div class="prompt-item" data-id="3">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Generate ideas for a marketing campaign</div>
                    <div class="prompt-date">2023-06-12</div>
                  </div>
                </div>
              </div>
              
              <!-- Item 5 -->
              <div class="prompt-item" data-id="4">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Create a social media content calendar</div>
                    <div class="prompt-date">2023-06-11</div>
                  </div>
                </div>
              </div> %>


            <% @i2 = @i2 + 1%>
            <% end %>
            </div>
          <% else %>

          <% end %>

        </div>
      </div>
    </div>
    
    <!-- Main Content Area -->
    <div class="content-area">
      <!-- System Prompt Card -->
      <% if Current.user %>
        <% if @pss.first %>
          <div class="card">
            <div class="card-header dark">System Prompt</div>
            <div class="card-content">
              <p id="prompt-description" style="line-height: 1.6; color: #4b5563;">
                <%= @pss.first.system_prompt%>
              </p>
            </div>
          </div>
        <% else %>
          <div class="card">
          <div class="card-header blue">
            <div style="display: flex; align-items: center;">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
              </svg>
              No prompts created!
            </div>
          </div>
          <div class="card-content">
            <p style="line-height: 1.6; color: #4b5563;">
              Create a prompt and begin optimizing!
            </p>
          </div>
        </div>
        <%end%>
      <% else %>
      <% end %>
      
      <!-- Statistics Card -->
      <% if Current.user %>
      <% if @pss.first %>
      <div class="card">
        <div class="card-header blue">
          <div style="display: flex; align-items: center;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
              <circle cx="12" cy="12" r="10"></circle>
              <line x1="12" y1="16" x2="12" y2="12"></line>
              <line x1="12" y1="8" x2="12.01" y2="8"></line>
            </svg>
            Statistics
          </div>
        </div>
        <div class="card-content">
          <div class="stats-container">
            <div>
              <!-- Likes -->
              <div class="stat-item">
                <div class="stat-icon purple">
                  <svg class="thumbs-up" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#7c3aed" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>
                  </svg>
                </div>
                <div>
                  <div class="stat-label">Likes</div>
                  <div class="stat-value" id="likes"><%= @pss.first.like_count%></div>
                </div>
              </div>
              
              <!-- Dislikes -->
              <div class="stat-item">
                <div class="stat-icon red">
                  <svg class="thumbs-down" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#ef4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path>
                  </svg>
                </div>
                <div>
                  <div class="stat-label">Dislikes</div>
                  <div class="stat-value" id="dislikes"><%= @pss.first.dislike_count%></div>
                </div>
              </div>
            </div>
            
            <!-- Donut Chart -->
            <div>
              <svg class="chart" width="150" height="150" viewBox="0 0 150 150">
                <circle cx="75" cy="75" r="60" fill="transparent" stroke="#FF0000" stroke-width="20"></circle>
                <circle id="likeCircle" cx="75" cy="75" r="60" fill="transparent" stroke="#008000" stroke-width="20" stroke-dasharray="<%= 377 * (@pss.first.like_count / (@pss.first.like_count + @pss.first.dislike_count)) %> <%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count)) %>" stroke-dashoffset="0"></circle>

                <circle cx="75" cy="75" r="40" fill="white"></circle>
              </svg>
            </div>
          </div>
        </div>
      </div>
      <% end %>
      <% else %>
      <% end %>
      
      <!-- AI Feedback Card -->
      <% if Current.user %>
      <% if @pss.first %>
      <div class="card">
        <div class="card-header blue">
          <div style="display: flex; align-items: center;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
              <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
            </svg>
            AI Feedback
          </div>
        </div>
        <div class="card-content">
          <p style="line-height: 1.6; color: #4b5563;" id="feedback">
            <%= @pss.first.ai_feedback%>
          </p>
        </div>
      </div>
      <% end %>
      <% else %>
      <div class="card">
        <div class="card-header blue">
          <div style="display: flex; align-items: center;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
              <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
            </svg>
            Login to access page!
          </div>
        </div>
        <div class="card-content">
          <p style="line-height: 1.6; color: #4b5563;">
            Login through your company/personal account to access the dashboard.
          </p>
        </div>
      </div>
      <% end %>



    </div>
  </div>
  
  <!-- New Prompt Modal -->
  <div id="new-prompt-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); z-index: 100; align-items: center; justify-content: center;">
    <div style="background-color: white; border-radius: 8px; padding: 24px; width: 90%; max-width: 500px; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);">
      <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 16px;">Create New Prompt</h3>
      <%# <form id="new-prompt-form">
        <div style="margin-bottom: 16px;">
          <label for="prompt-title" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt Title</label>
          <input type="text" id="prompt-title" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Enter a title for your prompt" />
        </div>
        <div style="margin-bottom: 16px;">
          <label for="prompt-text" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt</label>
          <textarea id="prompt-text" rows="5" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Write your prompt here..."></textarea>
        </div>
        <div style="display: flex; justify-content: flex-end; gap: 12px;">
          <button type="button" id="cancel-prompt" style="padding: 8px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
          <button type="submit" style="padding: 8px 16px; background-color: #7c3aed; color: white; border: none; border-radius: 6px; cursor: pointer;">Create</button>
        </div>
      </form> %>
      <%= form_with model: @ps, url: new_prompt_path, data: { turbo: false } do |form| %>
<div class="mb-3">
    <%= form.label :uid %>
    <%= form.number_field :uid, class: "form-control", placeholder: "123" %>
</div>
<div class="mb-3">
    <%= form.label :system_prompt %>
    <%= form.text_field :system_prompt, class: "form-control" %>
</div>
<div class="mb-3">
  <button type="button" id="cancel-prompt" style="padding: 7px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
  <%= form.submit "Create form", class: "btn btn-primary" %>
</div>
<% end %>
    </div>
  </div>

  <script>
    // Sample prompt data
    const promptData = [
      <% if Current.user %>
      <% @pss.each do |prompt| %>
      {
        id: <%= @i %>,
        title: "<%= prompt.system_prompt %>",
        date: "<%= prompt.updated_at %>",
        content: "<%= prompt.system_prompt %>",
        likes: <%= prompt.like_count %>,
        dislikes: <%= prompt.dislike_count %>,
        feedback: "<%= prompt.ai_feedback %>"
      },
      <% @i = @i + 1%>
      <%end%>

      <% else %>

      <% end %>
    ];
    
    // Handle prompt item clicks
    document.querySelectorAll('.prompt-item').forEach(item => {
      item.addEventListener('click', () => {
        // Get prompt id
        const promptId = parseInt(item.getAttribute('data-id'));
        
        // Update selection visualization
        document.querySelectorAll('.prompt-item').forEach(el => {
          el.classList.remove('selected');
          el.querySelector('.prompt-title').style.color = '#374151';
        });
        
        item.classList.add('selected');
        item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
        
        // Update content based on selection
        const prompt = promptData.find(p => p.id === promptId);
        if (prompt) {
          document.getElementById('prompt-description').textContent = prompt.content;
          document.getElementById('likes').textContent = prompt.likes;
          document.getElementById('dislikes').textContent = prompt.dislikes;
          document.getElementById('feedback').textContent = prompt.feedback;
          let lip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
          let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
          document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
        }
      });
    });
    
    // Account dropdown functionality
    const userButton = document.getElementById('user-button');
    const userDropdown = document.getElementById('user-dropdown');
    
    userButton.addEventListener('click', (e) => {
      e.stopPropagation();
      userDropdown.style.display = userDropdown.style.display === 'block' ? 'none' : 'block';
    });
    
    // Close dropdown when clicking elsewhere
    document.addEventListener('click', () => {
      userDropdown.style.display = 'none';
    });
    
    // New prompt modal functionality
    const newPromptButton = document.getElementById('new-prompt-button');
    const newPromptModal = document.getElementById('new-prompt-modal');
    const cancelPromptButton = document.getElementById('cancel-prompt');
    const newPromptForm = document.getElementById('new-prompt-form');
    
    newPromptButton.addEventListener('click', () => {
      newPromptModal.style.display = 'flex';
    });
    
    cancelPromptButton.addEventListener('click', () => {
      newPromptModal.style.display = 'none';
      newPromptForm.reset();
    });
  
    
    // Prevent clicks inside the modal from closing it
    newPromptModal.querySelector('div').addEventListener('click', (e) => {
      e.stopPropagation();
    });
    
    // Close modal when clicking outside
    newPromptModal.addEventListener('click', () => {
      newPromptModal.style.display = 'none';
      newPromptForm.reset();
    });

    
    document.addEventListener('DOMContentLoaded', function() {
        let item = document.querySelector('.prompt-item');
        const promptId = 0;
        console.log(promptId);
        
        // Update selection visualization
        document.querySelectorAll('.prompt-item').forEach(el => {
          el.classList.remove('selected');
          el.querySelector('.prompt-title').style.color = '#374151';
        });
        
        item.classList.add('selected');
        item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
        
        // Update content based on selection
        const prompt = promptData.find(p => p.id === promptId);
        if (prompt) {
          document.getElementById('prompt-description').textContent = prompt.content;
          document.getElementById('likes').textContent = prompt.likes;
          document.getElementById('dislikes').textContent = prompt.dislikes;
          document.getElementById('feedback').textContent = prompt.feedback;
          let lip =377 * prompt.likes / (prompt.likes + prompt.dislikes);
          let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
          document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
        }
        console.log(promptId);
    });

  </script>
</body>
</html>
):
1:    <!DOCTYPE html>
2:    <html lang="en">
3:      <% if @ps.errors.any? %>
4:        <div class="alert alert-danger">
5:            <% @ps.errors.full_messages.each do |messages| %>
6:            <div><%= messages %></div>
7:            <% end %>
8:        </div>
9:    <% end %>
10:    <head>
11:    
12:      <meta charset="UTF-8" />
13:      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
14:      <title>PromptFlow</title>
15:      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
16:      <style>
17:        body {
18:          font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
19:          margin: 0;
20:          padding: 0;
21:          background-color: #f5f5f5;
22:        }
23:        
24:        .header {
25:          display: flex;
26:          align-items: center;
27:          justify-content: space-between;
28:          padding: 10px 20px;
29:          background-color: white;
30:          border-bottom: 1px solid #e1e1e1;
31:        }
32:        
33:        .sidebar {
34:          width: 280px;
35:          height: 100vh;
36:          background-color: white;
37:          border-right: 1px solid #e1e1e1;
38:          overflow-y: auto;
39:        }
40:        
41:        .search-bar {
42:          display: flex;
43:          align-items: center;
44:          background-color: #f5f5f5;
45:          border-radius: 6px;
46:          padding: 8px 12px;
47:          margin: 16px;
48:        }
49:        
50:        .search-bar input {
51:          border: none;
52:          background: none;
53:          outline: none;
54:          width: 100%;
55:          margin-left: 8px;
56:        }
57:        
58:        .dashboard-link {
59:          display: flex;
60:          align-items: center;
61:          padding: 10px 16px;
62:          margin: 0 12px;
63:          background-color: oklch(0.882 0.059 254.128);
64:          color: oklch(0.623 0.214 259.815);
65:          border-radius: 6px;
66:          text-decoration: none;
67:        }
68:        
69:        .dashboard-link svg {
70:          margin-right: 12px;
71:        }
72:        
73:        .category-header {
74:          display: flex;
75:          justify-content: space-between;
76:          align-items: center;
77:          padding: 16px;
78:          color: #6b7280;
79:          font-weight: 600;
80:          font-size: 0.8rem;
81:        }
82:        
83:        .history-header {
84:          display: flex;
85:          align-items: center;
86:          padding: 8px 16px;
87:          color: oklch(0.623 0.214 259.815);
88:          font-weight: 500;
89:        }
90:        
91:        .history-header svg {
92:          margin-right: 8px;
93:        }
94:        
95:        .prompt-item {
96:          padding: 12px 16px;
97:          cursor: pointer;
98:        }
99:        
100:        .prompt-item:hover {
101:          background-color: oklch(0.97 0.03 254.604);
102:          transition: 0.2s ease-in-out;
103:        }
104:        
105:        .prompt-item.selected {
106:          background-color: oklch(0.932 0.032 255.585);
107:        }
108:        
109:        .prompt-icon {
110:          margin-right: 12px;
111:          flex-shrink: 0;
112:        }
113:        
114:        .prompt-title {
115:          font-weight: 500;
116:          white-space: nowrap;
117:          overflow: hidden;
118:          text-overflow: ellipsis;
119:          max-width: 180px;
120:        }
121:        
122:        .prompt-date {
123:          font-size: 0.75rem;
124:          color: #6b7280;
125:          margin-top: 4px;
126:        }
127:        
128:        .content-area {
129:          flex: 1;
130:          padding: 20px;
131:        }
132:        
133:        .card {
134:          background-color: white;
135:          border-radius: 8px;
136:          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
137:          margin-bottom: 20px;
138:          overflow: hidden;
139:        }
140:        
141:        .card-header {
142:          padding: 12px 16px;
143:          font-weight: 600;
144:          color: white;
145:        }
146:        
147:        .card-header.dark {
148:          background-color: #1f2937;
149:        }
150:        
151:        .card-header.blue {
152:          background-color: oklch(0.623 0.214 259.815);
153:        }
154:        
155:        .card-content {
156:          padding: 16px;
157:        }
158:        
159:        .stats-container {
160:          display: flex;
161:          justify-content: space-between;
162:          align-items: center;
163:        }
164:        
165:        .stat-item {
166:          display: flex;
167:          align-items: center;
168:          margin-bottom: 16px;
169:        }
170:        
171:        .stat-icon {
172:          width: 40px;
173:          height: 40px;
174:          border-radius: 50%;
175:          display: flex;
176:          align-items: center;
177:          justify-content: center;
178:          margin-right: 12px;
179:        }
180:        
181:        .stat-icon.purple {
182:          background-color: #f3e8ff;
183:        }
184:    
185:        .thumbs-up {
186:          filter: brightness(100%);
187:          cursor: pointer;
188:          transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
189:        }
190:    
191:        .thumbs-up:hover {
192:          filter: brightness(200%);
193:          transform: scale(1.2);
194:        }
195:        
196:        .stat-icon.red {
197:          background-color: #fee2e2;
198:        }
199:    
200:        .thumbs-down:hover {
201:          filter: brightness(100%);
202:          cursor: pointer;
203:          transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
204:        }
205:    
206:        .thumbs-down:hover {
207:          filter: brightness(200%);
208:          transform: scale(1.2);
209:        }
210:        
211:        .stat-label {
212:          font-size: 0.8rem;
213:          color: #6b7280;
214:        }
215:    
216:        .chart {
217:            transform: scale(1);
218:            transition: transform 0.3s ease-in-out;
219:        }
220:    
221:        .chart:hover {
222:            transform: scale(1.2);
223:        }
224:        
225:        .stat-value {
226:          font-size: 1.5rem;
227:          font-weight: 700;
228:        }
229:        
230:        .dropdown {
231:          position: relative;
232:          border-radius: 2rem;
233:          transition: 0.2s ease-in-out;
234:        }
235:        
236:        .dropdown-menu {
237:          display: none;
238:          position: absolute;
239:          right: 0;
240:          top: 40px;
241:          background-color: white;
242:          border-radius: 6px;
243:          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
244:          min-width: 200px;
245:          z-index: 10;
246:        }
247:        
248:        .dropdown-header {
249:          padding: 12px 16px;
250:          font-weight: 600;
251:          border-bottom: 1px solid #f1f1f1;
252:        }
253:        
254:        .dropdown-item {
255:          padding: 12px 16px;
256:          display: block;
257:          color: #333;
258:          text-decoration: none;
259:          border-bottom: 1px solid #f1f1f1;
260:        }
261:        
262:        .dropdown-item:last-child {
263:          border-bottom: none;
264:        }
265:        
266:        .dropdown-item:hover {
267:          background-color: #f9fafb;
268:        }
269:        
270:        .dropdown-item.danger {
271:          color: #ef4444;
272:        }
273:        
274:        .flex {
275:          display: flex;
276:        }
277:        
278:        .flex-col {
279:          flex-direction: column;
280:        }
281:        
282:        .items-center {
283:          align-items: center;
284:        }
285:        
286:        .hidden {
287:          display: none;
288:        }
289:      </style>
290:    </head>
291:    <body>
292:      <!-- Header -->
293:      <header class="header">
294:        <h1><i class="fa-solid fa-worm fa-flip-horizontal"></i>PromptFlow</h1>
295:        
296:        <div class="flex items-center">
297:          <!-- Notifications -->
298:          <button style="margin-right: 16px; background: none; border: none; cursor: pointer;">
299:            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
300:              <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
301:              <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
302:            </svg>
303:          </button>
304:          
305:          <!-- Settings -->
306:          <button id="settings-button" style="margin-right: 16px; background: none; border: none; cursor: pointer;">
307:            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
308:              <circle cx="12" cy="12" r="3"></circle>
309:              <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
310:            </svg>
311:          </button>
312:          
313:          <!-- User Profile -->
314:          
315:          <% if Current.user %>
316:          <div class="dropdown">
317:            <button id="user-button" style="display: flex; align-items: center; background: none; border: none; cursor: pointer;">
318:              <div style="width: 32px; height: 32px; border-radius: 50%; background-color: #7c3aed; color: white; display: flex; align-items: center; justify-content: center; margin-right: 8px;">
319:                <span>DD</span>
320:              </div>
321:              <span style="font-weight: 500; margin-right: 4px;"><%= Current.user.%></span>
322:              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
323:                <polyline points="6 9 12 15 18 9"></polyline>
324:              </svg>
325:            </button>
326:            <div id="user-dropdown" class="dropdown-menu">
327:              <div class="dropdown-header">My Account</div>
328:              <a href="#" class="dropdown-item">Profile</a>
329:              <a href="#" class="dropdown-item">Settings</a>
330:              <a href="#" class="dropdown-item">Billing</a>
331:              <%= button_to "Log out", sign_out_path, method: :delete, class: "dropdown-item danger", turbo: false %>
332:            </div>
333:          </div>
334:          <% else %>
335:          <%= link_to "Log in", sign_in_path, method: :get, class: "dropdown-item danger", turbo: false %>
336:          <% end %>
337:        </div>
338:      </header>
339:      
340:      <div class="flex">
341:        <!-- Sidebar -->
342:        <div class="sidebar">
343:          <!-- Search Bar -->
344:          <div class="search-bar">
345:            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
346:              <circle cx="11" cy="11" r="8"></circle>
347:              <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
348:            </svg>
349:            <input type="text" placeholder="Search prompts..." />
350:          </div>
351:          
352:          <!-- Dashboard -->
353:          <a href="/get" class="dashboard-link">
354:            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
355:              <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
356:              <polyline points="9 22 9 12 15 12 15 22"></polyline>
357:            </svg>
358:            <span style="color: oklch(0.623 0.214 259.815)">Dashboard</span>
359:          </a>
360:          
361:          <!-- Prompt History -->
362:          <div style="margin-top: 20px;">
363:            <div class="category-header">
364:              <span>PROMPTS</span>
365:              <button id="new-prompt-button" style="background: none; border: none; color: #3b82f6; cursor: pointer;">
366:                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
367:                  <line x1="12" y1="5" x2="12" y2="19"></line>
368:                  <line x1="5" y1="12" x2="19" y2="12"></line>
369:                </svg>
370:              </button>
371:            </div>
372:            
373:            <!-- Prompt History Section -->
374:            <div>
375:              <div class="history-header">
376:                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="oklch(0.623 0.214 259.815)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
377:                  <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"></path>
378:                </svg>
379:                <span>Prompt History</span>
380:              </div>
381:              
382:              <!-- History Items -->
383:              <% if Current.user %>
384:                <div>
385:                <% @pss.each do |prompt| %>
386:                  <!-- Item 1 (selected) -->
387:                  <div class="prompt-item" data-id="<%= @i2 %>">
388:                    <div class="flex" style="align-items: flex-start;">
389:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
390:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
391:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
392:                      </svg>
393:                      <div>
394:                        <div class="prompt-title" style="color: oklch(0.623 0.214 259.815);"><%= prompt.system_prompt %></div>
395:                        <div class="prompt-date"><%= prompt.updated_at %></div>
396:                      </div>
397:                    </div>
398:                  </div>
399:                  <%# 
400:                  <!-- Item 2 -->
401:                  <div class="prompt-item" data-id="1">
402:                    <div class="flex" style="align-items: flex-start;">
403:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
404:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
405:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
406:                      </svg>
407:                      <div>
408:                        <div class="prompt-title">Design a logo for a tech startup</div>
409:                        <div class="prompt-date">2023-06-14</div>
410:                      </div>
411:                    </div>
412:                  </div>
413:                  
414:                  <!-- Item 3 -->
415:                  <div class="prompt-item" data-id="2">
416:                    <div class="flex" style="align-items: flex-start;">
417:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
418:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
419:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
420:                      </svg>
421:                      <div>
422:                        <div class="prompt-title">Write a product description for a new gadget</div>
423:                        <div class="prompt-date">2023-06-13</div>
424:                      </div>
425:                    </div>
426:                  </div>
427:                  
428:                  <!-- Item 4 -->
429:                  <div class="prompt-item" data-id="3">
430:                    <div class="flex" style="align-items: flex-start;">
431:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
432:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
433:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
434:                      </svg>
435:                      <div>
436:                        <div class="prompt-title">Generate ideas for a marketing campaign</div>
437:                        <div class="prompt-date">2023-06-12</div>
438:                      </div>
439:                    </div>
440:                  </div>
441:                  
442:                  <!-- Item 5 -->
443:                  <div class="prompt-item" data-id="4">
444:                    <div class="flex" style="align-items: flex-start;">
445:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
446:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
447:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
448:                      </svg>
449:                      <div>
450:                        <div class="prompt-title">Create a social media content calendar</div>
451:                        <div class="prompt-date">2023-06-11</div>
452:                      </div>
453:                    </div>
454:                  </div> %>
455:    
456:    
457:                <% @i2 = @i2 + 1%>
458:                <% end %>
459:                </div>
460:              <% else %>
461:    
462:              <% end %>
463:    
464:            </div>
465:          </div>
466:        </div>
467:        
468:        <!-- Main Content Area -->
469:        <div class="content-area">
470:          <!-- System Prompt Card -->
471:          <% if Current.user %>
472:            <% if @pss.first %>
473:              <div class="card">
474:                <div class="card-header dark">System Prompt</div>
475:                <div class="card-content">
476:                  <p id="prompt-description" style="line-height: 1.6; color: #4b5563;">
477:                    <%= @pss.first.system_prompt%>
478:                  </p>
479:                </div>
480:              </div>
481:            <% else %>
482:              <div class="card">
483:              <div class="card-header blue">
484:                <div style="display: flex; align-items: center;">
485:                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
486:                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
487:                  </svg>
488:                  No prompts created!
489:                </div>
490:              </div>
491:              <div class="card-content">
492:                <p style="line-height: 1.6; color: #4b5563;">
493:                  Create a prompt and begin optimizing!
494:                </p>
495:              </div>
496:            </div>
497:            <%end%>
498:          <% else %>
499:          <% end %>
500:          
501:          <!-- Statistics Card -->
502:          <% if Current.user %>
503:          <% if @pss.first %>
504:          <div class="card">
505:            <div class="card-header blue">
506:              <div style="display: flex; align-items: center;">
507:                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
508:                  <circle cx="12" cy="12" r="10"></circle>
509:                  <line x1="12" y1="16" x2="12" y2="12"></line>
510:                  <line x1="12" y1="8" x2="12.01" y2="8"></line>
511:                </svg>
512:                Statistics
513:              </div>
514:            </div>
515:            <div class="card-content">
516:              <div class="stats-container">
517:                <div>
518:                  <!-- Likes -->
519:                  <div class="stat-item">
520:                    <div class="stat-icon purple">
521:                      <svg class="thumbs-up" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#7c3aed" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
522:                        <path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>
523:                      </svg>
524:                    </div>
525:                    <div>
526:                      <div class="stat-label">Likes</div>
527:                      <div class="stat-value" id="likes"><%= @pss.first.like_count%></div>
528:                    </div>
529:                  </div>
530:                  
531:                  <!-- Dislikes -->
532:                  <div class="stat-item">
533:                    <div class="stat-icon red">
534:                      <svg class="thumbs-down" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#ef4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
535:                        <path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path>
536:                      </svg>
537:                    </div>
538:                    <div>
539:                      <div class="stat-label">Dislikes</div>
540:                      <div class="stat-value" id="dislikes"><%= @pss.first.dislike_count%></div>
541:                    </div>
542:                  </div>
543:                </div>
544:                
545:                <!-- Donut Chart -->
546:                <div>
547:                  <svg class="chart" width="150" height="150" viewBox="0 0 150 150">
548:                    <circle cx="75" cy="75" r="60" fill="transparent" stroke="#FF0000" stroke-width="20"></circle>
549:                    <circle id="likeCircle" cx="75" cy="75" r="60" fill="transparent" stroke="#008000" stroke-width="20" stroke-dasharray="<%= 377 * (@pss.first.like_count / (@pss.first.like_count + @pss.first.dislike_count)) %> <%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count)) %>" stroke-dashoffset="0"></circle>
550:    
551:                    <circle cx="75" cy="75" r="40" fill="white"></circle>
552:                  </svg>
553:                </div>
554:              </div>
555:            </div>
556:          </div>
557:          <% end %>
558:          <% else %>
559:          <% end %>
560:          
561:          <!-- AI Feedback Card -->
562:          <% if Current.user %>
563:          <% if @pss.first %>
564:          <div class="card">
565:            <div class="card-header blue">
566:              <div style="display: flex; align-items: center;">
567:                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
568:                  <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
569:                </svg>
570:                AI Feedback
571:              </div>
572:            </div>
573:            <div class="card-content">
574:              <p style="line-height: 1.6; color: #4b5563;" id="feedback">
575:                <%= @pss.first.ai_feedback%>
576:              </p>
577:            </div>
578:          </div>
579:          <% end %>
580:          <% else %>
581:          <div class="card">
582:            <div class="card-header blue">
583:              <div style="display: flex; align-items: center;">
584:                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
585:                  <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
586:                </svg>
587:                Login to access page!
588:              </div>
589:            </div>
590:            <div class="card-content">
591:              <p style="line-height: 1.6; color: #4b5563;">
592:                Login through your company/personal account to access the dashboard.
593:              </p>
594:            </div>
595:          </div>
596:          <% end %>
597:    
598:    
599:    
600:        </div>
601:      </div>
602:      
603:      <!-- New Prompt Modal -->
604:      <div id="new-prompt-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); z-index: 100; align-items: center; justify-content: center;">
605:        <div style="background-color: white; border-radius: 8px; padding: 24px; width: 90%; max-width: 500px; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);">
606:          <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 16px;">Create New Prompt</h3>
607:          <%# <form id="new-prompt-form">
608:            <div style="margin-bottom: 16px;">
609:              <label for="prompt-title" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt Title</label>
610:              <input type="text" id="prompt-title" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Enter a title for your prompt" />
611:            </div>
612:            <div style="margin-bottom: 16px;">
613:              <label for="prompt-text" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt</label>
614:              <textarea id="prompt-text" rows="5" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Write your prompt here..."></textarea>
615:            </div>
616:            <div style="display: flex; justify-content: flex-end; gap: 12px;">
617:              <button type="button" id="cancel-prompt" style="padding: 8px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
618:              <button type="submit" style="padding: 8px 16px; background-color: #7c3aed; color: white; border: none; border-radius: 6px; cursor: pointer;">Create</button>
619:            </div>
620:          </form> %>
621:          <%= form_with model: @ps, url: new_prompt_path, data: { turbo: false } do |form| %>
622:    <div class="mb-3">
623:        <%= form.label :uid %>
624:        <%= form.number_field :uid, class: "form-control", placeholder: "123" %>
625:    </div>
626:    <div class="mb-3">
627:        <%= form.label :system_prompt %>
628:        <%= form.text_field :system_prompt, class: "form-control" %>
629:    </div>
630:    <div class="mb-3">
631:      <button type="button" id="cancel-prompt" style="padding: 7px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
632:      <%= form.submit "Create form", class: "btn btn-primary" %>
633:    </div>
634:    <% end %>
635:        </div>
636:      </div>
637:    
638:      <script>
639:        // Sample prompt data
640:        const promptData = [
641:          <% if Current.user %>
642:          <% @pss.each do |prompt| %>
643:          {
644:            id: <%= @i %>,
645:            title: "<%= prompt.system_prompt %>",
646:            date: "<%= prompt.updated_at %>",
647:            content: "<%= prompt.system_prompt %>",
648:            likes: <%= prompt.like_count %>,
649:            dislikes: <%= prompt.dislike_count %>,
650:            feedback: "<%= prompt.ai_feedback %>"
651:          },
652:          <% @i = @i + 1%>
653:          <%end%>
654:    
655:          <% else %>
656:    
657:          <% end %>
658:        ];
659:        
660:        // Handle prompt item clicks
661:        document.querySelectorAll('.prompt-item').forEach(item => {
662:          item.addEventListener('click', () => {
663:            // Get prompt id
664:            const promptId = parseInt(item.getAttribute('data-id'));
665:            
666:            // Update selection visualization
667:            document.querySelectorAll('.prompt-item').forEach(el => {
668:              el.classList.remove('selected');
669:              el.querySelector('.prompt-title').style.color = '#374151';
670:            });
671:            
672:            item.classList.add('selected');
673:            item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
674:            
675:            // Update content based on selection
676:            const prompt = promptData.find(p => p.id === promptId);
677:            if (prompt) {
678:              document.getElementById('prompt-description').textContent = prompt.content;
679:              document.getElementById('likes').textContent = prompt.likes;
680:              document.getElementById('dislikes').textContent = prompt.dislikes;
681:              document.getElementById('feedback').textContent = prompt.feedback;
682:              let lip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
683:              let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
684:              document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
685:            }
686:          });
687:        });
688:        
689:        // Account dropdown functionality
690:        const userButton = document.getElementById('user-button');
691:        const userDropdown = document.getElementById('user-dropdown');
692:        
693:        userButton.addEventListener('click', (e) => {
694:          e.stopPropagation();
695:          userDropdown.style.display = userDropdown.style.display === 'block' ? 'none' : 'block';
696:        });
697:        
698:        // Close dropdown when clicking elsewhere
699:        document.addEventListener('click', () => {
700:          userDropdown.style.display = 'none';
701:        });
702:        
703:        // New prompt modal functionality
704:        const newPromptButton = document.getElementById('new-prompt-button');
705:        const newPromptModal = document.getElementById('new-prompt-modal');
706:        const cancelPromptButton = document.getElementById('cancel-prompt');
707:        const newPromptForm = document.getElementById('new-prompt-form');
708:        
709:        newPromptButton.addEventListener('click', () => {
710:          newPromptModal.style.display = 'flex';
711:        });
712:        
713:        cancelPromptButton.addEventListener('click', () => {
714:          newPromptModal.style.display = 'none';
715:          newPromptForm.reset();
716:        });
717:      
718:        
719:        // Prevent clicks inside the modal from closing it
720:        newPromptModal.querySelector('div').addEventListener('click', (e) => {
721:          e.stopPropagation();
722:        });
723:        
724:        // Close modal when clicking outside
725:        newPromptModal.addEventListener('click', () => {
726:          newPromptModal.style.display = 'none';
727:          newPromptForm.reset();
728:        });
729:    
730:        
731:        document.addEventListener('DOMContentLoaded', function() {
732:            let item = document.querySelector('.prompt-item');
733:            const promptId = 0;
734:            console.log(promptId);
735:            
736:            // Update selection visualization
737:            document.querySelectorAll('.prompt-item').forEach(el => {
738:              el.classList.remove('selected');
739:              el.querySelector('.prompt-title').style.color = '#374151';
740:            });
741:            
742:            item.classList.add('selected');
743:            item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
744:            
745:            // Update content based on selection
746:            const prompt = promptData.find(p => p.id === promptId);
747:            if (prompt) {
748:              document.getElementById('prompt-description').textContent = prompt.content;
749:              document.getElementById('likes').textContent = prompt.likes;
750:              document.getElementById('dislikes').textContent = prompt.dislikes;
751:              document.getElementById('feedback').textContent = prompt.feedback;
752:              let lip =377 * prompt.likes / (prompt.likes + prompt.dislikes);
753:              let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
754:              document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
755:            }
756:            console.log(promptId);
757:        });
758:    
759:      </script>
760:    </body>
761:    </html>
  
app/views/main/home.html.erb:321: syntax error, unexpected ')'
Started GET "/" for ::1 at 2025-03-23 01:40:42 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.9ms | Allocations: 2984)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | Allocations: 3077)
Completed 500 Internal Server Error in 106ms (ActiveRecord: 3.5ms | Allocations: 17465)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <!DOCTYPE html>
<html lang="en">
<head>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PromptFlow</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f5f5f5;
    }
    
    .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 20px;
      background-color: white;
      border-bottom: 1px solid #e1e1e1;
    }
    
    .sidebar {
      width: 280px;
      height: 100vh;
      background-color: white;
      border-right: 1px solid #e1e1e1;
      overflow-y: auto;
    }
    
    .search-bar {
      display: flex;
      align-items: center;
      background-color: #f5f5f5;
      border-radius: 6px;
      padding: 8px 12px;
      margin: 16px;
    }
    
    .search-bar input {
      border: none;
      background: none;
      outline: none;
      width: 100%;
      margin-left: 8px;
    }
    
    .dashboard-link {
      display: flex;
      align-items: center;
      padding: 10px 16px;
      margin: 0 12px;
      background-color: oklch(0.882 0.059 254.128);
      color: oklch(0.623 0.214 259.815);
      border-radius: 6px;
      text-decoration: none;
    }
    
    .dashboard-link svg {
      margin-right: 12px;
    }
    
    .category-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 16px;
      color: #6b7280;
      font-weight: 600;
      font-size: 0.8rem;
    }
    
    .history-header {
      display: flex;
      align-items: center;
      padding: 8px 16px;
      color: oklch(0.623 0.214 259.815);
      font-weight: 500;
    }
    
    .history-header svg {
      margin-right: 8px;
    }
    
    .prompt-item {
      padding: 12px 16px;
      cursor: pointer;
    }
    
    .prompt-item:hover {
      background-color: oklch(0.97 0.03 254.604);
      transition: 0.2s ease-in-out;
    }
    
    .prompt-item.selected {
      background-color: oklch(0.932 0.032 255.585);
    }
    
    .prompt-icon {
      margin-right: 12px;
      flex-shrink: 0;
    }
    
    .prompt-title {
      font-weight: 500;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      max-width: 180px;
    }
    
    .prompt-date {
      font-size: 0.75rem;
      color: #6b7280;
      margin-top: 4px;
    }
    
    .content-area {
      flex: 1;
      padding: 20px;
    }
    
    .card {
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      margin-bottom: 20px;
      overflow: hidden;
    }
    
    .card-header {
      padding: 12px 16px;
      font-weight: 600;
      color: white;
    }
    
    .card-header.dark {
      background-color: #1f2937;
    }
    
    .card-header.blue {
      background-color: oklch(0.623 0.214 259.815);
    }
    
    .card-content {
      padding: 16px;
    }
    
    .stats-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .stat-item {
      display: flex;
      align-items: center;
      margin-bottom: 16px;
    }
    
    .stat-icon {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 12px;
    }
    
    .stat-icon.purple {
      background-color: #f3e8ff;
    }

    .thumbs-up {
      filter: brightness(100%);
      cursor: pointer;
      transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
    }

    .thumbs-up:hover {
      filter: brightness(200%);
      transform: scale(1.2);
    }
    
    .stat-icon.red {
      background-color: #fee2e2;
    }

    .thumbs-down:hover {
      filter: brightness(100%);
      cursor: pointer;
      transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
    }

    .thumbs-down:hover {
      filter: brightness(200%);
      transform: scale(1.2);
    }
    
    .stat-label {
      font-size: 0.8rem;
      color: #6b7280;
    }

    .chart {
        transform: scale(1);
        transition: transform 0.3s ease-in-out;
    }

    .chart:hover {
        transform: scale(1.2);
    }
    
    .stat-value {
      font-size: 1.5rem;
      font-weight: 700;
    }
    
    .dropdown {
      position: relative;
      border-radius: 2rem;
      transition: 0.2s ease-in-out;
    }
    
    .dropdown-menu {
      display: none;
      position: absolute;
      right: 0;
      top: 40px;
      background-color: white;
      border-radius: 6px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      min-width: 200px;
      z-index: 10;
    }
    
    .dropdown-header {
      padding: 12px 16px;
      font-weight: 600;
      border-bottom: 1px solid #f1f1f1;
    }
    
    .dropdown-item {
      padding: 12px 16px;
      display: block;
      color: #333;
      text-decoration: none;
      border-bottom: 1px solid #f1f1f1;
    }
    
    .dropdown-item:last-child {
      border-bottom: none;
    }
    
    .dropdown-item:hover {
      background-color: #f9fafb;
    }
    
    .dropdown-item.danger {
      color: #ef4444;
    }
    
    .flex {
      display: flex;
    }
    
    .flex-col {
      flex-direction: column;
    }
    
    .items-center {
      align-items: center;
    }
    
    .hidden {
      display: none;
    }
  </style>
</head>
<body>
    <% if @ps.errors.any? %>
    <div class="alert alert-danger">
        <% @ps.errors.full_messages.each do |messages| %>
        <div><%= messages %></div>
        <% end %>
    </div>
<% end %>
  <!-- Header -->
  <header class="header">
    <h1><i class="fa-solid fa-worm fa-flip-horizontal"></i>PromptFlow</h1>
    
    <div class="flex items-center">
      <!-- Notifications -->
      <button style="margin-right: 16px; background: none; border: none; cursor: pointer;">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
          <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
        </svg>
      </button>
      
      <!-- Settings -->
      <button id="settings-button" style="margin-right: 16px; background: none; border: none; cursor: pointer;">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="3"></circle>
          <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
        </svg>
      </button>
      
      <!-- User Profile -->
      
      <% if Current.user %>
      <div class="dropdown">
        <button id="user-button" style="display: flex; align-items: center; background: none; border: none; cursor: pointer;">
          <div style="width: 32px; height: 32px; border-radius: 50%; background-color: #7c3aed; color: white; display: flex; align-items: center; justify-content: center; margin-right: 8px;">
            <span>DD</span>
          </div>
          <span style="font-weight: 500; margin-right: 4px;"><%= Current.user.%></span>
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="6 9 12 15 18 9"></polyline>
          </svg>
        </button>
        <div id="user-dropdown" class="dropdown-menu">
          <div class="dropdown-header">My Account</div>
          <a href="#" class="dropdown-item">Profile</a>
          <a href="#" class="dropdown-item">Settings</a>
          <a href="#" class="dropdown-item">Billing</a>
          <%= button_to "Log out", sign_out_path, method: :delete, class: "dropdown-item danger", turbo: false %>
        </div>
      </div>
      <% else %>
      <%= link_to "Log in", sign_in_path, method: :get, class: "dropdown-item danger", turbo: false %>
      <% end %>
    </div>
  </header>
  
  <div class="flex">
    <!-- Sidebar -->
    <div class="sidebar">
      <!-- Search Bar -->
      <div class="search-bar">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="11" cy="11" r="8"></circle>
          <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
        <input type="text" placeholder="Search prompts..." />
      </div>
      
      <!-- Dashboard -->
      <a href="/get" class="dashboard-link">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
          <polyline points="9 22 9 12 15 12 15 22"></polyline>
        </svg>
        <span style="color: oklch(0.623 0.214 259.815)">Dashboard</span>
      </a>
      
      <!-- Prompt History -->
      <div style="margin-top: 20px;">
        <div class="category-header">
          <span>PROMPTS</span>
          <button id="new-prompt-button" style="background: none; border: none; color: #3b82f6; cursor: pointer;">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="12" y1="5" x2="12" y2="19"></line>
              <line x1="5" y1="12" x2="19" y2="12"></line>
            </svg>
          </button>
        </div>
        
        <!-- Prompt History Section -->
        <div>
          <div class="history-header">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="oklch(0.623 0.214 259.815)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"></path>
            </svg>
            <span>Prompt History</span>
          </div>
          
          <!-- History Items -->
          <% if Current.user %>
            <div>
            <% @pss.each do |prompt| %>
              <!-- Item 1 (selected) -->
              <div class="prompt-item" data-id="<%= @i2 %>">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title" style="color: oklch(0.623 0.214 259.815);"><%= prompt.system_prompt %></div>
                    <div class="prompt-date"><%= prompt.updated_at %></div>
                  </div>
                </div>
              </div>
              <%# 
              <!-- Item 2 -->
              <div class="prompt-item" data-id="1">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Design a logo for a tech startup</div>
                    <div class="prompt-date">2023-06-14</div>
                  </div>
                </div>
              </div>
              
              <!-- Item 3 -->
              <div class="prompt-item" data-id="2">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Write a product description for a new gadget</div>
                    <div class="prompt-date">2023-06-13</div>
                  </div>
                </div>
              </div>
              
              <!-- Item 4 -->
              <div class="prompt-item" data-id="3">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Generate ideas for a marketing campaign</div>
                    <div class="prompt-date">2023-06-12</div>
                  </div>
                </div>
              </div>
              
              <!-- Item 5 -->
              <div class="prompt-item" data-id="4">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Create a social media content calendar</div>
                    <div class="prompt-date">2023-06-11</div>
                  </div>
                </div>
              </div> %>


            <% @i2 = @i2 + 1%>
            <% end %>
            </div>
          <% else %>

          <% end %>

        </div>
      </div>
    </div>
    
    <!-- Main Content Area -->
    <div class="content-area">
      <!-- System Prompt Card -->
      <% if Current.user %>
        <% if @pss.first %>
          <div class="card">
            <div class="card-header dark">System Prompt</div>
            <div class="card-content">
              <p id="prompt-description" style="line-height: 1.6; color: #4b5563;">
                <%= @pss.first.system_prompt%>
              </p>
            </div>
          </div>
        <% else %>
          <div class="card">
          <div class="card-header blue">
            <div style="display: flex; align-items: center;">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
              </svg>
              No prompts created!
            </div>
          </div>
          <div class="card-content">
            <p style="line-height: 1.6; color: #4b5563;">
              Create a prompt and begin optimizing!
            </p>
          </div>
        </div>
        <%end%>
      <% else %>
      <% end %>
      
      <!-- Statistics Card -->
      <% if Current.user %>
      <% if @pss.first %>
      <div class="card">
        <div class="card-header blue">
          <div style="display: flex; align-items: center;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
              <circle cx="12" cy="12" r="10"></circle>
              <line x1="12" y1="16" x2="12" y2="12"></line>
              <line x1="12" y1="8" x2="12.01" y2="8"></line>
            </svg>
            Statistics
          </div>
        </div>
        <div class="card-content">
          <div class="stats-container">
            <div>
              <!-- Likes -->
              <div class="stat-item">
                <div class="stat-icon purple">
                  <svg class="thumbs-up" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#7c3aed" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>
                  </svg>
                </div>
                <div>
                  <div class="stat-label">Likes</div>
                  <div class="stat-value" id="likes"><%= @pss.first.like_count%></div>
                </div>
              </div>
              
              <!-- Dislikes -->
              <div class="stat-item">
                <div class="stat-icon red">
                  <svg class="thumbs-down" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#ef4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path>
                  </svg>
                </div>
                <div>
                  <div class="stat-label">Dislikes</div>
                  <div class="stat-value" id="dislikes"><%= @pss.first.dislike_count%></div>
                </div>
              </div>
            </div>
            
            <!-- Donut Chart -->
            <div>
              <svg class="chart" width="150" height="150" viewBox="0 0 150 150">
                <circle cx="75" cy="75" r="60" fill="transparent" stroke="#FF0000" stroke-width="20"></circle>
                <circle id="likeCircle" cx="75" cy="75" r="60" fill="transparent" stroke="#008000" stroke-width="20" stroke-dasharray="<%= 377 * (@pss.first.like_count / (@pss.first.like_count + @pss.first.dislike_count)) %> <%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count)) %>" stroke-dashoffset="0"></circle>

                <circle cx="75" cy="75" r="40" fill="white"></circle>
              </svg>
            </div>
          </div>
        </div>
      </div>
      <% end %>
      <% else %>
      <% end %>
      
      <!-- AI Feedback Card -->
      <% if Current.user %>
      <% if @pss.first %>
      <div class="card">
        <div class="card-header blue">
          <div style="display: flex; align-items: center;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
              <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
            </svg>
            AI Feedback
          </div>
        </div>
        <div class="card-content">
          <p style="line-height: 1.6; color: #4b5563;" id="feedback">
            <%= @pss.first.ai_feedback%>
          </p>
        </div>
      </div>
      <% end %>
      <% else %>
      <div class="card">
        <div class="card-header blue">
          <div style="display: flex; align-items: center;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
              <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
            </svg>
            Login to access page!
          </div>
        </div>
        <div class="card-content">
          <p style="line-height: 1.6; color: #4b5563;">
            Login through your company/personal account to access the dashboard.
          </p>
        </div>
      </div>
      <% end %>



    </div>
  </div>
  
  <!-- New Prompt Modal -->
  <div id="new-prompt-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); z-index: 100; align-items: center; justify-content: center;">
    <div style="background-color: white; border-radius: 8px; padding: 24px; width: 90%; max-width: 500px; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);">
      <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 16px;">Create New Prompt</h3>
      <%# <form id="new-prompt-form">
        <div style="margin-bottom: 16px;">
          <label for="prompt-title" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt Title</label>
          <input type="text" id="prompt-title" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Enter a title for your prompt" />
        </div>
        <div style="margin-bottom: 16px;">
          <label for="prompt-text" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt</label>
          <textarea id="prompt-text" rows="5" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Write your prompt here..."></textarea>
        </div>
        <div style="display: flex; justify-content: flex-end; gap: 12px;">
          <button type="button" id="cancel-prompt" style="padding: 8px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
          <button type="submit" style="padding: 8px 16px; background-color: #7c3aed; color: white; border: none; border-radius: 6px; cursor: pointer;">Create</button>
        </div>
      </form> %>
      <%= form_with model: @ps, url: new_prompt_path, data: { turbo: false } do |form| %>
<div class="mb-3">
    <%= form.label :uid %>
    <%= form.number_field :uid, class: "form-control", placeholder: "123" %>
</div>
<div class="mb-3">
    <%= form.label :system_prompt %>
    <%= form.text_field :system_prompt, class: "form-control" %>
</div>
<div class="mb-3">
  <button type="button" id="cancel-prompt" style="padding: 7px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
  <%= form.submit "Create form", class: "btn btn-primary" %>
</div>
<% end %>
    </div>
  </div>

  <script>
    // Sample prompt data
    const promptData = [
      <% if Current.user %>
      <% @pss.each do |prompt| %>
      {
        id: <%= @i %>,
        title: "<%= prompt.system_prompt %>",
        date: "<%= prompt.updated_at %>",
        content: "<%= prompt.system_prompt %>",
        likes: <%= prompt.like_count %>,
        dislikes: <%= prompt.dislike_count %>,
        feedback: "<%= prompt.ai_feedback %>"
      },
      <% @i = @i + 1%>
      <%end%>

      <% else %>

      <% end %>
    ];
    
    // Handle prompt item clicks
    document.querySelectorAll('.prompt-item').forEach(item => {
      item.addEventListener('click', () => {
        // Get prompt id
        const promptId = parseInt(item.getAttribute('data-id'));
        
        // Update selection visualization
        document.querySelectorAll('.prompt-item').forEach(el => {
          el.classList.remove('selected');
          el.querySelector('.prompt-title').style.color = '#374151';
        });
        
        item.classList.add('selected');
        item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
        
        // Update content based on selection
        const prompt = promptData.find(p => p.id === promptId);
        if (prompt) {
          document.getElementById('prompt-description').textContent = prompt.content;
          document.getElementById('likes').textContent = prompt.likes;
          document.getElementById('dislikes').textContent = prompt.dislikes;
          document.getElementById('feedback').textContent = prompt.feedback;
          let lip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
          let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
          document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
        }
      });
    });
    
    // Account dropdown functionality
    const userButton = document.getElementById('user-button');
    const userDropdown = document.getElementById('user-dropdown');
    
    userButton.addEventListener('click', (e) => {
      e.stopPropagation();
      userDropdown.style.display = userDropdown.style.display === 'block' ? 'none' : 'block';
    });
    
    // Close dropdown when clicking elsewhere
    document.addEventListener('click', () => {
      userDropdown.style.display = 'none';
    });
    
    // New prompt modal functionality
    const newPromptButton = document.getElementById('new-prompt-button');
    const newPromptModal = document.getElementById('new-prompt-modal');
    const cancelPromptButton = document.getElementById('cancel-prompt');
    const newPromptForm = document.getElementById('new-prompt-form');
    
    newPromptButton.addEventListener('click', () => {
      newPromptModal.style.display = 'flex';
    });
    
    cancelPromptButton.addEventListener('click', () => {
      newPromptModal.style.display = 'none';
      newPromptForm.reset();
    });
  
    
    // Prevent clicks inside the modal from closing it
    newPromptModal.querySelector('div').addEventListener('click', (e) => {
      e.stopPropagation();
    });
    
    // Close modal when clicking outside
    newPromptModal.addEventListener('click', () => {
      newPromptModal.style.display = 'none';
      newPromptForm.reset();
    });

    
    document.addEventListener('DOMContentLoaded', function() {
        let item = document.querySelector('.prompt-item');
        const promptId = 0;
        console.log(promptId);
        
        // Update selection visualization
        document.querySelectorAll('.prompt-item').forEach(el => {
          el.classList.remove('selected');
          el.querySelector('.prompt-title').style.color = '#374151';
        });
        
        item.classList.add('selected');
        item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
        
        // Update content based on selection
        const prompt = promptData.find(p => p.id === promptId);
        if (prompt) {
          document.getElementById('prompt-description').textContent = prompt.content;
          document.getElementById('likes').textContent = prompt.likes;
          document.getElementById('dislikes').textContent = prompt.dislikes;
          document.getElementById('feedback').textContent = prompt.feedback;
          let lip =377 * prompt.likes / (prompt.likes + prompt.dislikes);
          let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
          document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
        }
        console.log(promptId);
    });

  </script>
</body>
</html>
):
1:    <!DOCTYPE html>
2:    <html lang="en">
3:    <head>
4:    
5:      <meta charset="UTF-8" />
6:      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
7:      <title>PromptFlow</title>
8:      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
9:      <style>
10:        body {
11:          font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
12:          margin: 0;
13:          padding: 0;
14:          background-color: #f5f5f5;
15:        }
16:        
17:        .header {
18:          display: flex;
19:          align-items: center;
20:          justify-content: space-between;
21:          padding: 10px 20px;
22:          background-color: white;
23:          border-bottom: 1px solid #e1e1e1;
24:        }
25:        
26:        .sidebar {
27:          width: 280px;
28:          height: 100vh;
29:          background-color: white;
30:          border-right: 1px solid #e1e1e1;
31:          overflow-y: auto;
32:        }
33:        
34:        .search-bar {
35:          display: flex;
36:          align-items: center;
37:          background-color: #f5f5f5;
38:          border-radius: 6px;
39:          padding: 8px 12px;
40:          margin: 16px;
41:        }
42:        
43:        .search-bar input {
44:          border: none;
45:          background: none;
46:          outline: none;
47:          width: 100%;
48:          margin-left: 8px;
49:        }
50:        
51:        .dashboard-link {
52:          display: flex;
53:          align-items: center;
54:          padding: 10px 16px;
55:          margin: 0 12px;
56:          background-color: oklch(0.882 0.059 254.128);
57:          color: oklch(0.623 0.214 259.815);
58:          border-radius: 6px;
59:          text-decoration: none;
60:        }
61:        
62:        .dashboard-link svg {
63:          margin-right: 12px;
64:        }
65:        
66:        .category-header {
67:          display: flex;
68:          justify-content: space-between;
69:          align-items: center;
70:          padding: 16px;
71:          color: #6b7280;
72:          font-weight: 600;
73:          font-size: 0.8rem;
74:        }
75:        
76:        .history-header {
77:          display: flex;
78:          align-items: center;
79:          padding: 8px 16px;
80:          color: oklch(0.623 0.214 259.815);
81:          font-weight: 500;
82:        }
83:        
84:        .history-header svg {
85:          margin-right: 8px;
86:        }
87:        
88:        .prompt-item {
89:          padding: 12px 16px;
90:          cursor: pointer;
91:        }
92:        
93:        .prompt-item:hover {
94:          background-color: oklch(0.97 0.03 254.604);
95:          transition: 0.2s ease-in-out;
96:        }
97:        
98:        .prompt-item.selected {
99:          background-color: oklch(0.932 0.032 255.585);
100:        }
101:        
102:        .prompt-icon {
103:          margin-right: 12px;
104:          flex-shrink: 0;
105:        }
106:        
107:        .prompt-title {
108:          font-weight: 500;
109:          white-space: nowrap;
110:          overflow: hidden;
111:          text-overflow: ellipsis;
112:          max-width: 180px;
113:        }
114:        
115:        .prompt-date {
116:          font-size: 0.75rem;
117:          color: #6b7280;
118:          margin-top: 4px;
119:        }
120:        
121:        .content-area {
122:          flex: 1;
123:          padding: 20px;
124:        }
125:        
126:        .card {
127:          background-color: white;
128:          border-radius: 8px;
129:          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
130:          margin-bottom: 20px;
131:          overflow: hidden;
132:        }
133:        
134:        .card-header {
135:          padding: 12px 16px;
136:          font-weight: 600;
137:          color: white;
138:        }
139:        
140:        .card-header.dark {
141:          background-color: #1f2937;
142:        }
143:        
144:        .card-header.blue {
145:          background-color: oklch(0.623 0.214 259.815);
146:        }
147:        
148:        .card-content {
149:          padding: 16px;
150:        }
151:        
152:        .stats-container {
153:          display: flex;
154:          justify-content: space-between;
155:          align-items: center;
156:        }
157:        
158:        .stat-item {
159:          display: flex;
160:          align-items: center;
161:          margin-bottom: 16px;
162:        }
163:        
164:        .stat-icon {
165:          width: 40px;
166:          height: 40px;
167:          border-radius: 50%;
168:          display: flex;
169:          align-items: center;
170:          justify-content: center;
171:          margin-right: 12px;
172:        }
173:        
174:        .stat-icon.purple {
175:          background-color: #f3e8ff;
176:        }
177:    
178:        .thumbs-up {
179:          filter: brightness(100%);
180:          cursor: pointer;
181:          transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
182:        }
183:    
184:        .thumbs-up:hover {
185:          filter: brightness(200%);
186:          transform: scale(1.2);
187:        }
188:        
189:        .stat-icon.red {
190:          background-color: #fee2e2;
191:        }
192:    
193:        .thumbs-down:hover {
194:          filter: brightness(100%);
195:          cursor: pointer;
196:          transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
197:        }
198:    
199:        .thumbs-down:hover {
200:          filter: brightness(200%);
201:          transform: scale(1.2);
202:        }
203:        
204:        .stat-label {
205:          font-size: 0.8rem;
206:          color: #6b7280;
207:        }
208:    
209:        .chart {
210:            transform: scale(1);
211:            transition: transform 0.3s ease-in-out;
212:        }
213:    
214:        .chart:hover {
215:            transform: scale(1.2);
216:        }
217:        
218:        .stat-value {
219:          font-size: 1.5rem;
220:          font-weight: 700;
221:        }
222:        
223:        .dropdown {
224:          position: relative;
225:          border-radius: 2rem;
226:          transition: 0.2s ease-in-out;
227:        }
228:        
229:        .dropdown-menu {
230:          display: none;
231:          position: absolute;
232:          right: 0;
233:          top: 40px;
234:          background-color: white;
235:          border-radius: 6px;
236:          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
237:          min-width: 200px;
238:          z-index: 10;
239:        }
240:        
241:        .dropdown-header {
242:          padding: 12px 16px;
243:          font-weight: 600;
244:          border-bottom: 1px solid #f1f1f1;
245:        }
246:        
247:        .dropdown-item {
248:          padding: 12px 16px;
249:          display: block;
250:          color: #333;
251:          text-decoration: none;
252:          border-bottom: 1px solid #f1f1f1;
253:        }
254:        
255:        .dropdown-item:last-child {
256:          border-bottom: none;
257:        }
258:        
259:        .dropdown-item:hover {
260:          background-color: #f9fafb;
261:        }
262:        
263:        .dropdown-item.danger {
264:          color: #ef4444;
265:        }
266:        
267:        .flex {
268:          display: flex;
269:        }
270:        
271:        .flex-col {
272:          flex-direction: column;
273:        }
274:        
275:        .items-center {
276:          align-items: center;
277:        }
278:        
279:        .hidden {
280:          display: none;
281:        }
282:      </style>
283:    </head>
284:    <body>
285:        <% if @ps.errors.any? %>
286:        <div class="alert alert-danger">
287:            <% @ps.errors.full_messages.each do |messages| %>
288:            <div><%= messages %></div>
289:            <% end %>
290:        </div>
291:    <% end %>
292:      <!-- Header -->
293:      <header class="header">
294:        <h1><i class="fa-solid fa-worm fa-flip-horizontal"></i>PromptFlow</h1>
295:        
296:        <div class="flex items-center">
297:          <!-- Notifications -->
298:          <button style="margin-right: 16px; background: none; border: none; cursor: pointer;">
299:            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
300:              <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
301:              <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
302:            </svg>
303:          </button>
304:          
305:          <!-- Settings -->
306:          <button id="settings-button" style="margin-right: 16px; background: none; border: none; cursor: pointer;">
307:            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
308:              <circle cx="12" cy="12" r="3"></circle>
309:              <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
310:            </svg>
311:          </button>
312:          
313:          <!-- User Profile -->
314:          
315:          <% if Current.user %>
316:          <div class="dropdown">
317:            <button id="user-button" style="display: flex; align-items: center; background: none; border: none; cursor: pointer;">
318:              <div style="width: 32px; height: 32px; border-radius: 50%; background-color: #7c3aed; color: white; display: flex; align-items: center; justify-content: center; margin-right: 8px;">
319:                <span>DD</span>
320:              </div>
321:              <span style="font-weight: 500; margin-right: 4px;"><%= Current.user.%></span>
322:              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
323:                <polyline points="6 9 12 15 18 9"></polyline>
324:              </svg>
325:            </button>
326:            <div id="user-dropdown" class="dropdown-menu">
327:              <div class="dropdown-header">My Account</div>
328:              <a href="#" class="dropdown-item">Profile</a>
329:              <a href="#" class="dropdown-item">Settings</a>
330:              <a href="#" class="dropdown-item">Billing</a>
331:              <%= button_to "Log out", sign_out_path, method: :delete, class: "dropdown-item danger", turbo: false %>
332:            </div>
333:          </div>
334:          <% else %>
335:          <%= link_to "Log in", sign_in_path, method: :get, class: "dropdown-item danger", turbo: false %>
336:          <% end %>
337:        </div>
338:      </header>
339:      
340:      <div class="flex">
341:        <!-- Sidebar -->
342:        <div class="sidebar">
343:          <!-- Search Bar -->
344:          <div class="search-bar">
345:            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
346:              <circle cx="11" cy="11" r="8"></circle>
347:              <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
348:            </svg>
349:            <input type="text" placeholder="Search prompts..." />
350:          </div>
351:          
352:          <!-- Dashboard -->
353:          <a href="/get" class="dashboard-link">
354:            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
355:              <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
356:              <polyline points="9 22 9 12 15 12 15 22"></polyline>
357:            </svg>
358:            <span style="color: oklch(0.623 0.214 259.815)">Dashboard</span>
359:          </a>
360:          
361:          <!-- Prompt History -->
362:          <div style="margin-top: 20px;">
363:            <div class="category-header">
364:              <span>PROMPTS</span>
365:              <button id="new-prompt-button" style="background: none; border: none; color: #3b82f6; cursor: pointer;">
366:                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
367:                  <line x1="12" y1="5" x2="12" y2="19"></line>
368:                  <line x1="5" y1="12" x2="19" y2="12"></line>
369:                </svg>
370:              </button>
371:            </div>
372:            
373:            <!-- Prompt History Section -->
374:            <div>
375:              <div class="history-header">
376:                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="oklch(0.623 0.214 259.815)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
377:                  <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"></path>
378:                </svg>
379:                <span>Prompt History</span>
380:              </div>
381:              
382:              <!-- History Items -->
383:              <% if Current.user %>
384:                <div>
385:                <% @pss.each do |prompt| %>
386:                  <!-- Item 1 (selected) -->
387:                  <div class="prompt-item" data-id="<%= @i2 %>">
388:                    <div class="flex" style="align-items: flex-start;">
389:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
390:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
391:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
392:                      </svg>
393:                      <div>
394:                        <div class="prompt-title" style="color: oklch(0.623 0.214 259.815);"><%= prompt.system_prompt %></div>
395:                        <div class="prompt-date"><%= prompt.updated_at %></div>
396:                      </div>
397:                    </div>
398:                  </div>
399:                  <%# 
400:                  <!-- Item 2 -->
401:                  <div class="prompt-item" data-id="1">
402:                    <div class="flex" style="align-items: flex-start;">
403:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
404:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
405:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
406:                      </svg>
407:                      <div>
408:                        <div class="prompt-title">Design a logo for a tech startup</div>
409:                        <div class="prompt-date">2023-06-14</div>
410:                      </div>
411:                    </div>
412:                  </div>
413:                  
414:                  <!-- Item 3 -->
415:                  <div class="prompt-item" data-id="2">
416:                    <div class="flex" style="align-items: flex-start;">
417:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
418:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
419:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
420:                      </svg>
421:                      <div>
422:                        <div class="prompt-title">Write a product description for a new gadget</div>
423:                        <div class="prompt-date">2023-06-13</div>
424:                      </div>
425:                    </div>
426:                  </div>
427:                  
428:                  <!-- Item 4 -->
429:                  <div class="prompt-item" data-id="3">
430:                    <div class="flex" style="align-items: flex-start;">
431:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
432:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
433:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
434:                      </svg>
435:                      <div>
436:                        <div class="prompt-title">Generate ideas for a marketing campaign</div>
437:                        <div class="prompt-date">2023-06-12</div>
438:                      </div>
439:                    </div>
440:                  </div>
441:                  
442:                  <!-- Item 5 -->
443:                  <div class="prompt-item" data-id="4">
444:                    <div class="flex" style="align-items: flex-start;">
445:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
446:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
447:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
448:                      </svg>
449:                      <div>
450:                        <div class="prompt-title">Create a social media content calendar</div>
451:                        <div class="prompt-date">2023-06-11</div>
452:                      </div>
453:                    </div>
454:                  </div> %>
455:    
456:    
457:                <% @i2 = @i2 + 1%>
458:                <% end %>
459:                </div>
460:              <% else %>
461:    
462:              <% end %>
463:    
464:            </div>
465:          </div>
466:        </div>
467:        
468:        <!-- Main Content Area -->
469:        <div class="content-area">
470:          <!-- System Prompt Card -->
471:          <% if Current.user %>
472:            <% if @pss.first %>
473:              <div class="card">
474:                <div class="card-header dark">System Prompt</div>
475:                <div class="card-content">
476:                  <p id="prompt-description" style="line-height: 1.6; color: #4b5563;">
477:                    <%= @pss.first.system_prompt%>
478:                  </p>
479:                </div>
480:              </div>
481:            <% else %>
482:              <div class="card">
483:              <div class="card-header blue">
484:                <div style="display: flex; align-items: center;">
485:                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
486:                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
487:                  </svg>
488:                  No prompts created!
489:                </div>
490:              </div>
491:              <div class="card-content">
492:                <p style="line-height: 1.6; color: #4b5563;">
493:                  Create a prompt and begin optimizing!
494:                </p>
495:              </div>
496:            </div>
497:            <%end%>
498:          <% else %>
499:          <% end %>
500:          
501:          <!-- Statistics Card -->
502:          <% if Current.user %>
503:          <% if @pss.first %>
504:          <div class="card">
505:            <div class="card-header blue">
506:              <div style="display: flex; align-items: center;">
507:                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
508:                  <circle cx="12" cy="12" r="10"></circle>
509:                  <line x1="12" y1="16" x2="12" y2="12"></line>
510:                  <line x1="12" y1="8" x2="12.01" y2="8"></line>
511:                </svg>
512:                Statistics
513:              </div>
514:            </div>
515:            <div class="card-content">
516:              <div class="stats-container">
517:                <div>
518:                  <!-- Likes -->
519:                  <div class="stat-item">
520:                    <div class="stat-icon purple">
521:                      <svg class="thumbs-up" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#7c3aed" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
522:                        <path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>
523:                      </svg>
524:                    </div>
525:                    <div>
526:                      <div class="stat-label">Likes</div>
527:                      <div class="stat-value" id="likes"><%= @pss.first.like_count%></div>
528:                    </div>
529:                  </div>
530:                  
531:                  <!-- Dislikes -->
532:                  <div class="stat-item">
533:                    <div class="stat-icon red">
534:                      <svg class="thumbs-down" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#ef4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
535:                        <path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path>
536:                      </svg>
537:                    </div>
538:                    <div>
539:                      <div class="stat-label">Dislikes</div>
540:                      <div class="stat-value" id="dislikes"><%= @pss.first.dislike_count%></div>
541:                    </div>
542:                  </div>
543:                </div>
544:                
545:                <!-- Donut Chart -->
546:                <div>
547:                  <svg class="chart" width="150" height="150" viewBox="0 0 150 150">
548:                    <circle cx="75" cy="75" r="60" fill="transparent" stroke="#FF0000" stroke-width="20"></circle>
549:                    <circle id="likeCircle" cx="75" cy="75" r="60" fill="transparent" stroke="#008000" stroke-width="20" stroke-dasharray="<%= 377 * (@pss.first.like_count / (@pss.first.like_count + @pss.first.dislike_count)) %> <%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count)) %>" stroke-dashoffset="0"></circle>
550:    
551:                    <circle cx="75" cy="75" r="40" fill="white"></circle>
552:                  </svg>
553:                </div>
554:              </div>
555:            </div>
556:          </div>
557:          <% end %>
558:          <% else %>
559:          <% end %>
560:          
561:          <!-- AI Feedback Card -->
562:          <% if Current.user %>
563:          <% if @pss.first %>
564:          <div class="card">
565:            <div class="card-header blue">
566:              <div style="display: flex; align-items: center;">
567:                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
568:                  <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
569:                </svg>
570:                AI Feedback
571:              </div>
572:            </div>
573:            <div class="card-content">
574:              <p style="line-height: 1.6; color: #4b5563;" id="feedback">
575:                <%= @pss.first.ai_feedback%>
576:              </p>
577:            </div>
578:          </div>
579:          <% end %>
580:          <% else %>
581:          <div class="card">
582:            <div class="card-header blue">
583:              <div style="display: flex; align-items: center;">
584:                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
585:                  <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
586:                </svg>
587:                Login to access page!
588:              </div>
589:            </div>
590:            <div class="card-content">
591:              <p style="line-height: 1.6; color: #4b5563;">
592:                Login through your company/personal account to access the dashboard.
593:              </p>
594:            </div>
595:          </div>
596:          <% end %>
597:    
598:    
599:    
600:        </div>
601:      </div>
602:      
603:      <!-- New Prompt Modal -->
604:      <div id="new-prompt-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); z-index: 100; align-items: center; justify-content: center;">
605:        <div style="background-color: white; border-radius: 8px; padding: 24px; width: 90%; max-width: 500px; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);">
606:          <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 16px;">Create New Prompt</h3>
607:          <%# <form id="new-prompt-form">
608:            <div style="margin-bottom: 16px;">
609:              <label for="prompt-title" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt Title</label>
610:              <input type="text" id="prompt-title" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Enter a title for your prompt" />
611:            </div>
612:            <div style="margin-bottom: 16px;">
613:              <label for="prompt-text" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt</label>
614:              <textarea id="prompt-text" rows="5" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Write your prompt here..."></textarea>
615:            </div>
616:            <div style="display: flex; justify-content: flex-end; gap: 12px;">
617:              <button type="button" id="cancel-prompt" style="padding: 8px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
618:              <button type="submit" style="padding: 8px 16px; background-color: #7c3aed; color: white; border: none; border-radius: 6px; cursor: pointer;">Create</button>
619:            </div>
620:          </form> %>
621:          <%= form_with model: @ps, url: new_prompt_path, data: { turbo: false } do |form| %>
622:    <div class="mb-3">
623:        <%= form.label :uid %>
624:        <%= form.number_field :uid, class: "form-control", placeholder: "123" %>
625:    </div>
626:    <div class="mb-3">
627:        <%= form.label :system_prompt %>
628:        <%= form.text_field :system_prompt, class: "form-control" %>
629:    </div>
630:    <div class="mb-3">
631:      <button type="button" id="cancel-prompt" style="padding: 7px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
632:      <%= form.submit "Create form", class: "btn btn-primary" %>
633:    </div>
634:    <% end %>
635:        </div>
636:      </div>
637:    
638:      <script>
639:        // Sample prompt data
640:        const promptData = [
641:          <% if Current.user %>
642:          <% @pss.each do |prompt| %>
643:          {
644:            id: <%= @i %>,
645:            title: "<%= prompt.system_prompt %>",
646:            date: "<%= prompt.updated_at %>",
647:            content: "<%= prompt.system_prompt %>",
648:            likes: <%= prompt.like_count %>,
649:            dislikes: <%= prompt.dislike_count %>,
650:            feedback: "<%= prompt.ai_feedback %>"
651:          },
652:          <% @i = @i + 1%>
653:          <%end%>
654:    
655:          <% else %>
656:    
657:          <% end %>
658:        ];
659:        
660:        // Handle prompt item clicks
661:        document.querySelectorAll('.prompt-item').forEach(item => {
662:          item.addEventListener('click', () => {
663:            // Get prompt id
664:            const promptId = parseInt(item.getAttribute('data-id'));
665:            
666:            // Update selection visualization
667:            document.querySelectorAll('.prompt-item').forEach(el => {
668:              el.classList.remove('selected');
669:              el.querySelector('.prompt-title').style.color = '#374151';
670:            });
671:            
672:            item.classList.add('selected');
673:            item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
674:            
675:            // Update content based on selection
676:            const prompt = promptData.find(p => p.id === promptId);
677:            if (prompt) {
678:              document.getElementById('prompt-description').textContent = prompt.content;
679:              document.getElementById('likes').textContent = prompt.likes;
680:              document.getElementById('dislikes').textContent = prompt.dislikes;
681:              document.getElementById('feedback').textContent = prompt.feedback;
682:              let lip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
683:              let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
684:              document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
685:            }
686:          });
687:        });
688:        
689:        // Account dropdown functionality
690:        const userButton = document.getElementById('user-button');
691:        const userDropdown = document.getElementById('user-dropdown');
692:        
693:        userButton.addEventListener('click', (e) => {
694:          e.stopPropagation();
695:          userDropdown.style.display = userDropdown.style.display === 'block' ? 'none' : 'block';
696:        });
697:        
698:        // Close dropdown when clicking elsewhere
699:        document.addEventListener('click', () => {
700:          userDropdown.style.display = 'none';
701:        });
702:        
703:        // New prompt modal functionality
704:        const newPromptButton = document.getElementById('new-prompt-button');
705:        const newPromptModal = document.getElementById('new-prompt-modal');
706:        const cancelPromptButton = document.getElementById('cancel-prompt');
707:        const newPromptForm = document.getElementById('new-prompt-form');
708:        
709:        newPromptButton.addEventListener('click', () => {
710:          newPromptModal.style.display = 'flex';
711:        });
712:        
713:        cancelPromptButton.addEventListener('click', () => {
714:          newPromptModal.style.display = 'none';
715:          newPromptForm.reset();
716:        });
717:      
718:        
719:        // Prevent clicks inside the modal from closing it
720:        newPromptModal.querySelector('div').addEventListener('click', (e) => {
721:          e.stopPropagation();
722:        });
723:        
724:        // Close modal when clicking outside
725:        newPromptModal.addEventListener('click', () => {
726:          newPromptModal.style.display = 'none';
727:          newPromptForm.reset();
728:        });
729:    
730:        
731:        document.addEventListener('DOMContentLoaded', function() {
732:            let item = document.querySelector('.prompt-item');
733:            const promptId = 0;
734:            console.log(promptId);
735:            
736:            // Update selection visualization
737:            document.querySelectorAll('.prompt-item').forEach(el => {
738:              el.classList.remove('selected');
739:              el.querySelector('.prompt-title').style.color = '#374151';
740:            });
741:            
742:            item.classList.add('selected');
743:            item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
744:            
745:            // Update content based on selection
746:            const prompt = promptData.find(p => p.id === promptId);
747:            if (prompt) {
748:              document.getElementById('prompt-description').textContent = prompt.content;
749:              document.getElementById('likes').textContent = prompt.likes;
750:              document.getElementById('dislikes').textContent = prompt.dislikes;
751:              document.getElementById('feedback').textContent = prompt.feedback;
752:              let lip =377 * prompt.likes / (prompt.likes + prompt.dislikes);
753:              let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
754:              document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
755:            }
756:            console.log(promptId);
757:        });
758:    
759:      </script>
760:    </body>
761:    </html>
  
app/views/main/home.html.erb:321: syntax error, unexpected ')'
Started GET "/" for ::1 at 2025-03-23 01:41:07 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.9ms | Allocations: 2975)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | Allocations: 3068)
Completed 500 Internal Server Error in 113ms (ActiveRecord: 3.1ms | Allocations: 17505)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <head>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PromptFlow</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f5f5f5;
    }
    
    .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 20px;
      background-color: white;
      border-bottom: 1px solid #e1e1e1;
    }
    
    .sidebar {
      width: 280px;
      height: 100vh;
      background-color: white;
      border-right: 1px solid #e1e1e1;
      overflow-y: auto;
    }
    
    .search-bar {
      display: flex;
      align-items: center;
      background-color: #f5f5f5;
      border-radius: 6px;
      padding: 8px 12px;
      margin: 16px;
    }
    
    .search-bar input {
      border: none;
      background: none;
      outline: none;
      width: 100%;
      margin-left: 8px;
    }
    
    .dashboard-link {
      display: flex;
      align-items: center;
      padding: 10px 16px;
      margin: 0 12px;
      background-color: oklch(0.882 0.059 254.128);
      color: oklch(0.623 0.214 259.815);
      border-radius: 6px;
      text-decoration: none;
    }
    
    .dashboard-link svg {
      margin-right: 12px;
    }
    
    .category-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 16px;
      color: #6b7280;
      font-weight: 600;
      font-size: 0.8rem;
    }
    
    .history-header {
      display: flex;
      align-items: center;
      padding: 8px 16px;
      color: oklch(0.623 0.214 259.815);
      font-weight: 500;
    }
    
    .history-header svg {
      margin-right: 8px;
    }
    
    .prompt-item {
      padding: 12px 16px;
      cursor: pointer;
    }
    
    .prompt-item:hover {
      background-color: oklch(0.97 0.03 254.604);
      transition: 0.2s ease-in-out;
    }
    
    .prompt-item.selected {
      background-color: oklch(0.932 0.032 255.585);
    }
    
    .prompt-icon {
      margin-right: 12px;
      flex-shrink: 0;
    }
    
    .prompt-title {
      font-weight: 500;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      max-width: 180px;
    }
    
    .prompt-date {
      font-size: 0.75rem;
      color: #6b7280;
      margin-top: 4px;
    }
    
    .content-area {
      flex: 1;
      padding: 20px;
    }
    
    .card {
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      margin-bottom: 20px;
      overflow: hidden;
    }
    
    .card-header {
      padding: 12px 16px;
      font-weight: 600;
      color: white;
    }
    
    .card-header.dark {
      background-color: #1f2937;
    }
    
    .card-header.blue {
      background-color: oklch(0.623 0.214 259.815);
    }
    
    .card-content {
      padding: 16px;
    }
    
    .stats-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .stat-item {
      display: flex;
      align-items: center;
      margin-bottom: 16px;
    }
    
    .stat-icon {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 12px;
    }
    
    .stat-icon.purple {
      background-color: #f3e8ff;
    }

    .thumbs-up {
      filter: brightness(100%);
      cursor: pointer;
      transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
    }

    .thumbs-up:hover {
      filter: brightness(200%);
      transform: scale(1.2);
    }
    
    .stat-icon.red {
      background-color: #fee2e2;
    }

    .thumbs-down:hover {
      filter: brightness(100%);
      cursor: pointer;
      transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
    }

    .thumbs-down:hover {
      filter: brightness(200%);
      transform: scale(1.2);
    }
    
    .stat-label {
      font-size: 0.8rem;
      color: #6b7280;
    }

    .chart {
        transform: scale(1);
        transition: transform 0.3s ease-in-out;
    }

    .chart:hover {
        transform: scale(1.2);
    }
    
    .stat-value {
      font-size: 1.5rem;
      font-weight: 700;
    }
    
    .dropdown {
      position: relative;
      border-radius: 2rem;
      transition: 0.2s ease-in-out;
    }
    
    .dropdown-menu {
      display: none;
      position: absolute;
      right: 0;
      top: 40px;
      background-color: white;
      border-radius: 6px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      min-width: 200px;
      z-index: 10;
    }
    
    .dropdown-header {
      padding: 12px 16px;
      font-weight: 600;
      border-bottom: 1px solid #f1f1f1;
    }
    
    .dropdown-item {
      padding: 12px 16px;
      display: block;
      color: #333;
      text-decoration: none;
      border-bottom: 1px solid #f1f1f1;
    }
    
    .dropdown-item:last-child {
      border-bottom: none;
    }
    
    .dropdown-item:hover {
      background-color: #f9fafb;
    }
    
    .dropdown-item.danger {
      color: #ef4444;
    }
    
    .flex {
      display: flex;
    }
    
    .flex-col {
      flex-direction: column;
    }
    
    .items-center {
      align-items: center;
    }
    
    .hidden {
      display: none;
    }
  </style>
</head>
<body>
    <% if @ps.errors.any? %>
    <div class="alert alert-danger">
        <% @ps.errors.full_messages.each do |messages| %>
        <div><%= messages %></div>
        <% end %>
    </div>
<% end %>
  <!-- Header -->
  <header class="header">
    <h1><i class="fa-solid fa-worm fa-flip-horizontal"></i>PromptFlow</h1>
    
    <div class="flex items-center">
      <!-- Notifications -->
      <button style="margin-right: 16px; background: none; border: none; cursor: pointer;">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
          <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
        </svg>
      </button>
      
      <!-- Settings -->
      <button id="settings-button" style="margin-right: 16px; background: none; border: none; cursor: pointer;">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="3"></circle>
          <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
        </svg>
      </button>
      
      <!-- User Profile -->
      
      <% if Current.user %>
      <div class="dropdown">
        <button id="user-button" style="display: flex; align-items: center; background: none; border: none; cursor: pointer;">
          <div style="width: 32px; height: 32px; border-radius: 50%; background-color: #7c3aed; color: white; display: flex; align-items: center; justify-content: center; margin-right: 8px;">
            <span>DD</span>
          </div>
          <span style="font-weight: 500; margin-right: 4px;"><%= Current.user.%></span>
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="6 9 12 15 18 9"></polyline>
          </svg>
        </button>
        <div id="user-dropdown" class="dropdown-menu">
          <div class="dropdown-header">My Account</div>
          <a href="#" class="dropdown-item">Profile</a>
          <a href="#" class="dropdown-item">Settings</a>
          <a href="#" class="dropdown-item">Billing</a>
          <%= button_to "Log out", sign_out_path, method: :delete, class: "dropdown-item danger", turbo: false %>
        </div>
      </div>
      <% else %>
      <%= link_to "Log in", sign_in_path, method: :get, class: "dropdown-item danger", turbo: false %>
      <% end %>
    </div>
  </header>
  
  <div class="flex">
    <!-- Sidebar -->
    <div class="sidebar">
      <!-- Search Bar -->
      <div class="search-bar">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="11" cy="11" r="8"></circle>
          <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
        <input type="text" placeholder="Search prompts..." />
      </div>
      
      <!-- Dashboard -->
      <a href="/get" class="dashboard-link">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
          <polyline points="9 22 9 12 15 12 15 22"></polyline>
        </svg>
        <span style="color: oklch(0.623 0.214 259.815)">Dashboard</span>
      </a>
      
      <!-- Prompt History -->
      <div style="margin-top: 20px;">
        <div class="category-header">
          <span>PROMPTS</span>
          <button id="new-prompt-button" style="background: none; border: none; color: #3b82f6; cursor: pointer;">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="12" y1="5" x2="12" y2="19"></line>
              <line x1="5" y1="12" x2="19" y2="12"></line>
            </svg>
          </button>
        </div>
        
        <!-- Prompt History Section -->
        <div>
          <div class="history-header">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="oklch(0.623 0.214 259.815)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"></path>
            </svg>
            <span>Prompt History</span>
          </div>
          
          <!-- History Items -->
          <% if Current.user %>
            <div>
            <% @pss.each do |prompt| %>
              <!-- Item 1 (selected) -->
              <div class="prompt-item" data-id="<%= @i2 %>">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title" style="color: oklch(0.623 0.214 259.815);"><%= prompt.system_prompt %></div>
                    <div class="prompt-date"><%= prompt.updated_at %></div>
                  </div>
                </div>
              </div>
              <%# 
              <!-- Item 2 -->
              <div class="prompt-item" data-id="1">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Design a logo for a tech startup</div>
                    <div class="prompt-date">2023-06-14</div>
                  </div>
                </div>
              </div>
              
              <!-- Item 3 -->
              <div class="prompt-item" data-id="2">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Write a product description for a new gadget</div>
                    <div class="prompt-date">2023-06-13</div>
                  </div>
                </div>
              </div>
              
              <!-- Item 4 -->
              <div class="prompt-item" data-id="3">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Generate ideas for a marketing campaign</div>
                    <div class="prompt-date">2023-06-12</div>
                  </div>
                </div>
              </div>
              
              <!-- Item 5 -->
              <div class="prompt-item" data-id="4">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Create a social media content calendar</div>
                    <div class="prompt-date">2023-06-11</div>
                  </div>
                </div>
              </div> %>


            <% @i2 = @i2 + 1%>
            <% end %>
            </div>
          <% else %>

          <% end %>

        </div>
      </div>
    </div>
    
    <!-- Main Content Area -->
    <div class="content-area">
      <!-- System Prompt Card -->
      <% if Current.user %>
        <% if @pss.first %>
          <div class="card">
            <div class="card-header dark">System Prompt</div>
            <div class="card-content">
              <p id="prompt-description" style="line-height: 1.6; color: #4b5563;">
                <%= @pss.first.system_prompt%>
              </p>
            </div>
          </div>
        <% else %>
          <div class="card">
          <div class="card-header blue">
            <div style="display: flex; align-items: center;">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
              </svg>
              No prompts created!
            </div>
          </div>
          <div class="card-content">
            <p style="line-height: 1.6; color: #4b5563;">
              Create a prompt and begin optimizing!
            </p>
          </div>
        </div>
        <%end%>
      <% else %>
      <% end %>
      
      <!-- Statistics Card -->
      <% if Current.user %>
      <% if @pss.first %>
      <div class="card">
        <div class="card-header blue">
          <div style="display: flex; align-items: center;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
              <circle cx="12" cy="12" r="10"></circle>
              <line x1="12" y1="16" x2="12" y2="12"></line>
              <line x1="12" y1="8" x2="12.01" y2="8"></line>
            </svg>
            Statistics
          </div>
        </div>
        <div class="card-content">
          <div class="stats-container">
            <div>
              <!-- Likes -->
              <div class="stat-item">
                <div class="stat-icon purple">
                  <svg class="thumbs-up" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#7c3aed" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>
                  </svg>
                </div>
                <div>
                  <div class="stat-label">Likes</div>
                  <div class="stat-value" id="likes"><%= @pss.first.like_count%></div>
                </div>
              </div>
              
              <!-- Dislikes -->
              <div class="stat-item">
                <div class="stat-icon red">
                  <svg class="thumbs-down" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#ef4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path>
                  </svg>
                </div>
                <div>
                  <div class="stat-label">Dislikes</div>
                  <div class="stat-value" id="dislikes"><%= @pss.first.dislike_count%></div>
                </div>
              </div>
            </div>
            
            <!-- Donut Chart -->
            <div>
              <svg class="chart" width="150" height="150" viewBox="0 0 150 150">
                <circle cx="75" cy="75" r="60" fill="transparent" stroke="#FF0000" stroke-width="20"></circle>
                <circle id="likeCircle" cx="75" cy="75" r="60" fill="transparent" stroke="#008000" stroke-width="20" stroke-dasharray="<%= 377 * (@pss.first.like_count / (@pss.first.like_count + @pss.first.dislike_count)) %> <%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count)) %>" stroke-dashoffset="0"></circle>

                <circle cx="75" cy="75" r="40" fill="white"></circle>
              </svg>
            </div>
          </div>
        </div>
      </div>
      <% end %>
      <% else %>
      <% end %>
      
      <!-- AI Feedback Card -->
      <% if Current.user %>
      <% if @pss.first %>
      <div class="card">
        <div class="card-header blue">
          <div style="display: flex; align-items: center;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
              <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
            </svg>
            AI Feedback
          </div>
        </div>
        <div class="card-content">
          <p style="line-height: 1.6; color: #4b5563;" id="feedback">
            <%= @pss.first.ai_feedback%>
          </p>
        </div>
      </div>
      <% end %>
      <% else %>
      <div class="card">
        <div class="card-header blue">
          <div style="display: flex; align-items: center;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
              <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
            </svg>
            Login to access page!
          </div>
        </div>
        <div class="card-content">
          <p style="line-height: 1.6; color: #4b5563;">
            Login through your company/personal account to access the dashboard.
          </p>
        </div>
      </div>
      <% end %>



    </div>
  </div>
  
  <!-- New Prompt Modal -->
  <div id="new-prompt-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); z-index: 100; align-items: center; justify-content: center;">
    <div style="background-color: white; border-radius: 8px; padding: 24px; width: 90%; max-width: 500px; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);">
      <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 16px;">Create New Prompt</h3>
      <%# <form id="new-prompt-form">
        <div style="margin-bottom: 16px;">
          <label for="prompt-title" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt Title</label>
          <input type="text" id="prompt-title" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Enter a title for your prompt" />
        </div>
        <div style="margin-bottom: 16px;">
          <label for="prompt-text" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt</label>
          <textarea id="prompt-text" rows="5" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Write your prompt here..."></textarea>
        </div>
        <div style="display: flex; justify-content: flex-end; gap: 12px;">
          <button type="button" id="cancel-prompt" style="padding: 8px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
          <button type="submit" style="padding: 8px 16px; background-color: #7c3aed; color: white; border: none; border-radius: 6px; cursor: pointer;">Create</button>
        </div>
      </form> %>
      <%= form_with model: @ps, url: new_prompt_path, data: { turbo: false } do |form| %>
<div class="mb-3">
    <%= form.label :uid %>
    <%= form.number_field :uid, class: "form-control", placeholder: "123" %>
</div>
<div class="mb-3">
    <%= form.label :system_prompt %>
    <%= form.text_field :system_prompt, class: "form-control" %>
</div>
<div class="mb-3">
  <button type="button" id="cancel-prompt" style="padding: 7px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
  <%= form.submit "Create form", class: "btn btn-primary" %>
</div>
<% end %>
    </div>
  </div>

  <script>
    // Sample prompt data
    const promptData = [
      <% if Current.user %>
      <% @pss.each do |prompt| %>
      {
        id: <%= @i %>,
        title: "<%= prompt.system_prompt %>",
        date: "<%= prompt.updated_at %>",
        content: "<%= prompt.system_prompt %>",
        likes: <%= prompt.like_count %>,
        dislikes: <%= prompt.dislike_count %>,
        feedback: "<%= prompt.ai_feedback %>"
      },
      <% @i = @i + 1%>
      <%end%>

      <% else %>

      <% end %>
    ];
    
    // Handle prompt item clicks
    document.querySelectorAll('.prompt-item').forEach(item => {
      item.addEventListener('click', () => {
        // Get prompt id
        const promptId = parseInt(item.getAttribute('data-id'));
        
        // Update selection visualization
        document.querySelectorAll('.prompt-item').forEach(el => {
          el.classList.remove('selected');
          el.querySelector('.prompt-title').style.color = '#374151';
        });
        
        item.classList.add('selected');
        item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
        
        // Update content based on selection
        const prompt = promptData.find(p => p.id === promptId);
        if (prompt) {
          document.getElementById('prompt-description').textContent = prompt.content;
          document.getElementById('likes').textContent = prompt.likes;
          document.getElementById('dislikes').textContent = prompt.dislikes;
          document.getElementById('feedback').textContent = prompt.feedback;
          let lip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
          let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
          document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
        }
      });
    });
    
    // Account dropdown functionality
    const userButton = document.getElementById('user-button');
    const userDropdown = document.getElementById('user-dropdown');
    
    userButton.addEventListener('click', (e) => {
      e.stopPropagation();
      userDropdown.style.display = userDropdown.style.display === 'block' ? 'none' : 'block';
    });
    
    // Close dropdown when clicking elsewhere
    document.addEventListener('click', () => {
      userDropdown.style.display = 'none';
    });
    
    // New prompt modal functionality
    const newPromptButton = document.getElementById('new-prompt-button');
    const newPromptModal = document.getElementById('new-prompt-modal');
    const cancelPromptButton = document.getElementById('cancel-prompt');
    const newPromptForm = document.getElementById('new-prompt-form');
    
    newPromptButton.addEventListener('click', () => {
      newPromptModal.style.display = 'flex';
    });
    
    cancelPromptButton.addEventListener('click', () => {
      newPromptModal.style.display = 'none';
      newPromptForm.reset();
    });
  
    
    // Prevent clicks inside the modal from closing it
    newPromptModal.querySelector('div').addEventListener('click', (e) => {
      e.stopPropagation();
    });
    
    // Close modal when clicking outside
    newPromptModal.addEventListener('click', () => {
      newPromptModal.style.display = 'none';
      newPromptForm.reset();
    });

    
    document.addEventListener('DOMContentLoaded', function() {
        let item = document.querySelector('.prompt-item');
        const promptId = 0;
        console.log(promptId);
        
        // Update selection visualization
        document.querySelectorAll('.prompt-item').forEach(el => {
          el.classList.remove('selected');
          el.querySelector('.prompt-title').style.color = '#374151';
        });
        
        item.classList.add('selected');
        item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
        
        // Update content based on selection
        const prompt = promptData.find(p => p.id === promptId);
        if (prompt) {
          document.getElementById('prompt-description').textContent = prompt.content;
          document.getElementById('likes').textContent = prompt.likes;
          document.getElementById('dislikes').textContent = prompt.dislikes;
          document.getElementById('feedback').textContent = prompt.feedback;
          let lip =377 * prompt.likes / (prompt.likes + prompt.dislikes);
          let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
          document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
        }
        console.log(promptId);
    });

  </script>
):
1:    <head>
2:    
3:      <meta charset="UTF-8" />
4:      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
5:      <title>PromptFlow</title>
6:      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
7:      <style>
8:        body {
9:          font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
10:          margin: 0;
11:          padding: 0;
12:          background-color: #f5f5f5;
13:        }
14:        
15:        .header {
16:          display: flex;
17:          align-items: center;
18:          justify-content: space-between;
19:          padding: 10px 20px;
20:          background-color: white;
21:          border-bottom: 1px solid #e1e1e1;
22:        }
23:        
24:        .sidebar {
25:          width: 280px;
26:          height: 100vh;
27:          background-color: white;
28:          border-right: 1px solid #e1e1e1;
29:          overflow-y: auto;
30:        }
31:        
32:        .search-bar {
33:          display: flex;
34:          align-items: center;
35:          background-color: #f5f5f5;
36:          border-radius: 6px;
37:          padding: 8px 12px;
38:          margin: 16px;
39:        }
40:        
41:        .search-bar input {
42:          border: none;
43:          background: none;
44:          outline: none;
45:          width: 100%;
46:          margin-left: 8px;
47:        }
48:        
49:        .dashboard-link {
50:          display: flex;
51:          align-items: center;
52:          padding: 10px 16px;
53:          margin: 0 12px;
54:          background-color: oklch(0.882 0.059 254.128);
55:          color: oklch(0.623 0.214 259.815);
56:          border-radius: 6px;
57:          text-decoration: none;
58:        }
59:        
60:        .dashboard-link svg {
61:          margin-right: 12px;
62:        }
63:        
64:        .category-header {
65:          display: flex;
66:          justify-content: space-between;
67:          align-items: center;
68:          padding: 16px;
69:          color: #6b7280;
70:          font-weight: 600;
71:          font-size: 0.8rem;
72:        }
73:        
74:        .history-header {
75:          display: flex;
76:          align-items: center;
77:          padding: 8px 16px;
78:          color: oklch(0.623 0.214 259.815);
79:          font-weight: 500;
80:        }
81:        
82:        .history-header svg {
83:          margin-right: 8px;
84:        }
85:        
86:        .prompt-item {
87:          padding: 12px 16px;
88:          cursor: pointer;
89:        }
90:        
91:        .prompt-item:hover {
92:          background-color: oklch(0.97 0.03 254.604);
93:          transition: 0.2s ease-in-out;
94:        }
95:        
96:        .prompt-item.selected {
97:          background-color: oklch(0.932 0.032 255.585);
98:        }
99:        
100:        .prompt-icon {
101:          margin-right: 12px;
102:          flex-shrink: 0;
103:        }
104:        
105:        .prompt-title {
106:          font-weight: 500;
107:          white-space: nowrap;
108:          overflow: hidden;
109:          text-overflow: ellipsis;
110:          max-width: 180px;
111:        }
112:        
113:        .prompt-date {
114:          font-size: 0.75rem;
115:          color: #6b7280;
116:          margin-top: 4px;
117:        }
118:        
119:        .content-area {
120:          flex: 1;
121:          padding: 20px;
122:        }
123:        
124:        .card {
125:          background-color: white;
126:          border-radius: 8px;
127:          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
128:          margin-bottom: 20px;
129:          overflow: hidden;
130:        }
131:        
132:        .card-header {
133:          padding: 12px 16px;
134:          font-weight: 600;
135:          color: white;
136:        }
137:        
138:        .card-header.dark {
139:          background-color: #1f2937;
140:        }
141:        
142:        .card-header.blue {
143:          background-color: oklch(0.623 0.214 259.815);
144:        }
145:        
146:        .card-content {
147:          padding: 16px;
148:        }
149:        
150:        .stats-container {
151:          display: flex;
152:          justify-content: space-between;
153:          align-items: center;
154:        }
155:        
156:        .stat-item {
157:          display: flex;
158:          align-items: center;
159:          margin-bottom: 16px;
160:        }
161:        
162:        .stat-icon {
163:          width: 40px;
164:          height: 40px;
165:          border-radius: 50%;
166:          display: flex;
167:          align-items: center;
168:          justify-content: center;
169:          margin-right: 12px;
170:        }
171:        
172:        .stat-icon.purple {
173:          background-color: #f3e8ff;
174:        }
175:    
176:        .thumbs-up {
177:          filter: brightness(100%);
178:          cursor: pointer;
179:          transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
180:        }
181:    
182:        .thumbs-up:hover {
183:          filter: brightness(200%);
184:          transform: scale(1.2);
185:        }
186:        
187:        .stat-icon.red {
188:          background-color: #fee2e2;
189:        }
190:    
191:        .thumbs-down:hover {
192:          filter: brightness(100%);
193:          cursor: pointer;
194:          transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
195:        }
196:    
197:        .thumbs-down:hover {
198:          filter: brightness(200%);
199:          transform: scale(1.2);
200:        }
201:        
202:        .stat-label {
203:          font-size: 0.8rem;
204:          color: #6b7280;
205:        }
206:    
207:        .chart {
208:            transform: scale(1);
209:            transition: transform 0.3s ease-in-out;
210:        }
211:    
212:        .chart:hover {
213:            transform: scale(1.2);
214:        }
215:        
216:        .stat-value {
217:          font-size: 1.5rem;
218:          font-weight: 700;
219:        }
220:        
221:        .dropdown {
222:          position: relative;
223:          border-radius: 2rem;
224:          transition: 0.2s ease-in-out;
225:        }
226:        
227:        .dropdown-menu {
228:          display: none;
229:          position: absolute;
230:          right: 0;
231:          top: 40px;
232:          background-color: white;
233:          border-radius: 6px;
234:          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
235:          min-width: 200px;
236:          z-index: 10;
237:        }
238:        
239:        .dropdown-header {
240:          padding: 12px 16px;
241:          font-weight: 600;
242:          border-bottom: 1px solid #f1f1f1;
243:        }
244:        
245:        .dropdown-item {
246:          padding: 12px 16px;
247:          display: block;
248:          color: #333;
249:          text-decoration: none;
250:          border-bottom: 1px solid #f1f1f1;
251:        }
252:        
253:        .dropdown-item:last-child {
254:          border-bottom: none;
255:        }
256:        
257:        .dropdown-item:hover {
258:          background-color: #f9fafb;
259:        }
260:        
261:        .dropdown-item.danger {
262:          color: #ef4444;
263:        }
264:        
265:        .flex {
266:          display: flex;
267:        }
268:        
269:        .flex-col {
270:          flex-direction: column;
271:        }
272:        
273:        .items-center {
274:          align-items: center;
275:        }
276:        
277:        .hidden {
278:          display: none;
279:        }
280:      </style>
281:    </head>
282:    <body>
283:        <% if @ps.errors.any? %>
284:        <div class="alert alert-danger">
285:            <% @ps.errors.full_messages.each do |messages| %>
286:            <div><%= messages %></div>
287:            <% end %>
288:        </div>
289:    <% end %>
290:      <!-- Header -->
291:      <header class="header">
292:        <h1><i class="fa-solid fa-worm fa-flip-horizontal"></i>PromptFlow</h1>
293:        
294:        <div class="flex items-center">
295:          <!-- Notifications -->
296:          <button style="margin-right: 16px; background: none; border: none; cursor: pointer;">
297:            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
298:              <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
299:              <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
300:            </svg>
301:          </button>
302:          
303:          <!-- Settings -->
304:          <button id="settings-button" style="margin-right: 16px; background: none; border: none; cursor: pointer;">
305:            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
306:              <circle cx="12" cy="12" r="3"></circle>
307:              <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
308:            </svg>
309:          </button>
310:          
311:          <!-- User Profile -->
312:          
313:          <% if Current.user %>
314:          <div class="dropdown">
315:            <button id="user-button" style="display: flex; align-items: center; background: none; border: none; cursor: pointer;">
316:              <div style="width: 32px; height: 32px; border-radius: 50%; background-color: #7c3aed; color: white; display: flex; align-items: center; justify-content: center; margin-right: 8px;">
317:                <span>DD</span>
318:              </div>
319:              <span style="font-weight: 500; margin-right: 4px;"><%= Current.user.%></span>
320:              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
321:                <polyline points="6 9 12 15 18 9"></polyline>
322:              </svg>
323:            </button>
324:            <div id="user-dropdown" class="dropdown-menu">
325:              <div class="dropdown-header">My Account</div>
326:              <a href="#" class="dropdown-item">Profile</a>
327:              <a href="#" class="dropdown-item">Settings</a>
328:              <a href="#" class="dropdown-item">Billing</a>
329:              <%= button_to "Log out", sign_out_path, method: :delete, class: "dropdown-item danger", turbo: false %>
330:            </div>
331:          </div>
332:          <% else %>
333:          <%= link_to "Log in", sign_in_path, method: :get, class: "dropdown-item danger", turbo: false %>
334:          <% end %>
335:        </div>
336:      </header>
337:      
338:      <div class="flex">
339:        <!-- Sidebar -->
340:        <div class="sidebar">
341:          <!-- Search Bar -->
342:          <div class="search-bar">
343:            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
344:              <circle cx="11" cy="11" r="8"></circle>
345:              <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
346:            </svg>
347:            <input type="text" placeholder="Search prompts..." />
348:          </div>
349:          
350:          <!-- Dashboard -->
351:          <a href="/get" class="dashboard-link">
352:            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
353:              <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
354:              <polyline points="9 22 9 12 15 12 15 22"></polyline>
355:            </svg>
356:            <span style="color: oklch(0.623 0.214 259.815)">Dashboard</span>
357:          </a>
358:          
359:          <!-- Prompt History -->
360:          <div style="margin-top: 20px;">
361:            <div class="category-header">
362:              <span>PROMPTS</span>
363:              <button id="new-prompt-button" style="background: none; border: none; color: #3b82f6; cursor: pointer;">
364:                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
365:                  <line x1="12" y1="5" x2="12" y2="19"></line>
366:                  <line x1="5" y1="12" x2="19" y2="12"></line>
367:                </svg>
368:              </button>
369:            </div>
370:            
371:            <!-- Prompt History Section -->
372:            <div>
373:              <div class="history-header">
374:                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="oklch(0.623 0.214 259.815)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
375:                  <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"></path>
376:                </svg>
377:                <span>Prompt History</span>
378:              </div>
379:              
380:              <!-- History Items -->
381:              <% if Current.user %>
382:                <div>
383:                <% @pss.each do |prompt| %>
384:                  <!-- Item 1 (selected) -->
385:                  <div class="prompt-item" data-id="<%= @i2 %>">
386:                    <div class="flex" style="align-items: flex-start;">
387:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
388:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
389:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
390:                      </svg>
391:                      <div>
392:                        <div class="prompt-title" style="color: oklch(0.623 0.214 259.815);"><%= prompt.system_prompt %></div>
393:                        <div class="prompt-date"><%= prompt.updated_at %></div>
394:                      </div>
395:                    </div>
396:                  </div>
397:                  <%# 
398:                  <!-- Item 2 -->
399:                  <div class="prompt-item" data-id="1">
400:                    <div class="flex" style="align-items: flex-start;">
401:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
402:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
403:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
404:                      </svg>
405:                      <div>
406:                        <div class="prompt-title">Design a logo for a tech startup</div>
407:                        <div class="prompt-date">2023-06-14</div>
408:                      </div>
409:                    </div>
410:                  </div>
411:                  
412:                  <!-- Item 3 -->
413:                  <div class="prompt-item" data-id="2">
414:                    <div class="flex" style="align-items: flex-start;">
415:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
416:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
417:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
418:                      </svg>
419:                      <div>
420:                        <div class="prompt-title">Write a product description for a new gadget</div>
421:                        <div class="prompt-date">2023-06-13</div>
422:                      </div>
423:                    </div>
424:                  </div>
425:                  
426:                  <!-- Item 4 -->
427:                  <div class="prompt-item" data-id="3">
428:                    <div class="flex" style="align-items: flex-start;">
429:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
430:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
431:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
432:                      </svg>
433:                      <div>
434:                        <div class="prompt-title">Generate ideas for a marketing campaign</div>
435:                        <div class="prompt-date">2023-06-12</div>
436:                      </div>
437:                    </div>
438:                  </div>
439:                  
440:                  <!-- Item 5 -->
441:                  <div class="prompt-item" data-id="4">
442:                    <div class="flex" style="align-items: flex-start;">
443:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
444:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
445:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
446:                      </svg>
447:                      <div>
448:                        <div class="prompt-title">Create a social media content calendar</div>
449:                        <div class="prompt-date">2023-06-11</div>
450:                      </div>
451:                    </div>
452:                  </div> %>
453:    
454:    
455:                <% @i2 = @i2 + 1%>
456:                <% end %>
457:                </div>
458:              <% else %>
459:    
460:              <% end %>
461:    
462:            </div>
463:          </div>
464:        </div>
465:        
466:        <!-- Main Content Area -->
467:        <div class="content-area">
468:          <!-- System Prompt Card -->
469:          <% if Current.user %>
470:            <% if @pss.first %>
471:              <div class="card">
472:                <div class="card-header dark">System Prompt</div>
473:                <div class="card-content">
474:                  <p id="prompt-description" style="line-height: 1.6; color: #4b5563;">
475:                    <%= @pss.first.system_prompt%>
476:                  </p>
477:                </div>
478:              </div>
479:            <% else %>
480:              <div class="card">
481:              <div class="card-header blue">
482:                <div style="display: flex; align-items: center;">
483:                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
484:                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
485:                  </svg>
486:                  No prompts created!
487:                </div>
488:              </div>
489:              <div class="card-content">
490:                <p style="line-height: 1.6; color: #4b5563;">
491:                  Create a prompt and begin optimizing!
492:                </p>
493:              </div>
494:            </div>
495:            <%end%>
496:          <% else %>
497:          <% end %>
498:          
499:          <!-- Statistics Card -->
500:          <% if Current.user %>
501:          <% if @pss.first %>
502:          <div class="card">
503:            <div class="card-header blue">
504:              <div style="display: flex; align-items: center;">
505:                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
506:                  <circle cx="12" cy="12" r="10"></circle>
507:                  <line x1="12" y1="16" x2="12" y2="12"></line>
508:                  <line x1="12" y1="8" x2="12.01" y2="8"></line>
509:                </svg>
510:                Statistics
511:              </div>
512:            </div>
513:            <div class="card-content">
514:              <div class="stats-container">
515:                <div>
516:                  <!-- Likes -->
517:                  <div class="stat-item">
518:                    <div class="stat-icon purple">
519:                      <svg class="thumbs-up" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#7c3aed" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
520:                        <path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>
521:                      </svg>
522:                    </div>
523:                    <div>
524:                      <div class="stat-label">Likes</div>
525:                      <div class="stat-value" id="likes"><%= @pss.first.like_count%></div>
526:                    </div>
527:                  </div>
528:                  
529:                  <!-- Dislikes -->
530:                  <div class="stat-item">
531:                    <div class="stat-icon red">
532:                      <svg class="thumbs-down" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#ef4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
533:                        <path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path>
534:                      </svg>
535:                    </div>
536:                    <div>
537:                      <div class="stat-label">Dislikes</div>
538:                      <div class="stat-value" id="dislikes"><%= @pss.first.dislike_count%></div>
539:                    </div>
540:                  </div>
541:                </div>
542:                
543:                <!-- Donut Chart -->
544:                <div>
545:                  <svg class="chart" width="150" height="150" viewBox="0 0 150 150">
546:                    <circle cx="75" cy="75" r="60" fill="transparent" stroke="#FF0000" stroke-width="20"></circle>
547:                    <circle id="likeCircle" cx="75" cy="75" r="60" fill="transparent" stroke="#008000" stroke-width="20" stroke-dasharray="<%= 377 * (@pss.first.like_count / (@pss.first.like_count + @pss.first.dislike_count)) %> <%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count)) %>" stroke-dashoffset="0"></circle>
548:    
549:                    <circle cx="75" cy="75" r="40" fill="white"></circle>
550:                  </svg>
551:                </div>
552:              </div>
553:            </div>
554:          </div>
555:          <% end %>
556:          <% else %>
557:          <% end %>
558:          
559:          <!-- AI Feedback Card -->
560:          <% if Current.user %>
561:          <% if @pss.first %>
562:          <div class="card">
563:            <div class="card-header blue">
564:              <div style="display: flex; align-items: center;">
565:                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
566:                  <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
567:                </svg>
568:                AI Feedback
569:              </div>
570:            </div>
571:            <div class="card-content">
572:              <p style="line-height: 1.6; color: #4b5563;" id="feedback">
573:                <%= @pss.first.ai_feedback%>
574:              </p>
575:            </div>
576:          </div>
577:          <% end %>
578:          <% else %>
579:          <div class="card">
580:            <div class="card-header blue">
581:              <div style="display: flex; align-items: center;">
582:                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
583:                  <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
584:                </svg>
585:                Login to access page!
586:              </div>
587:            </div>
588:            <div class="card-content">
589:              <p style="line-height: 1.6; color: #4b5563;">
590:                Login through your company/personal account to access the dashboard.
591:              </p>
592:            </div>
593:          </div>
594:          <% end %>
595:    
596:    
597:    
598:        </div>
599:      </div>
600:      
601:      <!-- New Prompt Modal -->
602:      <div id="new-prompt-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); z-index: 100; align-items: center; justify-content: center;">
603:        <div style="background-color: white; border-radius: 8px; padding: 24px; width: 90%; max-width: 500px; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);">
604:          <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 16px;">Create New Prompt</h3>
605:          <%# <form id="new-prompt-form">
606:            <div style="margin-bottom: 16px;">
607:              <label for="prompt-title" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt Title</label>
608:              <input type="text" id="prompt-title" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Enter a title for your prompt" />
609:            </div>
610:            <div style="margin-bottom: 16px;">
611:              <label for="prompt-text" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt</label>
612:              <textarea id="prompt-text" rows="5" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Write your prompt here..."></textarea>
613:            </div>
614:            <div style="display: flex; justify-content: flex-end; gap: 12px;">
615:              <button type="button" id="cancel-prompt" style="padding: 8px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
616:              <button type="submit" style="padding: 8px 16px; background-color: #7c3aed; color: white; border: none; border-radius: 6px; cursor: pointer;">Create</button>
617:            </div>
618:          </form> %>
619:          <%= form_with model: @ps, url: new_prompt_path, data: { turbo: false } do |form| %>
620:    <div class="mb-3">
621:        <%= form.label :uid %>
622:        <%= form.number_field :uid, class: "form-control", placeholder: "123" %>
623:    </div>
624:    <div class="mb-3">
625:        <%= form.label :system_prompt %>
626:        <%= form.text_field :system_prompt, class: "form-control" %>
627:    </div>
628:    <div class="mb-3">
629:      <button type="button" id="cancel-prompt" style="padding: 7px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
630:      <%= form.submit "Create form", class: "btn btn-primary" %>
631:    </div>
632:    <% end %>
633:        </div>
634:      </div>
635:    
636:      <script>
637:        // Sample prompt data
638:        const promptData = [
639:          <% if Current.user %>
640:          <% @pss.each do |prompt| %>
641:          {
642:            id: <%= @i %>,
643:            title: "<%= prompt.system_prompt %>",
644:            date: "<%= prompt.updated_at %>",
645:            content: "<%= prompt.system_prompt %>",
646:            likes: <%= prompt.like_count %>,
647:            dislikes: <%= prompt.dislike_count %>,
648:            feedback: "<%= prompt.ai_feedback %>"
649:          },
650:          <% @i = @i + 1%>
651:          <%end%>
652:    
653:          <% else %>
654:    
655:          <% end %>
656:        ];
657:        
658:        // Handle prompt item clicks
659:        document.querySelectorAll('.prompt-item').forEach(item => {
660:          item.addEventListener('click', () => {
661:            // Get prompt id
662:            const promptId = parseInt(item.getAttribute('data-id'));
663:            
664:            // Update selection visualization
665:            document.querySelectorAll('.prompt-item').forEach(el => {
666:              el.classList.remove('selected');
667:              el.querySelector('.prompt-title').style.color = '#374151';
668:            });
669:            
670:            item.classList.add('selected');
671:            item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
672:            
673:            // Update content based on selection
674:            const prompt = promptData.find(p => p.id === promptId);
675:            if (prompt) {
676:              document.getElementById('prompt-description').textContent = prompt.content;
677:              document.getElementById('likes').textContent = prompt.likes;
678:              document.getElementById('dislikes').textContent = prompt.dislikes;
679:              document.getElementById('feedback').textContent = prompt.feedback;
680:              let lip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
681:              let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
682:              document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
683:            }
684:          });
685:        });
686:        
687:        // Account dropdown functionality
688:        const userButton = document.getElementById('user-button');
689:        const userDropdown = document.getElementById('user-dropdown');
690:        
691:        userButton.addEventListener('click', (e) => {
692:          e.stopPropagation();
693:          userDropdown.style.display = userDropdown.style.display === 'block' ? 'none' : 'block';
694:        });
695:        
696:        // Close dropdown when clicking elsewhere
697:        document.addEventListener('click', () => {
698:          userDropdown.style.display = 'none';
699:        });
700:        
701:        // New prompt modal functionality
702:        const newPromptButton = document.getElementById('new-prompt-button');
703:        const newPromptModal = document.getElementById('new-prompt-modal');
704:        const cancelPromptButton = document.getElementById('cancel-prompt');
705:        const newPromptForm = document.getElementById('new-prompt-form');
706:        
707:        newPromptButton.addEventListener('click', () => {
708:          newPromptModal.style.display = 'flex';
709:        });
710:        
711:        cancelPromptButton.addEventListener('click', () => {
712:          newPromptModal.style.display = 'none';
713:          newPromptForm.reset();
714:        });
715:      
716:        
717:        // Prevent clicks inside the modal from closing it
718:        newPromptModal.querySelector('div').addEventListener('click', (e) => {
719:          e.stopPropagation();
720:        });
721:        
722:        // Close modal when clicking outside
723:        newPromptModal.addEventListener('click', () => {
724:          newPromptModal.style.display = 'none';
725:          newPromptForm.reset();
726:        });
727:    
728:        
729:        document.addEventListener('DOMContentLoaded', function() {
730:            let item = document.querySelector('.prompt-item');
731:            const promptId = 0;
732:            console.log(promptId);
733:            
734:            // Update selection visualization
735:            document.querySelectorAll('.prompt-item').forEach(el => {
736:              el.classList.remove('selected');
737:              el.querySelector('.prompt-title').style.color = '#374151';
738:            });
739:            
740:            item.classList.add('selected');
741:            item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
742:            
743:            // Update content based on selection
744:            const prompt = promptData.find(p => p.id === promptId);
745:            if (prompt) {
746:              document.getElementById('prompt-description').textContent = prompt.content;
747:              document.getElementById('likes').textContent = prompt.likes;
748:              document.getElementById('dislikes').textContent = prompt.dislikes;
749:              document.getElementById('feedback').textContent = prompt.feedback;
750:              let lip =377 * prompt.likes / (prompt.likes + prompt.dislikes);
751:              let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
752:              document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
753:            }
754:            console.log(promptId);
755:        });
756:    
757:      </script>
  
app/views/main/home.html.erb:319: syntax error, unexpected ')'
Started GET "/" for ::1 at 2025-03-23 01:41:15 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.9ms | Allocations: 2978)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | Allocations: 3071)
Completed 500 Internal Server Error in 99ms (ActiveRecord: 2.9ms | Allocations: 17445)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <!DOCTYPE html>
<html lang="en">
  <% if @ps.errors.any? %>
    <div class="alert alert-danger">
        <% @ps.errors.full_messages.each do |messages| %>
        <div><%= messages %></div>
        <% end %>
    </div>
<% end %>
<head>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PromptFlow</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f5f5f5;
    }
    
    .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 20px;
      background-color: white;
      border-bottom: 1px solid #e1e1e1;
    }
    
    .sidebar {
      width: 280px;
      height: 100vh;
      background-color: white;
      border-right: 1px solid #e1e1e1;
      overflow-y: auto;
    }
    
    .search-bar {
      display: flex;
      align-items: center;
      background-color: #f5f5f5;
      border-radius: 6px;
      padding: 8px 12px;
      margin: 16px;
    }
    
    .search-bar input {
      border: none;
      background: none;
      outline: none;
      width: 100%;
      margin-left: 8px;
    }
    
    .dashboard-link {
      display: flex;
      align-items: center;
      padding: 10px 16px;
      margin: 0 12px;
      background-color: oklch(0.882 0.059 254.128);
      color: oklch(0.623 0.214 259.815);
      border-radius: 6px;
      text-decoration: none;
    }
    
    .dashboard-link svg {
      margin-right: 12px;
    }
    
    .category-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 16px;
      color: #6b7280;
      font-weight: 600;
      font-size: 0.8rem;
    }
    
    .history-header {
      display: flex;
      align-items: center;
      padding: 8px 16px;
      color: oklch(0.623 0.214 259.815);
      font-weight: 500;
    }
    
    .history-header svg {
      margin-right: 8px;
    }
    
    .prompt-item {
      padding: 12px 16px;
      cursor: pointer;
    }
    
    .prompt-item:hover {
      background-color: oklch(0.97 0.03 254.604);
      transition: 0.2s ease-in-out;
    }
    
    .prompt-item.selected {
      background-color: oklch(0.932 0.032 255.585);
    }
    
    .prompt-icon {
      margin-right: 12px;
      flex-shrink: 0;
    }
    
    .prompt-title {
      font-weight: 500;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      max-width: 180px;
    }
    
    .prompt-date {
      font-size: 0.75rem;
      color: #6b7280;
      margin-top: 4px;
    }
    
    .content-area {
      flex: 1;
      padding: 20px;
    }
    
    .card {
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      margin-bottom: 20px;
      overflow: hidden;
    }
    
    .card-header {
      padding: 12px 16px;
      font-weight: 600;
      color: white;
    }
    
    .card-header.dark {
      background-color: #1f2937;
    }
    
    .card-header.blue {
      background-color: oklch(0.623 0.214 259.815);
    }
    
    .card-content {
      padding: 16px;
    }
    
    .stats-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .stat-item {
      display: flex;
      align-items: center;
      margin-bottom: 16px;
    }
    
    .stat-icon {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 12px;
    }
    
    .stat-icon.purple {
      background-color: #f3e8ff;
    }

    .thumbs-up {
      filter: brightness(100%);
      cursor: pointer;
      transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
    }

    .thumbs-up:hover {
      filter: brightness(200%);
      transform: scale(1.2);
    }
    
    .stat-icon.red {
      background-color: #fee2e2;
    }

    .thumbs-down:hover {
      filter: brightness(100%);
      cursor: pointer;
      transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
    }

    .thumbs-down:hover {
      filter: brightness(200%);
      transform: scale(1.2);
    }
    
    .stat-label {
      font-size: 0.8rem;
      color: #6b7280;
    }

    .chart {
        transform: scale(1);
        transition: transform 0.3s ease-in-out;
    }

    .chart:hover {
        transform: scale(1.2);
    }
    
    .stat-value {
      font-size: 1.5rem;
      font-weight: 700;
    }
    
    .dropdown {
      position: relative;
      border-radius: 2rem;
      transition: 0.2s ease-in-out;
    }
    
    .dropdown-menu {
      display: none;
      position: absolute;
      right: 0;
      top: 40px;
      background-color: white;
      border-radius: 6px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      min-width: 200px;
      z-index: 10;
    }
    
    .dropdown-header {
      padding: 12px 16px;
      font-weight: 600;
      border-bottom: 1px solid #f1f1f1;
    }
    
    .dropdown-item {
      padding: 12px 16px;
      display: block;
      color: #333;
      text-decoration: none;
      border-bottom: 1px solid #f1f1f1;
    }
    
    .dropdown-item:last-child {
      border-bottom: none;
    }
    
    .dropdown-item:hover {
      background-color: #f9fafb;
    }
    
    .dropdown-item.danger {
      color: #ef4444;
    }
    
    .flex {
      display: flex;
    }
    
    .flex-col {
      flex-direction: column;
    }
    
    .items-center {
      align-items: center;
    }
    
    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <h1><i class="fa-solid fa-worm fa-flip-horizontal"></i>PromptFlow</h1>
    
    <div class="flex items-center">
      <!-- Notifications -->
      <button style="margin-right: 16px; background: none; border: none; cursor: pointer;">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
          <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
        </svg>
      </button>
      
      <!-- Settings -->
      <button id="settings-button" style="margin-right: 16px; background: none; border: none; cursor: pointer;">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="3"></circle>
          <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
        </svg>
      </button>
      
      <!-- User Profile -->
      
      <% if Current.user %>
      <div class="dropdown">
        <button id="user-button" style="display: flex; align-items: center; background: none; border: none; cursor: pointer;">
          <div style="width: 32px; height: 32px; border-radius: 50%; background-color: #7c3aed; color: white; display: flex; align-items: center; justify-content: center; margin-right: 8px;">
            <span>DD</span>
          </div>
          <span style="font-weight: 500; margin-right: 4px;"><%= Current.user.%></span>
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="6 9 12 15 18 9"></polyline>
          </svg>
        </button>
        <div id="user-dropdown" class="dropdown-menu">
          <div class="dropdown-header">My Account</div>
          <a href="#" class="dropdown-item">Profile</a>
          <a href="#" class="dropdown-item">Settings</a>
          <a href="#" class="dropdown-item">Billing</a>
          <%= button_to "Log out", sign_out_path, method: :delete, class: "dropdown-item danger", turbo: false %>
        </div>
      </div>
      <% else %>
      <%= link_to "Log in", sign_in_path, method: :get, class: "dropdown-item danger", turbo: false %>
      <% end %>
    </div>
  </header>
  
  <div class="flex">
    <!-- Sidebar -->
    <div class="sidebar">
      <!-- Search Bar -->
      <div class="search-bar">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="11" cy="11" r="8"></circle>
          <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
        <input type="text" placeholder="Search prompts..." />
      </div>
      
      <!-- Dashboard -->
      <a href="/get" class="dashboard-link">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
          <polyline points="9 22 9 12 15 12 15 22"></polyline>
        </svg>
        <span style="color: oklch(0.623 0.214 259.815)">Dashboard</span>
      </a>
      
      <!-- Prompt History -->
      <div style="margin-top: 20px;">
        <div class="category-header">
          <span>PROMPTS</span>
          <button id="new-prompt-button" style="background: none; border: none; color: #3b82f6; cursor: pointer;">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="12" y1="5" x2="12" y2="19"></line>
              <line x1="5" y1="12" x2="19" y2="12"></line>
            </svg>
          </button>
        </div>
        
        <!-- Prompt History Section -->
        <div>
          <div class="history-header">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="oklch(0.623 0.214 259.815)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"></path>
            </svg>
            <span>Prompt History</span>
          </div>
          
          <!-- History Items -->
          <% if Current.user %>
            <div>
            <% @pss.each do |prompt| %>
              <!-- Item 1 (selected) -->
              <div class="prompt-item" data-id="<%= @i2 %>">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title" style="color: oklch(0.623 0.214 259.815);"><%= prompt.system_prompt %></div>
                    <div class="prompt-date"><%= prompt.updated_at %></div>
                  </div>
                </div>
              </div>
              <%# 
              <!-- Item 2 -->
              <div class="prompt-item" data-id="1">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Design a logo for a tech startup</div>
                    <div class="prompt-date">2023-06-14</div>
                  </div>
                </div>
              </div>
              
              <!-- Item 3 -->
              <div class="prompt-item" data-id="2">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Write a product description for a new gadget</div>
                    <div class="prompt-date">2023-06-13</div>
                  </div>
                </div>
              </div>
              
              <!-- Item 4 -->
              <div class="prompt-item" data-id="3">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Generate ideas for a marketing campaign</div>
                    <div class="prompt-date">2023-06-12</div>
                  </div>
                </div>
              </div>
              
              <!-- Item 5 -->
              <div class="prompt-item" data-id="4">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Create a social media content calendar</div>
                    <div class="prompt-date">2023-06-11</div>
                  </div>
                </div>
              </div> %>


            <% @i2 = @i2 + 1%>
            <% end %>
            </div>
          <% else %>

          <% end %>

        </div>
      </div>
    </div>
    
    <!-- Main Content Area -->
    <div class="content-area">
      <!-- System Prompt Card -->
      <% if Current.user %>
        <% if @pss.first %>
          <div class="card">
            <div class="card-header dark">System Prompt</div>
            <div class="card-content">
              <p id="prompt-description" style="line-height: 1.6; color: #4b5563;">
                <%= @pss.first.system_prompt%>
              </p>
            </div>
          </div>
        <% else %>
          <div class="card">
          <div class="card-header blue">
            <div style="display: flex; align-items: center;">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
              </svg>
              No prompts created!
            </div>
          </div>
          <div class="card-content">
            <p style="line-height: 1.6; color: #4b5563;">
              Create a prompt and begin optimizing!
            </p>
          </div>
        </div>
        <%end%>
      <% else %>
      <% end %>
      
      <!-- Statistics Card -->
      <% if Current.user %>
      <% if @pss.first %>
      <div class="card">
        <div class="card-header blue">
          <div style="display: flex; align-items: center;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
              <circle cx="12" cy="12" r="10"></circle>
              <line x1="12" y1="16" x2="12" y2="12"></line>
              <line x1="12" y1="8" x2="12.01" y2="8"></line>
            </svg>
            Statistics
          </div>
        </div>
        <div class="card-content">
          <div class="stats-container">
            <div>
              <!-- Likes -->
              <div class="stat-item">
                <div class="stat-icon purple">
                  <svg class="thumbs-up" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#7c3aed" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>
                  </svg>
                </div>
                <div>
                  <div class="stat-label">Likes</div>
                  <div class="stat-value" id="likes"><%= @pss.first.like_count%></div>
                </div>
              </div>
              
              <!-- Dislikes -->
              <div class="stat-item">
                <div class="stat-icon red">
                  <svg class="thumbs-down" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#ef4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path>
                  </svg>
                </div>
                <div>
                  <div class="stat-label">Dislikes</div>
                  <div class="stat-value" id="dislikes"><%= @pss.first.dislike_count%></div>
                </div>
              </div>
            </div>
            
            <!-- Donut Chart -->
            <div>
              <svg class="chart" width="150" height="150" viewBox="0 0 150 150">
                <circle cx="75" cy="75" r="60" fill="transparent" stroke="#FF0000" stroke-width="20"></circle>
                <circle id="likeCircle" cx="75" cy="75" r="60" fill="transparent" stroke="#008000" stroke-width="20" stroke-dasharray="<%= 377 * (@pss.first.like_count / (@pss.first.like_count + @pss.first.dislike_count)) %> <%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count)) %>" stroke-dashoffset="0"></circle>

                <circle cx="75" cy="75" r="40" fill="white"></circle>
              </svg>
            </div>
          </div>
        </div>
      </div>
      <% end %>
      <% else %>
      <% end %>
      
      <!-- AI Feedback Card -->
      <% if Current.user %>
      <% if @pss.first %>
      <div class="card">
        <div class="card-header blue">
          <div style="display: flex; align-items: center;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
              <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
            </svg>
            AI Feedback
          </div>
        </div>
        <div class="card-content">
          <p style="line-height: 1.6; color: #4b5563;" id="feedback">
            <%= @pss.first.ai_feedback%>
          </p>
        </div>
      </div>
      <% end %>
      <% else %>
      <div class="card">
        <div class="card-header blue">
          <div style="display: flex; align-items: center;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
              <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
            </svg>
            Login to access page!
          </div>
        </div>
        <div class="card-content">
          <p style="line-height: 1.6; color: #4b5563;">
            Login through your company/personal account to access the dashboard.
          </p>
        </div>
      </div>
      <% end %>



    </div>
  </div>
  
  <!-- New Prompt Modal -->
  <div id="new-prompt-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); z-index: 100; align-items: center; justify-content: center;">
    <div style="background-color: white; border-radius: 8px; padding: 24px; width: 90%; max-width: 500px; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);">
      <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 16px;">Create New Prompt</h3>
      <%# <form id="new-prompt-form">
        <div style="margin-bottom: 16px;">
          <label for="prompt-title" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt Title</label>
          <input type="text" id="prompt-title" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Enter a title for your prompt" />
        </div>
        <div style="margin-bottom: 16px;">
          <label for="prompt-text" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt</label>
          <textarea id="prompt-text" rows="5" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Write your prompt here..."></textarea>
        </div>
        <div style="display: flex; justify-content: flex-end; gap: 12px;">
          <button type="button" id="cancel-prompt" style="padding: 8px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
          <button type="submit" style="padding: 8px 16px; background-color: #7c3aed; color: white; border: none; border-radius: 6px; cursor: pointer;">Create</button>
        </div>
      </form> %>
      <%= form_with model: @ps, url: new_prompt_path, data: { turbo: false } do |form| %>
<div class="mb-3">
    <%= form.label :uid %>
    <%= form.number_field :uid, class: "form-control", placeholder: "123" %>
</div>
<div class="mb-3">
    <%= form.label :system_prompt %>
    <%= form.text_field :system_prompt, class: "form-control" %>
</div>
<div class="mb-3">
  <button type="button" id="cancel-prompt" style="padding: 7px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
  <%= form.submit "Create form", class: "btn btn-primary" %>
</div>
<% end %>
    </div>
  </div>

  <script>
    // Sample prompt data
    const promptData = [
      <% if Current.user %>
      <% @pss.each do |prompt| %>
      {
        id: <%= @i %>,
        title: "<%= prompt.system_prompt %>",
        date: "<%= prompt.updated_at %>",
        content: "<%= prompt.system_prompt %>",
        likes: <%= prompt.like_count %>,
        dislikes: <%= prompt.dislike_count %>,
        feedback: "<%= prompt.ai_feedback %>"
      },
      <% @i = @i + 1%>
      <%end%>

      <% else %>

      <% end %>
    ];
    
    // Handle prompt item clicks
    document.querySelectorAll('.prompt-item').forEach(item => {
      item.addEventListener('click', () => {
        // Get prompt id
        const promptId = parseInt(item.getAttribute('data-id'));
        
        // Update selection visualization
        document.querySelectorAll('.prompt-item').forEach(el => {
          el.classList.remove('selected');
          el.querySelector('.prompt-title').style.color = '#374151';
        });
        
        item.classList.add('selected');
        item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
        
        // Update content based on selection
        const prompt = promptData.find(p => p.id === promptId);
        if (prompt) {
          document.getElementById('prompt-description').textContent = prompt.content;
          document.getElementById('likes').textContent = prompt.likes;
          document.getElementById('dislikes').textContent = prompt.dislikes;
          document.getElementById('feedback').textContent = prompt.feedback;
          let lip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
          let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
          document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
        }
      });
    });
    
    // Account dropdown functionality
    const userButton = document.getElementById('user-button');
    const userDropdown = document.getElementById('user-dropdown');
    
    userButton.addEventListener('click', (e) => {
      e.stopPropagation();
      userDropdown.style.display = userDropdown.style.display === 'block' ? 'none' : 'block';
    });
    
    // Close dropdown when clicking elsewhere
    document.addEventListener('click', () => {
      userDropdown.style.display = 'none';
    });
    
    // New prompt modal functionality
    const newPromptButton = document.getElementById('new-prompt-button');
    const newPromptModal = document.getElementById('new-prompt-modal');
    const cancelPromptButton = document.getElementById('cancel-prompt');
    const newPromptForm = document.getElementById('new-prompt-form');
    
    newPromptButton.addEventListener('click', () => {
      newPromptModal.style.display = 'flex';
    });
    
    cancelPromptButton.addEventListener('click', () => {
      newPromptModal.style.display = 'none';
      newPromptForm.reset();
    });
  
    
    // Prevent clicks inside the modal from closing it
    newPromptModal.querySelector('div').addEventListener('click', (e) => {
      e.stopPropagation();
    });
    
    // Close modal when clicking outside
    newPromptModal.addEventListener('click', () => {
      newPromptModal.style.display = 'none';
      newPromptForm.reset();
    });

    
    document.addEventListener('DOMContentLoaded', function() {
        let item = document.querySelector('.prompt-item');
        const promptId = 0;
        console.log(promptId);
        
        // Update selection visualization
        document.querySelectorAll('.prompt-item').forEach(el => {
          el.classList.remove('selected');
          el.querySelector('.prompt-title').style.color = '#374151';
        });
        
        item.classList.add('selected');
        item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
        
        // Update content based on selection
        const prompt = promptData.find(p => p.id === promptId);
        if (prompt) {
          document.getElementById('prompt-description').textContent = prompt.content;
          document.getElementById('likes').textContent = prompt.likes;
          document.getElementById('dislikes').textContent = prompt.dislikes;
          document.getElementById('feedback').textContent = prompt.feedback;
          let lip =377 * prompt.likes / (prompt.likes + prompt.dislikes);
          let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
          document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
        }
        console.log(promptId);
    });

  </script>
</body>
</html>
):
1:    <!DOCTYPE html>
2:    <html lang="en">
3:      <% if @ps.errors.any? %>
4:        <div class="alert alert-danger">
5:            <% @ps.errors.full_messages.each do |messages| %>
6:            <div><%= messages %></div>
7:            <% end %>
8:        </div>
9:    <% end %>
10:    <head>
11:    
12:      <meta charset="UTF-8" />
13:      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
14:      <title>PromptFlow</title>
15:      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
16:      <style>
17:        body {
18:          font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
19:          margin: 0;
20:          padding: 0;
21:          background-color: #f5f5f5;
22:        }
23:        
24:        .header {
25:          display: flex;
26:          align-items: center;
27:          justify-content: space-between;
28:          padding: 10px 20px;
29:          background-color: white;
30:          border-bottom: 1px solid #e1e1e1;
31:        }
32:        
33:        .sidebar {
34:          width: 280px;
35:          height: 100vh;
36:          background-color: white;
37:          border-right: 1px solid #e1e1e1;
38:          overflow-y: auto;
39:        }
40:        
41:        .search-bar {
42:          display: flex;
43:          align-items: center;
44:          background-color: #f5f5f5;
45:          border-radius: 6px;
46:          padding: 8px 12px;
47:          margin: 16px;
48:        }
49:        
50:        .search-bar input {
51:          border: none;
52:          background: none;
53:          outline: none;
54:          width: 100%;
55:          margin-left: 8px;
56:        }
57:        
58:        .dashboard-link {
59:          display: flex;
60:          align-items: center;
61:          padding: 10px 16px;
62:          margin: 0 12px;
63:          background-color: oklch(0.882 0.059 254.128);
64:          color: oklch(0.623 0.214 259.815);
65:          border-radius: 6px;
66:          text-decoration: none;
67:        }
68:        
69:        .dashboard-link svg {
70:          margin-right: 12px;
71:        }
72:        
73:        .category-header {
74:          display: flex;
75:          justify-content: space-between;
76:          align-items: center;
77:          padding: 16px;
78:          color: #6b7280;
79:          font-weight: 600;
80:          font-size: 0.8rem;
81:        }
82:        
83:        .history-header {
84:          display: flex;
85:          align-items: center;
86:          padding: 8px 16px;
87:          color: oklch(0.623 0.214 259.815);
88:          font-weight: 500;
89:        }
90:        
91:        .history-header svg {
92:          margin-right: 8px;
93:        }
94:        
95:        .prompt-item {
96:          padding: 12px 16px;
97:          cursor: pointer;
98:        }
99:        
100:        .prompt-item:hover {
101:          background-color: oklch(0.97 0.03 254.604);
102:          transition: 0.2s ease-in-out;
103:        }
104:        
105:        .prompt-item.selected {
106:          background-color: oklch(0.932 0.032 255.585);
107:        }
108:        
109:        .prompt-icon {
110:          margin-right: 12px;
111:          flex-shrink: 0;
112:        }
113:        
114:        .prompt-title {
115:          font-weight: 500;
116:          white-space: nowrap;
117:          overflow: hidden;
118:          text-overflow: ellipsis;
119:          max-width: 180px;
120:        }
121:        
122:        .prompt-date {
123:          font-size: 0.75rem;
124:          color: #6b7280;
125:          margin-top: 4px;
126:        }
127:        
128:        .content-area {
129:          flex: 1;
130:          padding: 20px;
131:        }
132:        
133:        .card {
134:          background-color: white;
135:          border-radius: 8px;
136:          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
137:          margin-bottom: 20px;
138:          overflow: hidden;
139:        }
140:        
141:        .card-header {
142:          padding: 12px 16px;
143:          font-weight: 600;
144:          color: white;
145:        }
146:        
147:        .card-header.dark {
148:          background-color: #1f2937;
149:        }
150:        
151:        .card-header.blue {
152:          background-color: oklch(0.623 0.214 259.815);
153:        }
154:        
155:        .card-content {
156:          padding: 16px;
157:        }
158:        
159:        .stats-container {
160:          display: flex;
161:          justify-content: space-between;
162:          align-items: center;
163:        }
164:        
165:        .stat-item {
166:          display: flex;
167:          align-items: center;
168:          margin-bottom: 16px;
169:        }
170:        
171:        .stat-icon {
172:          width: 40px;
173:          height: 40px;
174:          border-radius: 50%;
175:          display: flex;
176:          align-items: center;
177:          justify-content: center;
178:          margin-right: 12px;
179:        }
180:        
181:        .stat-icon.purple {
182:          background-color: #f3e8ff;
183:        }
184:    
185:        .thumbs-up {
186:          filter: brightness(100%);
187:          cursor: pointer;
188:          transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
189:        }
190:    
191:        .thumbs-up:hover {
192:          filter: brightness(200%);
193:          transform: scale(1.2);
194:        }
195:        
196:        .stat-icon.red {
197:          background-color: #fee2e2;
198:        }
199:    
200:        .thumbs-down:hover {
201:          filter: brightness(100%);
202:          cursor: pointer;
203:          transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
204:        }
205:    
206:        .thumbs-down:hover {
207:          filter: brightness(200%);
208:          transform: scale(1.2);
209:        }
210:        
211:        .stat-label {
212:          font-size: 0.8rem;
213:          color: #6b7280;
214:        }
215:    
216:        .chart {
217:            transform: scale(1);
218:            transition: transform 0.3s ease-in-out;
219:        }
220:    
221:        .chart:hover {
222:            transform: scale(1.2);
223:        }
224:        
225:        .stat-value {
226:          font-size: 1.5rem;
227:          font-weight: 700;
228:        }
229:        
230:        .dropdown {
231:          position: relative;
232:          border-radius: 2rem;
233:          transition: 0.2s ease-in-out;
234:        }
235:        
236:        .dropdown-menu {
237:          display: none;
238:          position: absolute;
239:          right: 0;
240:          top: 40px;
241:          background-color: white;
242:          border-radius: 6px;
243:          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
244:          min-width: 200px;
245:          z-index: 10;
246:        }
247:        
248:        .dropdown-header {
249:          padding: 12px 16px;
250:          font-weight: 600;
251:          border-bottom: 1px solid #f1f1f1;
252:        }
253:        
254:        .dropdown-item {
255:          padding: 12px 16px;
256:          display: block;
257:          color: #333;
258:          text-decoration: none;
259:          border-bottom: 1px solid #f1f1f1;
260:        }
261:        
262:        .dropdown-item:last-child {
263:          border-bottom: none;
264:        }
265:        
266:        .dropdown-item:hover {
267:          background-color: #f9fafb;
268:        }
269:        
270:        .dropdown-item.danger {
271:          color: #ef4444;
272:        }
273:        
274:        .flex {
275:          display: flex;
276:        }
277:        
278:        .flex-col {
279:          flex-direction: column;
280:        }
281:        
282:        .items-center {
283:          align-items: center;
284:        }
285:        
286:        .hidden {
287:          display: none;
288:        }
289:      </style>
290:    </head>
291:    <body>
292:      <!-- Header -->
293:      <header class="header">
294:        <h1><i class="fa-solid fa-worm fa-flip-horizontal"></i>PromptFlow</h1>
295:        
296:        <div class="flex items-center">
297:          <!-- Notifications -->
298:          <button style="margin-right: 16px; background: none; border: none; cursor: pointer;">
299:            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
300:              <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
301:              <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
302:            </svg>
303:          </button>
304:          
305:          <!-- Settings -->
306:          <button id="settings-button" style="margin-right: 16px; background: none; border: none; cursor: pointer;">
307:            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
308:              <circle cx="12" cy="12" r="3"></circle>
309:              <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
310:            </svg>
311:          </button>
312:          
313:          <!-- User Profile -->
314:          
315:          <% if Current.user %>
316:          <div class="dropdown">
317:            <button id="user-button" style="display: flex; align-items: center; background: none; border: none; cursor: pointer;">
318:              <div style="width: 32px; height: 32px; border-radius: 50%; background-color: #7c3aed; color: white; display: flex; align-items: center; justify-content: center; margin-right: 8px;">
319:                <span>DD</span>
320:              </div>
321:              <span style="font-weight: 500; margin-right: 4px;"><%= Current.user.%></span>
322:              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
323:                <polyline points="6 9 12 15 18 9"></polyline>
324:              </svg>
325:            </button>
326:            <div id="user-dropdown" class="dropdown-menu">
327:              <div class="dropdown-header">My Account</div>
328:              <a href="#" class="dropdown-item">Profile</a>
329:              <a href="#" class="dropdown-item">Settings</a>
330:              <a href="#" class="dropdown-item">Billing</a>
331:              <%= button_to "Log out", sign_out_path, method: :delete, class: "dropdown-item danger", turbo: false %>
332:            </div>
333:          </div>
334:          <% else %>
335:          <%= link_to "Log in", sign_in_path, method: :get, class: "dropdown-item danger", turbo: false %>
336:          <% end %>
337:        </div>
338:      </header>
339:      
340:      <div class="flex">
341:        <!-- Sidebar -->
342:        <div class="sidebar">
343:          <!-- Search Bar -->
344:          <div class="search-bar">
345:            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
346:              <circle cx="11" cy="11" r="8"></circle>
347:              <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
348:            </svg>
349:            <input type="text" placeholder="Search prompts..." />
350:          </div>
351:          
352:          <!-- Dashboard -->
353:          <a href="/get" class="dashboard-link">
354:            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
355:              <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
356:              <polyline points="9 22 9 12 15 12 15 22"></polyline>
357:            </svg>
358:            <span style="color: oklch(0.623 0.214 259.815)">Dashboard</span>
359:          </a>
360:          
361:          <!-- Prompt History -->
362:          <div style="margin-top: 20px;">
363:            <div class="category-header">
364:              <span>PROMPTS</span>
365:              <button id="new-prompt-button" style="background: none; border: none; color: #3b82f6; cursor: pointer;">
366:                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
367:                  <line x1="12" y1="5" x2="12" y2="19"></line>
368:                  <line x1="5" y1="12" x2="19" y2="12"></line>
369:                </svg>
370:              </button>
371:            </div>
372:            
373:            <!-- Prompt History Section -->
374:            <div>
375:              <div class="history-header">
376:                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="oklch(0.623 0.214 259.815)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
377:                  <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"></path>
378:                </svg>
379:                <span>Prompt History</span>
380:              </div>
381:              
382:              <!-- History Items -->
383:              <% if Current.user %>
384:                <div>
385:                <% @pss.each do |prompt| %>
386:                  <!-- Item 1 (selected) -->
387:                  <div class="prompt-item" data-id="<%= @i2 %>">
388:                    <div class="flex" style="align-items: flex-start;">
389:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
390:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
391:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
392:                      </svg>
393:                      <div>
394:                        <div class="prompt-title" style="color: oklch(0.623 0.214 259.815);"><%= prompt.system_prompt %></div>
395:                        <div class="prompt-date"><%= prompt.updated_at %></div>
396:                      </div>
397:                    </div>
398:                  </div>
399:                  <%# 
400:                  <!-- Item 2 -->
401:                  <div class="prompt-item" data-id="1">
402:                    <div class="flex" style="align-items: flex-start;">
403:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
404:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
405:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
406:                      </svg>
407:                      <div>
408:                        <div class="prompt-title">Design a logo for a tech startup</div>
409:                        <div class="prompt-date">2023-06-14</div>
410:                      </div>
411:                    </div>
412:                  </div>
413:                  
414:                  <!-- Item 3 -->
415:                  <div class="prompt-item" data-id="2">
416:                    <div class="flex" style="align-items: flex-start;">
417:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
418:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
419:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
420:                      </svg>
421:                      <div>
422:                        <div class="prompt-title">Write a product description for a new gadget</div>
423:                        <div class="prompt-date">2023-06-13</div>
424:                      </div>
425:                    </div>
426:                  </div>
427:                  
428:                  <!-- Item 4 -->
429:                  <div class="prompt-item" data-id="3">
430:                    <div class="flex" style="align-items: flex-start;">
431:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
432:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
433:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
434:                      </svg>
435:                      <div>
436:                        <div class="prompt-title">Generate ideas for a marketing campaign</div>
437:                        <div class="prompt-date">2023-06-12</div>
438:                      </div>
439:                    </div>
440:                  </div>
441:                  
442:                  <!-- Item 5 -->
443:                  <div class="prompt-item" data-id="4">
444:                    <div class="flex" style="align-items: flex-start;">
445:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
446:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
447:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
448:                      </svg>
449:                      <div>
450:                        <div class="prompt-title">Create a social media content calendar</div>
451:                        <div class="prompt-date">2023-06-11</div>
452:                      </div>
453:                    </div>
454:                  </div> %>
455:    
456:    
457:                <% @i2 = @i2 + 1%>
458:                <% end %>
459:                </div>
460:              <% else %>
461:    
462:              <% end %>
463:    
464:            </div>
465:          </div>
466:        </div>
467:        
468:        <!-- Main Content Area -->
469:        <div class="content-area">
470:          <!-- System Prompt Card -->
471:          <% if Current.user %>
472:            <% if @pss.first %>
473:              <div class="card">
474:                <div class="card-header dark">System Prompt</div>
475:                <div class="card-content">
476:                  <p id="prompt-description" style="line-height: 1.6; color: #4b5563;">
477:                    <%= @pss.first.system_prompt%>
478:                  </p>
479:                </div>
480:              </div>
481:            <% else %>
482:              <div class="card">
483:              <div class="card-header blue">
484:                <div style="display: flex; align-items: center;">
485:                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
486:                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
487:                  </svg>
488:                  No prompts created!
489:                </div>
490:              </div>
491:              <div class="card-content">
492:                <p style="line-height: 1.6; color: #4b5563;">
493:                  Create a prompt and begin optimizing!
494:                </p>
495:              </div>
496:            </div>
497:            <%end%>
498:          <% else %>
499:          <% end %>
500:          
501:          <!-- Statistics Card -->
502:          <% if Current.user %>
503:          <% if @pss.first %>
504:          <div class="card">
505:            <div class="card-header blue">
506:              <div style="display: flex; align-items: center;">
507:                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
508:                  <circle cx="12" cy="12" r="10"></circle>
509:                  <line x1="12" y1="16" x2="12" y2="12"></line>
510:                  <line x1="12" y1="8" x2="12.01" y2="8"></line>
511:                </svg>
512:                Statistics
513:              </div>
514:            </div>
515:            <div class="card-content">
516:              <div class="stats-container">
517:                <div>
518:                  <!-- Likes -->
519:                  <div class="stat-item">
520:                    <div class="stat-icon purple">
521:                      <svg class="thumbs-up" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#7c3aed" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
522:                        <path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>
523:                      </svg>
524:                    </div>
525:                    <div>
526:                      <div class="stat-label">Likes</div>
527:                      <div class="stat-value" id="likes"><%= @pss.first.like_count%></div>
528:                    </div>
529:                  </div>
530:                  
531:                  <!-- Dislikes -->
532:                  <div class="stat-item">
533:                    <div class="stat-icon red">
534:                      <svg class="thumbs-down" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#ef4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
535:                        <path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path>
536:                      </svg>
537:                    </div>
538:                    <div>
539:                      <div class="stat-label">Dislikes</div>
540:                      <div class="stat-value" id="dislikes"><%= @pss.first.dislike_count%></div>
541:                    </div>
542:                  </div>
543:                </div>
544:                
545:                <!-- Donut Chart -->
546:                <div>
547:                  <svg class="chart" width="150" height="150" viewBox="0 0 150 150">
548:                    <circle cx="75" cy="75" r="60" fill="transparent" stroke="#FF0000" stroke-width="20"></circle>
549:                    <circle id="likeCircle" cx="75" cy="75" r="60" fill="transparent" stroke="#008000" stroke-width="20" stroke-dasharray="<%= 377 * (@pss.first.like_count / (@pss.first.like_count + @pss.first.dislike_count)) %> <%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count)) %>" stroke-dashoffset="0"></circle>
550:    
551:                    <circle cx="75" cy="75" r="40" fill="white"></circle>
552:                  </svg>
553:                </div>
554:              </div>
555:            </div>
556:          </div>
557:          <% end %>
558:          <% else %>
559:          <% end %>
560:          
561:          <!-- AI Feedback Card -->
562:          <% if Current.user %>
563:          <% if @pss.first %>
564:          <div class="card">
565:            <div class="card-header blue">
566:              <div style="display: flex; align-items: center;">
567:                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
568:                  <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
569:                </svg>
570:                AI Feedback
571:              </div>
572:            </div>
573:            <div class="card-content">
574:              <p style="line-height: 1.6; color: #4b5563;" id="feedback">
575:                <%= @pss.first.ai_feedback%>
576:              </p>
577:            </div>
578:          </div>
579:          <% end %>
580:          <% else %>
581:          <div class="card">
582:            <div class="card-header blue">
583:              <div style="display: flex; align-items: center;">
584:                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
585:                  <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
586:                </svg>
587:                Login to access page!
588:              </div>
589:            </div>
590:            <div class="card-content">
591:              <p style="line-height: 1.6; color: #4b5563;">
592:                Login through your company/personal account to access the dashboard.
593:              </p>
594:            </div>
595:          </div>
596:          <% end %>
597:    
598:    
599:    
600:        </div>
601:      </div>
602:      
603:      <!-- New Prompt Modal -->
604:      <div id="new-prompt-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); z-index: 100; align-items: center; justify-content: center;">
605:        <div style="background-color: white; border-radius: 8px; padding: 24px; width: 90%; max-width: 500px; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);">
606:          <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 16px;">Create New Prompt</h3>
607:          <%# <form id="new-prompt-form">
608:            <div style="margin-bottom: 16px;">
609:              <label for="prompt-title" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt Title</label>
610:              <input type="text" id="prompt-title" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Enter a title for your prompt" />
611:            </div>
612:            <div style="margin-bottom: 16px;">
613:              <label for="prompt-text" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt</label>
614:              <textarea id="prompt-text" rows="5" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Write your prompt here..."></textarea>
615:            </div>
616:            <div style="display: flex; justify-content: flex-end; gap: 12px;">
617:              <button type="button" id="cancel-prompt" style="padding: 8px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
618:              <button type="submit" style="padding: 8px 16px; background-color: #7c3aed; color: white; border: none; border-radius: 6px; cursor: pointer;">Create</button>
619:            </div>
620:          </form> %>
621:          <%= form_with model: @ps, url: new_prompt_path, data: { turbo: false } do |form| %>
622:    <div class="mb-3">
623:        <%= form.label :uid %>
624:        <%= form.number_field :uid, class: "form-control", placeholder: "123" %>
625:    </div>
626:    <div class="mb-3">
627:        <%= form.label :system_prompt %>
628:        <%= form.text_field :system_prompt, class: "form-control" %>
629:    </div>
630:    <div class="mb-3">
631:      <button type="button" id="cancel-prompt" style="padding: 7px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
632:      <%= form.submit "Create form", class: "btn btn-primary" %>
633:    </div>
634:    <% end %>
635:        </div>
636:      </div>
637:    
638:      <script>
639:        // Sample prompt data
640:        const promptData = [
641:          <% if Current.user %>
642:          <% @pss.each do |prompt| %>
643:          {
644:            id: <%= @i %>,
645:            title: "<%= prompt.system_prompt %>",
646:            date: "<%= prompt.updated_at %>",
647:            content: "<%= prompt.system_prompt %>",
648:            likes: <%= prompt.like_count %>,
649:            dislikes: <%= prompt.dislike_count %>,
650:            feedback: "<%= prompt.ai_feedback %>"
651:          },
652:          <% @i = @i + 1%>
653:          <%end%>
654:    
655:          <% else %>
656:    
657:          <% end %>
658:        ];
659:        
660:        // Handle prompt item clicks
661:        document.querySelectorAll('.prompt-item').forEach(item => {
662:          item.addEventListener('click', () => {
663:            // Get prompt id
664:            const promptId = parseInt(item.getAttribute('data-id'));
665:            
666:            // Update selection visualization
667:            document.querySelectorAll('.prompt-item').forEach(el => {
668:              el.classList.remove('selected');
669:              el.querySelector('.prompt-title').style.color = '#374151';
670:            });
671:            
672:            item.classList.add('selected');
673:            item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
674:            
675:            // Update content based on selection
676:            const prompt = promptData.find(p => p.id === promptId);
677:            if (prompt) {
678:              document.getElementById('prompt-description').textContent = prompt.content;
679:              document.getElementById('likes').textContent = prompt.likes;
680:              document.getElementById('dislikes').textContent = prompt.dislikes;
681:              document.getElementById('feedback').textContent = prompt.feedback;
682:              let lip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
683:              let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
684:              document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
685:            }
686:          });
687:        });
688:        
689:        // Account dropdown functionality
690:        const userButton = document.getElementById('user-button');
691:        const userDropdown = document.getElementById('user-dropdown');
692:        
693:        userButton.addEventListener('click', (e) => {
694:          e.stopPropagation();
695:          userDropdown.style.display = userDropdown.style.display === 'block' ? 'none' : 'block';
696:        });
697:        
698:        // Close dropdown when clicking elsewhere
699:        document.addEventListener('click', () => {
700:          userDropdown.style.display = 'none';
701:        });
702:        
703:        // New prompt modal functionality
704:        const newPromptButton = document.getElementById('new-prompt-button');
705:        const newPromptModal = document.getElementById('new-prompt-modal');
706:        const cancelPromptButton = document.getElementById('cancel-prompt');
707:        const newPromptForm = document.getElementById('new-prompt-form');
708:        
709:        newPromptButton.addEventListener('click', () => {
710:          newPromptModal.style.display = 'flex';
711:        });
712:        
713:        cancelPromptButton.addEventListener('click', () => {
714:          newPromptModal.style.display = 'none';
715:          newPromptForm.reset();
716:        });
717:      
718:        
719:        // Prevent clicks inside the modal from closing it
720:        newPromptModal.querySelector('div').addEventListener('click', (e) => {
721:          e.stopPropagation();
722:        });
723:        
724:        // Close modal when clicking outside
725:        newPromptModal.addEventListener('click', () => {
726:          newPromptModal.style.display = 'none';
727:          newPromptForm.reset();
728:        });
729:    
730:        
731:        document.addEventListener('DOMContentLoaded', function() {
732:            let item = document.querySelector('.prompt-item');
733:            const promptId = 0;
734:            console.log(promptId);
735:            
736:            // Update selection visualization
737:            document.querySelectorAll('.prompt-item').forEach(el => {
738:              el.classList.remove('selected');
739:              el.querySelector('.prompt-title').style.color = '#374151';
740:            });
741:            
742:            item.classList.add('selected');
743:            item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
744:            
745:            // Update content based on selection
746:            const prompt = promptData.find(p => p.id === promptId);
747:            if (prompt) {
748:              document.getElementById('prompt-description').textContent = prompt.content;
749:              document.getElementById('likes').textContent = prompt.likes;
750:              document.getElementById('dislikes').textContent = prompt.dislikes;
751:              document.getElementById('feedback').textContent = prompt.feedback;
752:              let lip =377 * prompt.likes / (prompt.likes + prompt.dislikes);
753:              let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
754:              document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
755:            }
756:            console.log(promptId);
757:        });
758:    
759:      </script>
760:    </body>
761:    </html>
  
app/views/main/home.html.erb:321: syntax error, unexpected ')'
Started GET "/" for ::1 at 2025-03-23 01:41:43 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.5ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 36.3ms | Allocations: 4181)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 226)
  Rendered layout layouts/application.html.erb (Duration: 109.2ms | Allocations: 40319)
Completed 200 OK in 217ms (Views: 116.2ms | ActiveRecord: 3.3ms | Allocations: 54809)


Started DELETE "/sign-out" for ::1 at 2025-03-23 01:41:47 -0700
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.1ms | Allocations: 1104)


Started GET "/" for ::1 at 2025-03-23 01:41:47 -0700
Processing by MainController#home as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.0ms | Allocations: 543)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 30)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | Allocations: 2653)
Completed 200 OK in 12ms (Views: 8.2ms | ActiveRecord: 0.0ms | Allocations: 3363)


Started GET "/sign-in" for ::1 at 2025-03-23 01:41:48 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 9.8ms | Allocations: 1030)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 16.2ms | Allocations: 3069)
Completed 200 OK in 47ms (Views: 21.2ms | ActiveRecord: 0.0ms | Allocations: 3886)


Started GET "/sign-in" for ::1 at 2025-03-23 01:42:28 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.8ms | Allocations: 901)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 206)
  Rendered layout layouts/application.html.erb (Duration: 37.3ms | Allocations: 17454)
Completed 200 OK in 82ms (Views: 44.5ms | ActiveRecord: 2.5ms | Allocations: 23408)


Started GET "/sign-in" for ::1 at 2025-03-23 01:43:02 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.7ms | Allocations: 903)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 206)
  Rendered layout layouts/application.html.erb (Duration: 38.6ms | Allocations: 17411)
Completed 200 OK in 81ms (Views: 45.5ms | ActiveRecord: 2.5ms | Allocations: 23371)


Started GET "/sign-in" for ::1 at 2025-03-23 01:43:07 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.8ms | Allocations: 900)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 206)
  Rendered layout layouts/application.html.erb (Duration: 35.5ms | Allocations: 17408)
Completed 200 OK in 78ms (Views: 42.5ms | ActiveRecord: 2.4ms | Allocations: 23377)


Started GET "/sign-in" for ::1 at 2025-03-23 01:45:58 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 912)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 32.2ms | Allocations: 17455)
Completed 200 OK in 59ms (Views: 38.8ms | ActiveRecord: 4.4ms | Allocations: 23414)


Started GET "/sign-in" for ::1 at 2025-03-23 01:46:06 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.7ms | Allocations: 903)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 206)
  Rendered layout layouts/application.html.erb (Duration: 35.7ms | Allocations: 17455)
Completed 200 OK in 79ms (Views: 42.7ms | ActiveRecord: 2.7ms | Allocations: 23377)


Started GET "/sign-in" for ::1 at 2025-03-23 01:46:49 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 906)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 34.1ms | Allocations: 17420)
Completed 200 OK in 55ms (Views: 40.9ms | ActiveRecord: 2.5ms | Allocations: 23380)


Started GET "/sign-in" for ::1 at 2025-03-23 01:46:59 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 903)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 32.6ms | Allocations: 17379)
Completed 200 OK in 77ms (Views: 39.5ms | ActiveRecord: 2.9ms | Allocations: 23315)


Started GET "/sign-in" for ::1 at 2025-03-23 01:47:06 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 902)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 30.8ms | Allocations: 17396)
Completed 200 OK in 52ms (Views: 37.7ms | ActiveRecord: 2.7ms | Allocations: 23327)


Started GET "/sign-in" for ::1 at 2025-03-23 01:48:36 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 914)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 31.1ms | Allocations: 17414)
Completed 200 OK in 74ms (Views: 38.1ms | ActiveRecord: 2.4ms | Allocations: 23374)


Started GET "/sign-in" for ::1 at 2025-03-23 01:48:43 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | Allocations: 482)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | Allocations: 2523)
Completed 200 OK in 11ms (Views: 7.8ms | ActiveRecord: 0.0ms | Allocations: 3158)


Started GET "/sign-in" for ::1 at 2025-03-23 01:48:43 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 482)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 2512)
Completed 200 OK in 11ms (Views: 7.7ms | ActiveRecord: 0.0ms | Allocations: 3138)


Started GET "/sign-in" for ::1 at 2025-03-23 01:48:44 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 482)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 2520)
Completed 200 OK in 11ms (Views: 7.6ms | ActiveRecord: 0.0ms | Allocations: 3173)


Started GET "/sign-in" for ::1 at 2025-03-23 01:48:46 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | Allocations: 482)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | Allocations: 2510)
Completed 200 OK in 11ms (Views: 7.5ms | ActiveRecord: 0.0ms | Allocations: 3148)


Started GET "/sign-in" for ::1 at 2025-03-23 01:48:46 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 482)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | Allocations: 2510)
Completed 200 OK in 11ms (Views: 8.1ms | ActiveRecord: 0.0ms | Allocations: 3139)


Started GET "/sign-in" for ::1 at 2025-03-23 01:49:09 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 482)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | Allocations: 2511)
Completed 200 OK in 10ms (Views: 7.3ms | ActiveRecord: 0.0ms | Allocations: 3137)


Started GET "/sign-in" for ::1 at 2025-03-23 01:49:19 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | Allocations: 482)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | Allocations: 2510)
Completed 200 OK in 11ms (Views: 7.3ms | ActiveRecord: 0.0ms | Allocations: 3157)


Started GET "/sign-in" for ::1 at 2025-03-23 01:49:50 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.8ms | Allocations: 907)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 30.7ms | Allocations: 17409)
Completed 200 OK in 77ms (Views: 37.7ms | ActiveRecord: 2.9ms | Allocations: 23387)


Started GET "/sign-in" for ::1 at 2025-03-23 01:49:58 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.7ms | Allocations: 909)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 31.1ms | Allocations: 17412)
Completed 200 OK in 78ms (Views: 38.2ms | ActiveRecord: 2.4ms | Allocations: 23340)


Started GET "/sign-in" for ::1 at 2025-03-23 01:50:08 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.7ms | Allocations: 910)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 30.8ms | Allocations: 17413)
Completed 200 OK in 75ms (Views: 38.1ms | ActiveRecord: 2.5ms | Allocations: 23373)


Started GET "/sign-in" for ::1 at 2025-03-23 01:50:14 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.7ms | Allocations: 913)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 31.2ms | Allocations: 17415)
Completed 200 OK in 76ms (Views: 38.1ms | ActiveRecord: 2.6ms | Allocations: 23387)


Started GET "/sign-in" for ::1 at 2025-03-23 01:50:18 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.8ms | Allocations: 910)
  Rendered shared/_flash.html.erb (Duration: 1.0ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 71.1ms | Allocations: 17411)
Completed 200 OK in 92ms (Views: 78.0ms | ActiveRecord: 2.5ms | Allocations: 23374)


Started GET "/sign-in" for ::1 at 2025-03-23 01:50:42 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 911)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 30.0ms | Allocations: 17315)
Completed 200 OK in 78ms (Views: 37.2ms | ActiveRecord: 2.6ms | Allocations: 23287)


Started GET "/sign-in" for ::1 at 2025-03-23 01:50:52 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 903)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 31.2ms | Allocations: 17403)
Completed 200 OK in 53ms (Views: 38.8ms | ActiveRecord: 2.3ms | Allocations: 23334)


Started GET "/sign-in" for ::1 at 2025-03-23 01:50:52 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 4.1ms | Allocations: 482)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 10.4ms | Allocations: 2523)
Completed 200 OK in 14ms (Views: 11.1ms | ActiveRecord: 0.0ms | Allocations: 3149)


Started GET "/sign-in" for ::1 at 2025-03-23 01:51:35 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.7ms | Allocations: 910)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 33.9ms | Allocations: 17489)
Completed 200 OK in 76ms (Views: 40.7ms | ActiveRecord: 2.4ms | Allocations: 23458)


Started GET "/sign-in" for ::1 at 2025-03-23 01:52:30 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 902)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 206)
  Rendered layout layouts/application.html.erb (Duration: 39.7ms | Allocations: 17431)
Completed 200 OK in 61ms (Views: 46.3ms | ActiveRecord: 2.5ms | Allocations: 23400)


Started GET "/sign-in" for ::1 at 2025-03-23 01:53:03 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 908)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 31.4ms | Allocations: 17410)
Completed 200 OK in 77ms (Views: 38.2ms | ActiveRecord: 2.5ms | Allocations: 23395)


Started GET "/sign-in" for ::1 at 2025-03-23 01:53:30 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.7ms | Allocations: 907)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 30.7ms | Allocations: 17444)
Completed 200 OK in 75ms (Views: 37.7ms | ActiveRecord: 2.5ms | Allocations: 23415)


Started GET "/sign-in" for ::1 at 2025-03-23 01:53:31 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 482)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | Allocations: 2510)
Completed 200 OK in 11ms (Views: 8.0ms | ActiveRecord: 0.0ms | Allocations: 3148)


Started GET "/sign-in" for ::1 at 2025-03-23 01:53:36 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 908)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 30.2ms | Allocations: 17445)
Completed 200 OK in 80ms (Views: 38.7ms | ActiveRecord: 2.6ms | Allocations: 23407)


Started GET "/sign-in" for ::1 at 2025-03-23 01:53:37 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | Allocations: 482)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | Allocations: 2510)
Completed 200 OK in 11ms (Views: 8.0ms | ActiveRecord: 0.0ms | Allocations: 3154)


Started GET "/sign-in" for ::1 at 2025-03-23 01:53:41 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 906)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 30.2ms | Allocations: 17443)
Completed 200 OK in 52ms (Views: 36.9ms | ActiveRecord: 2.7ms | Allocations: 23417)


Started GET "/sign-in" for ::1 at 2025-03-23 01:53:47 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.9ms | Allocations: 905)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 30.5ms | Allocations: 17443)
Completed 200 OK in 73ms (Views: 37.4ms | ActiveRecord: 2.4ms | Allocations: 23373)


Started GET "/sign-in" for ::1 at 2025-03-23 01:53:47 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 482)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | Allocations: 2512)
Completed 200 OK in 11ms (Views: 7.9ms | ActiveRecord: 0.0ms | Allocations: 3147)


Started GET "/sign-in" for ::1 at 2025-03-23 01:53:51 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.7ms | Allocations: 910)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 30.7ms | Allocations: 17447)
Completed 200 OK in 73ms (Views: 37.5ms | ActiveRecord: 2.4ms | Allocations: 23421)


Started GET "/sign-in" for ::1 at 2025-03-23 01:54:10 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.7ms | Allocations: 907)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 31.1ms | Allocations: 17444)
Completed 200 OK in 75ms (Views: 38.2ms | ActiveRecord: 2.8ms | Allocations: 23424)


Started GET "/sign-in" for ::1 at 2025-03-23 01:54:11 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | Allocations: 482)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | Allocations: 2510)
Completed 200 OK in 11ms (Views: 7.3ms | ActiveRecord: 0.0ms | Allocations: 3136)


Started GET "/sign-in" for ::1 at 2025-03-23 01:54:35 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 913)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 30.7ms | Allocations: 17450)
Completed 200 OK in 51ms (Views: 37.5ms | ActiveRecord: 2.4ms | Allocations: 23436)


Started GET "/sign-in" for ::1 at 2025-03-23 01:54:36 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | Allocations: 482)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | Allocations: 2510)
Completed 200 OK in 10ms (Views: 7.3ms | ActiveRecord: 0.0ms | Allocations: 3148)


Started GET "/sign-in" for ::1 at 2025-03-23 01:55:05 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 4.8ms | Allocations: 907)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 62.9ms | Allocations: 17485)
Completed 200 OK in 97ms (Views: 70.4ms | ActiveRecord: 4.5ms | Allocations: 23461)


Started GET "/sign-in" for ::1 at 2025-03-23 01:55:06 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 482)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | Allocations: 2520)
Completed 200 OK in 11ms (Views: 7.4ms | ActiveRecord: 0.0ms | Allocations: 3158)


Started GET "/sign-in" for ::1 at 2025-03-23 01:55:16 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 907)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 206)
  Rendered layout layouts/application.html.erb (Duration: 34.6ms | Allocations: 17402)
Completed 200 OK in 78ms (Views: 41.6ms | ActiveRecord: 2.4ms | Allocations: 23383)


Started GET "/sign-in" for ::1 at 2025-03-23 01:55:44 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 902)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 206)
  Rendered layout layouts/application.html.erb (Duration: 35.2ms | Allocations: 17462)
Completed 200 OK in 79ms (Views: 42.3ms | ActiveRecord: 2.5ms | Allocations: 23413)


Started GET "/sign-in" for ::1 at 2025-03-23 01:55:46 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.9ms | Allocations: 482)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 2517)
Completed 200 OK in 11ms (Views: 7.6ms | ActiveRecord: 0.0ms | Allocations: 3149)


Started GET "/sign-in" for ::1 at 2025-03-23 01:56:02 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.7ms | Allocations: 908)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 31.9ms | Allocations: 17432)
Completed 200 OK in 79ms (Views: 38.9ms | ActiveRecord: 2.5ms | Allocations: 23438)


Started GET "/sign-in" for ::1 at 2025-03-23 01:56:03 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 482)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 2513)
Completed 200 OK in 11ms (Views: 7.7ms | ActiveRecord: 0.0ms | Allocations: 3145)


Started GET "/sign-in" for ::1 at 2025-03-23 01:57:00 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 917)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 33.0ms | Allocations: 17432)
Completed 200 OK in 76ms (Views: 39.9ms | ActiveRecord: 2.7ms | Allocations: 23404)


Started GET "/sign-in" for ::1 at 2025-03-23 01:57:18 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.7ms | Allocations: 917)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 31.4ms | Allocations: 17432)
Completed 200 OK in 76ms (Views: 38.5ms | ActiveRecord: 2.6ms | Allocations: 23389)


Started GET "/sign-in" for ::1 at 2025-03-23 01:57:39 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.7ms | Allocations: 914)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 31.0ms | Allocations: 17430)
Completed 200 OK in 74ms (Views: 37.8ms | ActiveRecord: 2.5ms | Allocations: 23378)


Started GET "/sign-in" for ::1 at 2025-03-23 01:57:40 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 482)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | Allocations: 2510)
Completed 200 OK in 11ms (Views: 7.8ms | ActiveRecord: 0.0ms | Allocations: 3145)


Started GET "/sign-in" for ::1 at 2025-03-23 01:57:48 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 5.2ms | Allocations: 909)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 68.2ms | Allocations: 17480)
Completed 200 OK in 101ms (Views: 76.1ms | ActiveRecord: 4.2ms | Allocations: 23434)


Started GET "/sign-in" for ::1 at 2025-03-23 01:57:58 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 909)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 34.6ms | Allocations: 17355)
Completed 200 OK in 56ms (Views: 41.4ms | ActiveRecord: 2.5ms | Allocations: 23336)


Started GET "/sign-in" for ::1 at 2025-03-23 01:58:17 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.7ms | Allocations: 913)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 206)
  Rendered layout layouts/application.html.erb (Duration: 33.7ms | Allocations: 17405)
Completed 200 OK in 78ms (Views: 40.6ms | ActiveRecord: 2.5ms | Allocations: 23371)


Started POST "/sign-in" for ::1 at 2025-03-23 01:58:24 -0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user1", "password"=>"[FILTERED]"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:12:in `create'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 2149)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 19)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | Allocations: 4176)
Completed 200 OK in 13ms (Views: 8.1ms | ActiveRecord: 0.2ms | Allocations: 5500)


Started POST "/sign-in" for ::1 at 2025-03-23 01:58:29 -0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "username"=>"user1", "password"=>"[FILTERED]", "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "user1"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:12:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 187ms (ActiveRecord: 0.1ms | Allocations: 1126)


Started GET "/" for ::1 at 2025-03-23 01:58:29 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.8ms | Allocations: 2918)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | Allocations: 4957)
Completed 200 OK in 32ms (Views: 14.3ms | ActiveRecord: 0.4ms | Allocations: 14177)


Started GET "/" for ::1 at 2025-03-23 01:58:47 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 4.1ms | Allocations: 2935)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 33.1ms | Allocations: 19467)
Completed 200 OK in 67ms (Views: 40.1ms | ActiveRecord: 3.1ms | Allocations: 33865)


Started DELETE "/sign-out" for ::1 at 2025-03-23 01:58:58 -0700
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
Redirected to http://localhost:3000/
Completed 302 Found in 9ms (ActiveRecord: 0.1ms | Allocations: 970)


Started GET "/" for ::1 at 2025-03-23 01:58:58 -0700
Processing by MainController#home as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.9ms | Allocations: 537)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | Allocations: 2627)
Completed 200 OK in 11ms (Views: 8.1ms | ActiveRecord: 0.0ms | Allocations: 3329)


Started GET "/sign-in" for ::1 at 2025-03-23 01:58:59 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 835)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | Allocations: 2867)
Completed 200 OK in 18ms (Views: 12.2ms | ActiveRecord: 0.0ms | Allocations: 3699)


Started GET "/sign-in" for ::1 at 2025-03-23 01:59:30 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1049)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 31.2ms | Allocations: 17502)
Completed 200 OK in 81ms (Views: 38.4ms | ActiveRecord: 2.5ms | Allocations: 23483)


Started GET "/sign-in" for ::1 at 2025-03-23 02:00:00 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1050)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 31.4ms | Allocations: 17502)
Completed 200 OK in 77ms (Views: 38.7ms | ActiveRecord: 2.6ms | Allocations: 23468)


Started GET "/sign-in" for ::1 at 2025-03-23 02:00:26 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 971)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 31.1ms | Allocations: 17424)
Completed 200 OK in 81ms (Views: 38.5ms | ActiveRecord: 2.5ms | Allocations: 23402)


Started GET "/sign-in" for ::1 at 2025-03-23 02:00:27 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 507)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | Allocations: 2541)
Completed 200 OK in 15ms (Views: 12.1ms | ActiveRecord: 0.0ms | Allocations: 3188)


Started GET "/sign-in" for ::1 at 2025-03-23 02:00:28 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 507)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | Allocations: 2537)
Completed 200 OK in 11ms (Views: 7.9ms | ActiveRecord: 0.0ms | Allocations: 3172)


Started GET "/sign-in" for ::1 at 2025-03-23 02:00:39 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.9ms | Allocations: 507)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | Allocations: 2538)
Completed 200 OK in 11ms (Views: 7.7ms | ActiveRecord: 0.0ms | Allocations: 3179)


Started GET "/sign-in" for ::1 at 2025-03-23 02:00:47 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 969)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 31.8ms | Allocations: 17505)
Completed 200 OK in 78ms (Views: 38.8ms | ActiveRecord: 2.4ms | Allocations: 23467)


Started GET "/sign-in" for ::1 at 2025-03-23 02:00:48 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 507)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | Allocations: 2535)
Completed 200 OK in 12ms (Views: 8.2ms | ActiveRecord: 0.0ms | Allocations: 3173)


Started GET "/sign-up" for ::1 at 2025-03-23 02:00:50 -0700
Processing by RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1302)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 3334)
Completed 200 OK in 19ms (Views: 14.6ms | ActiveRecord: 0.0ms | Allocations: 4201)


Started POST "/sign-in" for ::1 at 2025-03-23 02:00:54 -0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"", "password"=>"[FILTERED]"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:12:in `create'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.1ms | Allocations: 2158)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 19)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | Allocations: 4178)
Completed 200 OK in 13ms (Views: 8.2ms | ActiveRecord: 0.2ms | Allocations: 5450)


Started POST "/sign-in" for ::1 at 2025-03-23 02:00:55 -0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "username"=>"", "password"=>"[FILTERED]", "commit"=>"Sign In"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", ""], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:12:in `create'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.3ms | Allocations: 2156)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 19)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | Allocations: 4176)
Completed 200 OK in 14ms (Views: 8.8ms | ActiveRecord: 0.1ms | Allocations: 5311)


Started POST "/sign-in" for ::1 at 2025-03-23 02:01:00 -0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "username"=>"user1", "password"=>"[FILTERED]", "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "user1"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:12:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 186ms (ActiveRecord: 0.1ms | Allocations: 984)


Started GET "/" for ::1 at 2025-03-23 02:01:01 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.3ms | Allocations: 2915)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 29)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 4983)
Completed 200 OK in 32ms (Views: 13.7ms | ActiveRecord: 0.5ms | Allocations: 14175)


Started GET "/" for ::1 at 2025-03-23 06:51:15 -0700
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 85.8ms | Allocations: 4327)
  Rendered shared/_flash.html.erb (Duration: 0.8ms | Allocations: 237)
  Rendered layout layouts/application.html.erb (Duration: 514.9ms | Allocations: 39939)
Completed 200 OK in 1480ms (Views: 647.4ms | ActiveRecord: 3.7ms | Allocations: 74095)


Started DELETE "/sign-out" for ::1 at 2025-03-23 06:51:26 -0700
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
Redirected to http://localhost:3000/
Completed 302 Found in 6ms (ActiveRecord: 0.1ms | Allocations: 1098)


Started GET "/" for ::1 at 2025-03-23 06:51:26 -0700
Processing by MainController#home as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.3ms | Allocations: 543)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 30)
  Rendered layout layouts/application.html.erb (Duration: 17.5ms | Allocations: 2628)
Completed 200 OK in 24ms (Views: 18.4ms | ActiveRecord: 0.0ms | Allocations: 3332)


Started GET "/sign-in" for ::1 at 2025-03-23 06:51:27 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 23.1ms | Allocations: 1179)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 35.6ms | Allocations: 3212)
Completed 200 OK in 87ms (Views: 41.9ms | ActiveRecord: 0.0ms | Allocations: 4053)


Started GET "/sign-up" for ::1 at 2025-03-23 06:51:28 -0700
Processing by RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 8.0ms | Allocations: 1403)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 21.4ms | Allocations: 3440)
Completed 200 OK in 72ms (Views: 27.8ms | ActiveRecord: 0.0ms | Allocations: 4302)


Started GET "/sign-up" for ::1 at 2025-03-23 06:51:44 -0700
Processing by RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1426)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 44.3ms | Allocations: 17990)
Completed 200 OK in 102ms (Views: 51.8ms | ActiveRecord: 2.5ms | Allocations: 23954)


Started GET "/sign-up" for ::1 at 2025-03-23 06:52:25 -0700
Processing by RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1423)
  Rendered shared/_flash.html.erb (Duration: 0.8ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 43.5ms | Allocations: 17946)
Completed 200 OK in 114ms (Views: 51.1ms | ActiveRecord: 2.9ms | Allocations: 23935)


Started GET "/sign-up" for ::1 at 2025-03-23 06:52:33 -0700
Processing by RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1425)
  Rendered shared/_flash.html.erb (Duration: 2.1ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 48.7ms | Allocations: 17948)
Completed 200 OK in 81ms (Views: 59.3ms | ActiveRecord: 4.0ms | Allocations: 23920)


Started GET "/sign-up" for ::1 at 2025-03-23 06:53:21 -0700
Processing by RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1426)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 35.2ms | Allocations: 17974)
Completed 200 OK in 88ms (Views: 42.3ms | ActiveRecord: 2.4ms | Allocations: 23923)


Started GET "/sign-up" for ::1 at 2025-03-23 06:54:05 -0700
Processing by RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1426)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 31.7ms | Allocations: 17962)
Completed 200 OK in 52ms (Views: 38.3ms | ActiveRecord: 2.5ms | Allocations: 23930)


Started GET "/sign-up" for ::1 at 2025-03-23 06:54:07 -0700
Processing by RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 817)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 2845)
Completed 200 OK in 11ms (Views: 7.5ms | ActiveRecord: 0.0ms | Allocations: 3477)


Started GET "/sign-up" for ::1 at 2025-03-23 06:54:12 -0700
Processing by RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1425)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 36.2ms | Allocations: 17995)
Completed 200 OK in 56ms (Views: 43.1ms | ActiveRecord: 2.7ms | Allocations: 23971)


Started GET "/sign-up" for ::1 at 2025-03-23 06:54:51 -0700
Processing by RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1424)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 31.7ms | Allocations: 17960)
Completed 200 OK in 55ms (Views: 38.3ms | ActiveRecord: 2.5ms | Allocations: 23926)


Started GET "/sign-up" for ::1 at 2025-03-23 06:54:52 -0700
Processing by RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 817)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | Allocations: 2845)
Completed 200 OK in 11ms (Views: 8.0ms | ActiveRecord: 0.0ms | Allocations: 3480)


Started GET "/sign-up" for ::1 at 2025-03-23 06:55:03 -0700
Processing by RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1425)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 36.4ms | Allocations: 17995)
Completed 200 OK in 58ms (Views: 43.3ms | ActiveRecord: 2.4ms | Allocations: 23965)


Started GET "/sign-up" for ::1 at 2025-03-23 06:55:04 -0700
Processing by RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 1.1ms | Allocations: 817)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 2852)
Completed 200 OK in 13ms (Views: 9.4ms | ActiveRecord: 0.0ms | Allocations: 3481)


Started GET "/sign-up" for ::1 at 2025-03-23 06:55:32 -0700
Processing by RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1426)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 30.9ms | Allocations: 17963)
Completed 200 OK in 51ms (Views: 37.6ms | ActiveRecord: 2.5ms | Allocations: 23929)


Started GET "/sign-up" for ::1 at 2025-03-23 06:55:33 -0700
Processing by RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 1.2ms | Allocations: 817)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | Allocations: 2875)
Completed 200 OK in 12ms (Views: 8.5ms | ActiveRecord: 0.0ms | Allocations: 3508)


Started GET "/sign-up" for ::1 at 2025-03-23 06:55:34 -0700
Processing by RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 1.3ms | Allocations: 817)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | Allocations: 2847)
Completed 200 OK in 12ms (Views: 8.5ms | ActiveRecord: 0.0ms | Allocations: 3471)


Started GET "/sign-in" for ::1 at 2025-03-23 06:55:52 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1069)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 32.5ms | Allocations: 17606)
Completed 200 OK in 83ms (Views: 39.7ms | ActiveRecord: 2.6ms | Allocations: 23599)


Started GET "/sign-in" for ::1 at 2025-03-23 06:56:10 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1067)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 30.8ms | Allocations: 17603)
Completed 200 OK in 79ms (Views: 37.7ms | ActiveRecord: 2.3ms | Allocations: 23584)


Started GET "/sign-in" for ::1 at 2025-03-23 06:56:11 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 510)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | Allocations: 2568)
Completed 200 OK in 11ms (Views: 8.0ms | ActiveRecord: 0.0ms | Allocations: 3204)


Started GET "/sign-in" for ::1 at 2025-03-23 06:56:34 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1070)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 35.2ms | Allocations: 17606)
Completed 200 OK in 89ms (Views: 43.5ms | ActiveRecord: 2.5ms | Allocations: 23585)


Started GET "/sign-in" for ::1 at 2025-03-23 06:57:37 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1070)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 34.4ms | Allocations: 17540)
Completed 200 OK in 82ms (Views: 41.3ms | ActiveRecord: 2.6ms | Allocations: 23510)


Started GET "/sign-in" for ::1 at 2025-03-23 06:57:42 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1069)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 31.4ms | Allocations: 17605)
Completed 200 OK in 82ms (Views: 38.2ms | ActiveRecord: 2.5ms | Allocations: 23581)


Started GET "/sign-in" for ::1 at 2025-03-23 06:59:57 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1076)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 33.7ms | Allocations: 17635)
Completed 200 OK in 80ms (Views: 40.8ms | ActiveRecord: 2.4ms | Allocations: 23611)


Started GET "/sign-in" for ::1 at 2025-03-23 07:01:26 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1078)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 33.5ms | Allocations: 17614)
Completed 200 OK in 82ms (Views: 40.4ms | ActiveRecord: 2.4ms | Allocations: 23580)


Started GET "/sign-in" for ::1 at 2025-03-23 07:02:21 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1079)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 36.1ms | Allocations: 17626)
Completed 200 OK in 88ms (Views: 43.2ms | ActiveRecord: 2.6ms | Allocations: 23583)


Started GET "/sign-in" for ::1 at 2025-03-23 07:02:37 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1075)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 206)
  Rendered layout layouts/application.html.erb (Duration: 38.3ms | Allocations: 17614)
Completed 200 OK in 60ms (Views: 46.0ms | ActiveRecord: 2.6ms | Allocations: 23559)


Started GET "/sign-up" for ::1 at 2025-03-23 07:02:38 -0700
Processing by RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1359)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | Allocations: 3396)
Completed 200 OK in 50ms (Views: 13.2ms | ActiveRecord: 0.0ms | Allocations: 4250)


Started GET "/sign-up" for ::1 at 2025-03-23 07:03:49 -0700
Processing by RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1447)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 33.3ms | Allocations: 18046)
Completed 200 OK in 84ms (Views: 40.2ms | ActiveRecord: 3.1ms | Allocations: 24018)


Started GET "/sign-in" for ::1 at 2025-03-23 07:03:53 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.5ms | Allocations: 990)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | Allocations: 3029)
Completed 200 OK in 19ms (Views: 13.8ms | ActiveRecord: 0.0ms | Allocations: 3868)


Started GET "/sign-up" for ::1 at 2025-03-23 07:03:56 -0700
Processing by RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 3.7ms | Allocations: 817)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 19.8ms | Allocations: 2846)
Completed 200 OK in 24ms (Views: 20.6ms | ActiveRecord: 0.0ms | Allocations: 3478)


Started GET "/sign-up" for ::1 at 2025-03-23 07:04:30 -0700
Processing by RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1451)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 35.0ms | Allocations: 18019)
Completed 200 OK in 88ms (Views: 42.0ms | ActiveRecord: 2.4ms | Allocations: 23991)


Started GET "/sign-up" for ::1 at 2025-03-23 07:04:45 -0700
Processing by RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1451)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 33.2ms | Allocations: 17970)
Completed 200 OK in 85ms (Views: 40.1ms | ActiveRecord: 7.6ms | Allocations: 23942)


Started GET "/sign-in" for ::1 at 2025-03-23 07:05:38 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1087)
  Rendered shared/_flash.html.erb (Duration: 0.8ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 33.9ms | Allocations: 17683)
Completed 200 OK in 82ms (Views: 40.7ms | ActiveRecord: 2.4ms | Allocations: 23638)


Started GET "/" for ::1 at 2025-03-23 07:05:42 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.8ms | Allocations: 2654)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 14.3ms | Allocations: 4700)
Completed 200 OK in 105ms (Views: 19.3ms | ActiveRecord: 0.3ms | Allocations: 10805)


Started GET "/" for ::1 at 2025-03-23 07:05:42 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.8ms | Allocations: 531)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 15.2ms | Allocations: 2559)
Completed 200 OK in 24ms (Views: 16.1ms | ActiveRecord: 0.0ms | Allocations: 3194)


Started GET "/sign-in" for ::1 at 2025-03-23 07:05:45 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 3.2ms | Allocations: 510)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 16.8ms | Allocations: 2542)
Completed 200 OK in 24ms (Views: 18.5ms | ActiveRecord: 0.0ms | Allocations: 3178)


Started POST "/sign-in" for ::1 at 2025-03-23 07:05:49 -0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user1", "password"=>"[FILTERED]"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:12:in `create'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 22.7ms | Allocations: 1399)
  Rendered layout layouts/application.html.erb (Duration: 23.4ms | Allocations: 1484)
Completed 500 Internal Server Error in 29ms (ActiveRecord: 0.2ms | Allocations: 2819)


  
ActionView::Template::Error (undefined method `errors' for nil):
    110:   </style>
    111: </head>
    112: 
    113: <% if @user.errors.any? %>
    114:     <div class="alert alert-danger">
    115:         <% @user.errors.full_messages.each do |messages| %>
    116:         <div><%= messages %></div>
  
app/views/sessions/new.html.erb:113
app/controllers/sessions_controller.rb:18:in `create'
Started POST "/sign-in" for ::1 at 2025-03-23 07:06:02 -0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user1", "password"=>"[FILTERED]"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:12:in `create'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 2623)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 198)
  Rendered layout layouts/application.html.erb (Duration: 31.8ms | Allocations: 19151)
Completed 200 OK in 77ms (Views: 64.8ms | ActiveRecord: 2.6ms | Allocations: 22953)


Started POST "/sign-in" for ::1 at 2025-03-23 07:06:06 -0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "username"=>"user1", "password"=>"[FILTERED]", "commit"=>"Sign In"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "user1"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:12:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 189ms (ActiveRecord: 0.3ms | Allocations: 3966)


Started GET "/" for ::1 at 2025-03-23 07:06:06 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.7ms | Allocations: 2877)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layout layouts/application.html.erb (Duration: 9.9ms | Allocations: 4945)
Completed 200 OK in 34ms (Views: 14.9ms | ActiveRecord: 0.5ms | Allocations: 14148)


Started GET "/get" for ::1 at 2025-03-23 07:07:10 -0700
  
ActionController::RoutingError (No route matches [GET] "/get"):
  
Started POST "/good_feed" for ::1 at 2025-03-23 07:31:14 -0700
  
SyntaxError (C:/Users/James/Documents/.Desktop_Docs/Code/Ruby/biztech/promptflow/app/controllers/goodfeedback_controller.rb:37: syntax error, unexpected '\n', expecting =>
...s.system_prompt, @ps.like_count
...                               ^
):
  
app/controllers/goodfeedback_controller.rb:37: syntax error, unexpected '\n', expecting =>
Started POST "/good_feed" for ::1 at 2025-03-23 07:31:27 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001bb9a508d48>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001bb9a508d48>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:4:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001bb9a508d48>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
  [1m[36mGoodFeedback Create (2.3ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "AAAAAAAAA."], ["created_at", "2025-03-23 14:31:27.266005"], ["updated_at", "2025-03-23 14:31:27.266005"]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
Completed 500 Internal Server Error in 48ms (ActiveRecord: 6.5ms | Allocations: 13576)


  
NameError (uninitialized constant Net::HTTP):
  
app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
Started POST "/good_feed" for ::1 at 2025-03-23 07:31:49 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001bb9bd99420>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001bb9bd99420>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001bb9bd99420>, params: {"prompt_session_id"=>1, "comment"=>"AAAAAAAAA.", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"AAAAAAAAA."}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.5ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "AAAAAAAAA."], ["created_at", "2025-03-23 14:31:50.540119"], ["updated_at", "2025-03-23 14:31:50.540119"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:40:in `get_feedback'
  [1m[36mPromptSession Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:40:in `get_feedback'
  [1m[36mPromptSession Update (0.5ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "system_prompt" = ?, "like_count" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["system_prompt", "AAAAAAAAAAAA"], ["like_count", 5], ["updated_at", "2025-03-23 14:31:55.043692"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:40:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:40:in `get_feedback'
Completed 200 OK in 4532ms (Views: 0.1ms | ActiveRecord: 8.4ms | Allocations: 15770)


Started POST "/good_feed" for ::1 at 2025-03-23 07:32:33 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Change the system prompt into 'you are a 10x customer service agent.'", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Change the system prompt into 'you are a 10x customer service agent.'"}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001bb9aa2a010>, params: {"prompt_session_id"=>1, "comment"=>"Change the system prompt into 'you are a 10x customer service agent.'", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Change the system prompt into 'you are a 10x customer service agent.'"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001bb9aa2a010>, params: {"prompt_session_id"=>1, "comment"=>"Change the system prompt into 'you are a 10x customer service agent.'", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Change the system prompt into 'you are a 10x customer service agent.'"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001bb9aa2a010>, params: {"prompt_session_id"=>1, "comment"=>"Change the system prompt into 'you are a 10x customer service agent.'", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Change the system prompt into 'you are a 10x customer service agent.'"}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.0ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Change the system prompt into 'you are a 10x customer service agent.'"], ["created_at", "2025-03-23 14:32:33.756776"], ["updated_at", "2025-03-23 14:32:33.756776"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:40:in `get_feedback'
  [1m[36mPromptSession Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:40:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "system_prompt" = ?, "like_count" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["system_prompt", "You are a 10x customer service agent.  \n"], ["like_count", 6], ["updated_at", "2025-03-23 14:32:34.156319"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:40:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:40:in `get_feedback'
Completed 200 OK in 409ms (Views: 0.1ms | ActiveRecord: 2.9ms | Allocations: 4969)


Started POST "/good_feed" for ::1 at 2025-03-23 07:32:43 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Change the system prompt into 'you are a 10x customer service agent. but make the wording better'", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Change the system prompt into 'you are a 10x customer service agent. but make the wording better'"}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001bb9865d218>, params: {"prompt_session_id"=>1, "comment"=>"Change the system prompt into 'you are a 10x customer service agent. but make the wording better'", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Change the system prompt into 'you are a 10x customer service agent. but make the wording better'"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001bb9865d218>, params: {"prompt_session_id"=>1, "comment"=>"Change the system prompt into 'you are a 10x customer service agent. but make the wording better'", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Change the system prompt into 'you are a 10x customer service agent. but make the wording better'"}} }[0m
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001bb9865d218>, params: {"prompt_session_id"=>1, "comment"=>"Change the system prompt into 'you are a 10x customer service agent. but make the wording better'", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Change the system prompt into 'you are a 10x customer service agent. but make the wording better'"}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.0ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Change the system prompt into 'you are a 10x customer service agent. but make the wording better'"], ["created_at", "2025-03-23 14:32:43.319084"], ["updated_at", "2025-03-23 14:32:43.319084"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:40:in `get_feedback'
  [1m[36mPromptSession Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:40:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "system_prompt" = ?, "like_count" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["system_prompt", "You are a top-performing customer service expert. \n"], ["like_count", 7], ["updated_at", "2025-03-23 14:32:43.692910"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:40:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:40:in `get_feedback'
Completed 200 OK in 384ms (Views: 0.1ms | ActiveRecord: 2.7ms | Allocations: 4915)


Started POST "/good_feed" for ::1 at 2025-03-23 07:33:21 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"The agent is not friendly to me", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The agent is not friendly to me"}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001bb9e1191c0>, params: {"prompt_session_id"=>1, "comment"=>"The agent is not friendly to me", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The agent is not friendly to me"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001bb9e1191c0>, params: {"prompt_session_id"=>1, "comment"=>"The agent is not friendly to me", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The agent is not friendly to me"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001bb9e1191c0>, params: {"prompt_session_id"=>1, "comment"=>"The agent is not friendly to me", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The agent is not friendly to me"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.1ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "The agent is not friendly to me"], ["created_at", "2025-03-23 14:33:21.717836"], ["updated_at", "2025-03-23 14:33:21.717836"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
Completed 500 Internal Server Error in 523ms (ActiveRecord: 5.4ms | Allocations: 12572)


  
NoMethodError (undefined method `feedback=' for an instance of PromptSession):
  
app/controllers/goodfeedback_controller.rb:35:in `get_feedback'
Started POST "/good_feed" for ::1 at 2025-03-23 07:33:51 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"The agent is not friendly to me", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The agent is not friendly to me"}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001bb9bd594d8>, params: {"prompt_session_id"=>1, "comment"=>"The agent is not friendly to me", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The agent is not friendly to me"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001bb9bd594d8>, params: {"prompt_session_id"=>1, "comment"=>"The agent is not friendly to me", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The agent is not friendly to me"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000001bb9bd594d8>, params: {"prompt_session_id"=>1, "comment"=>"The agent is not friendly to me", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The agent is not friendly to me"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.0ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "The agent is not friendly to me"], ["created_at", "2025-03-23 14:33:51.340516"], ["updated_at", "2025-03-23 14:33:51.340516"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:40:in `get_feedback'
  [1m[36mPromptSession Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:40:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "ai_feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 8], ["ai_feedback", "You are a top-performing customer service expert known for your friendly and helpful demeanor.  \n"], ["updated_at", "2025-03-23 14:33:51.743649"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:40:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:40:in `get_feedback'
Completed 200 OK in 429ms (Views: 0.2ms | ActiveRecord: 7.3ms | Allocations: 14940)


  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-03-23 14:40:09.647160', '2025-03-23 14:40:09.647163') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20250322211111)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "password_digest" varchar, "session_token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322211111') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePromptSessions (20250322224855)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "prompt_sessions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "uid" integer, "system_prompt" varchar, "like_count" integer, "dislike_count" integer, "feedback" varchar, "similarity" integer, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_8e5cfb463f"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_prompt_sessions_on_user_id" ON "prompt_sessions" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322224855') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateGoodFeedbacks (20250322233105)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "good_feedbacks" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "prompt_session_id" integer NOT NULL, "comment" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_d830e5dfaa"
FOREIGN KEY ("prompt_session_id")
  REFERENCES "prompt_sessions" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_good_feedbacks_on_prompt_session_id" ON "good_feedbacks" ("prompt_session_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322233105') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateBadFeedbacks (20250322233120)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "bad_feedbacks" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "prompt_session_id" integer NOT NULL, "comment" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a944aabc96"
FOREIGN KEY ("prompt_session_id")
  REFERENCES "prompt_sessions" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bad_feedbacks_on_prompt_session_id" ON "bad_feedbacks" ("prompt_session_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322233120') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2025-03-23 07:40:20 -0700
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 9.8ms | Allocations: 4000)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 237)
  Rendered layout layouts/application.html.erb (Duration: 113.4ms | Allocations: 40338)
Completed 200 OK in 273ms (Views: 126.7ms | ActiveRecord: 3.0ms | Allocations: 66710)


Started GET "/sign-in" for ::1 at 2025-03-23 07:40:23 -0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1135)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 10.0ms | Allocations: 3171)
Completed 200 OK in 27ms (Views: 14.8ms | ActiveRecord: 0.2ms | Allocations: 8503)


Started POST "/sign-in" for ::1 at 2025-03-23 07:40:25 -0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user1", "password"=>"[FILTERED]"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:12:in `create'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 2175)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 22)
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | Allocations: 4233)
Completed 200 OK in 15ms (Views: 8.5ms | ActiveRecord: 0.2ms | Allocations: 5858)


Started POST "/sign-in" for ::1 at 2025-03-23 07:40:29 -0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "username"=>"user1", "password"=>"[FILTERED]", "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "user1"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:12:in `create'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.9ms | Allocations: 2157)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 19)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | Allocations: 4189)
Completed 200 OK in 14ms (Views: 8.3ms | ActiveRecord: 0.2ms | Allocations: 5700)


Started GET "/sign-up" for ::1 at 2025-03-23 07:40:31 -0700
Processing by RegistrationsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1431)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layout layouts/application.html.erb (Duration: 10.4ms | Allocations: 3468)
Completed 200 OK in 23ms (Views: 16.4ms | ActiveRecord: 0.1ms | Allocations: 4673)


Started POST "/sign-up" for ::1 at 2025-03-23 07:40:37 -0700
Processing by RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user1", "email"=>"user@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (3.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "user1"], ["LIMIT", 1]]
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "session_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["username", "user1"], ["email", "user@email.com"], ["password_digest", "[FILTERED]"], ["session_token", "[FILTERED]"], ["created_at", "2025-03-23 14:40:37.294790"], ["updated_at", "2025-03-23 14:40:37.294790"]]
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 208ms (ActiveRecord: 4.8ms | Allocations: 5287)


Started GET "/" for ::1 at 2025-03-23 07:40:37 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.4ms | Allocations: 649)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 14.7ms | Allocations: 2683)
Completed 200 OK in 48ms (Views: 18.8ms | ActiveRecord: 0.2ms | Allocations: 6992)


Started POST "/new_prompt" for ::1 at 2025-03-23 07:40:49 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "system_prompt"=>"You are a 10x customer service agent"}, "commit"=>"Create form"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Create (0.2ms)[0m  [1m[32mINSERT INTO "prompt_sessions" ("uid", "system_prompt", "like_count", "dislike_count", "feedback", "similarity", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["uid", 1], ["system_prompt", "You are a 10x customer service agent"], ["like_count", 0], ["dislike_count", 0], ["feedback", nil], ["similarity", nil], ["user_id", 1], ["created_at", "2025-03-23 14:40:49.222049"], ["updated_at", "2025-03-23 14:40:49.222049"]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
Completed 200 OK in 18ms (Views: 0.2ms | ActiveRecord: 1.5ms | Allocations: 6052)


Started GET "/" for ::1 at 2025-03-23 07:40:58 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.0ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1577)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | Allocations: 1662)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.1ms | Allocations: 3193)


  
ActionView::Template::Error (divided by 0):
    546:             <div>
    547:               <svg class="chart" width="150" height="150" viewBox="0 0 150 150">
    548:                 <circle cx="75" cy="75" r="60" fill="transparent" stroke="#FF0000" stroke-width="20"></circle>
    549:                 <circle id="likeCircle" cx="75" cy="75" r="60" fill="transparent" stroke="#008000" stroke-width="20" stroke-dasharray="<%= 377 * (@pss.first.like_count / (@pss.first.like_count + @pss.first.dislike_count)) %> <%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count)) %>" stroke-dashoffset="0"></circle>
    550: 
    551:                 <circle cx="75" cy="75" r="40" fill="white"></circle>
    552:               </svg>
  
app/views/main/home.html.erb:549:in `/'
app/views/main/home.html.erb:549
Started GET "/" for ::1 at 2025-03-23 07:43:13 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.0ms | Allocations: 3233)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | Allocations: 3319)
Completed 500 Internal Server Error in 111ms (ActiveRecord: 3.1ms | Allocations: 17917)


  
ActionView::Template::Error (divided by 0):
    546:             <div>
    547:               <svg class="chart" width="150" height="150" viewBox="0 0 150 150">
    548:                 <circle cx="75" cy="75" r="60" fill="transparent" stroke="#FF0000" stroke-width="20"></circle>
    549:                 <circle id="likeCircle" cx="75" cy="75" r="60" fill="transparent" stroke="#008000" stroke-width="20" stroke-dasharray="<%= 377 * (@pss.first.like_count / (@pss.first.like_count + @pss.first.dislike_count == 0 ? 0 : @pss.first.like_count + @pss.first.dislike_count)) %> <%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count == 0 ? 0 : @pss.first.like_count + @pss.first.dislike_count)) %> <%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count)) %>" stroke-dashoffset="0"></circle>
    550: 
    551:                 <circle cx="75" cy="75" r="40" fill="white"></circle>
    552:               </svg>
  
app/views/main/home.html.erb:549:in `/'
app/views/main/home.html.erb:549
Started GET "/" for ::1 at 2025-03-23 07:43:47 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 6.4ms | Allocations: 3231)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 3317)
Completed 500 Internal Server Error in 110ms (ActiveRecord: 3.2ms | Allocations: 17907)


  
ActionView::Template::Error (divided by 0):
    546:             <div>
    547:               <svg class="chart" width="150" height="150" viewBox="0 0 150 150">
    548:                 <circle cx="75" cy="75" r="60" fill="transparent" stroke="#FF0000" stroke-width="20"></circle>
    549:                 <circle id="likeCircle" cx="75" cy="75" r="60" fill="transparent" stroke="#008000" stroke-width="20" stroke-dasharray="<%= 377 * (@pss.first.like_count / (@pss.first.like_count + @pss.first.dislike_count == 0 ? 0 : @pss.first.like_count + @pss.first.dislike_count)) %> <%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count == 1 ? 0 : @pss.first.like_count + @pss.first.dislike_count)) %> <%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count == 1 ? 0 : @pss.first.like_count + @pss.first.dislike_count)) %>" stroke-dashoffset="0"></circle>
    550: 
    551:                 <circle cx="75" cy="75" r="40" fill="white"></circle>
    552:               </svg>
  
app/views/main/home.html.erb:549:in `/'
app/views/main/home.html.erb:549
Started GET "/" for ::1 at 2025-03-23 07:43:50 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.9ms | Allocations: 1158)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | Allocations: 1243)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.2ms | Allocations: 2728)


  
ActionView::Template::Error (divided by 0):
    546:             <div>
    547:               <svg class="chart" width="150" height="150" viewBox="0 0 150 150">
    548:                 <circle cx="75" cy="75" r="60" fill="transparent" stroke="#FF0000" stroke-width="20"></circle>
    549:                 <circle id="likeCircle" cx="75" cy="75" r="60" fill="transparent" stroke="#008000" stroke-width="20" stroke-dasharray="<%= 377 * (@pss.first.like_count / (@pss.first.like_count + @pss.first.dislike_count == 0 ? 0 : @pss.first.like_count + @pss.first.dislike_count)) %> <%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count == 1 ? 0 : @pss.first.like_count + @pss.first.dislike_count)) %> <%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count == 1 ? 0 : @pss.first.like_count + @pss.first.dislike_count)) %>" stroke-dashoffset="0"></circle>
    550: 
    551:                 <circle cx="75" cy="75" r="40" fill="white"></circle>
    552:               </svg>
  
app/views/main/home.html.erb:549:in `/'
app/views/main/home.html.erb:549
Started GET "/" for ::1 at 2025-03-23 07:44:08 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.8ms | Allocations: 3229)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | Allocations: 3315)
Completed 500 Internal Server Error in 114ms (ActiveRecord: 3.0ms | Allocations: 17963)


  
ActionView::Template::Error (divided by 0):
    546:             <div>
    547:               <svg class="chart" width="150" height="150" viewBox="0 0 150 150">
    548:                 <circle cx="75" cy="75" r="60" fill="transparent" stroke="#FF0000" stroke-width="20"></circle>
    549:                 <circle id="likeCircle" cx="75" cy="75" r="60" fill="transparent" stroke="#008000" stroke-width="20" stroke-dasharray="<%= 377 * (@pss.first.like_count / (@pss.first.like_count + @pss.first.dislike_count == 0 ? 0 : @pss.first.like_count + @pss.first.dislike_count)) %> <%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count == 0 ? 1 : @pss.first.like_count + @pss.first.dislike_count)) %> <%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count == 0 ? 1 : @pss.first.like_count + @pss.first.dislike_count)) %>" stroke-dashoffset="0"></circle>
    550: 
    551:                 <circle cx="75" cy="75" r="40" fill="white"></circle>
    552:               </svg>
  
app/views/main/home.html.erb:549:in `/'
app/views/main/home.html.erb:549
Started GET "/sign-in" for ::1 at 2025-03-23 07:44:20 -0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 990)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 34.0ms | Allocations: 17527)
Completed 200 OK in 58ms (Views: 40.8ms | ActiveRecord: 2.8ms | Allocations: 24632)


Started GET "/" for ::1 at 2025-03-23 07:44:23 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.6ms | Allocations: 3193)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | Allocations: 3278)
Completed 500 Internal Server Error in 98ms (ActiveRecord: 0.5ms | Allocations: 12068)


  
ActionView::Template::Error (divided by 0):
    546:             <div>
    547:               <svg class="chart" width="150" height="150" viewBox="0 0 150 150">
    548:                 <circle cx="75" cy="75" r="60" fill="transparent" stroke="#FF0000" stroke-width="20"></circle>
    549:                 <circle id="likeCircle" cx="75" cy="75" r="60" fill="transparent" stroke="#008000" stroke-width="20" stroke-dasharray="<%= 377 * (@pss.first.like_count / (@pss.first.like_count + @pss.first.dislike_count == 0 ? 0 : @pss.first.like_count + @pss.first.dislike_count)) %> <%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count == 0 ? 1 : @pss.first.like_count + @pss.first.dislike_count)) %> <%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count == 0 ? 1 : @pss.first.like_count + @pss.first.dislike_count)) %>" stroke-dashoffset="0"></circle>
    550: 
    551:                 <circle cx="75" cy="75" r="40" fill="white"></circle>
    552:               </svg>
  
app/views/main/home.html.erb:549:in `/'
app/views/main/home.html.erb:549
Started GET "/" for ::1 at 2025-03-23 07:44:24 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.8ms | Allocations: 1158)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | Allocations: 1243)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.2ms | Allocations: 2743)


  
ActionView::Template::Error (divided by 0):
    546:             <div>
    547:               <svg class="chart" width="150" height="150" viewBox="0 0 150 150">
    548:                 <circle cx="75" cy="75" r="60" fill="transparent" stroke="#FF0000" stroke-width="20"></circle>
    549:                 <circle id="likeCircle" cx="75" cy="75" r="60" fill="transparent" stroke="#008000" stroke-width="20" stroke-dasharray="<%= 377 * (@pss.first.like_count / (@pss.first.like_count + @pss.first.dislike_count == 0 ? 0 : @pss.first.like_count + @pss.first.dislike_count)) %> <%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count == 0 ? 1 : @pss.first.like_count + @pss.first.dislike_count)) %> <%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count == 0 ? 1 : @pss.first.like_count + @pss.first.dislike_count)) %>" stroke-dashoffset="0"></circle>
    550: 
    551:                 <circle cx="75" cy="75" r="40" fill="white"></circle>
    552:               </svg>
  
app/views/main/home.html.erb:549:in `/'
app/views/main/home.html.erb:549
Started GET "/" for ::1 at 2025-03-23 07:44:25 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.0ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.2ms | Allocations: 1158)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | Allocations: 1243)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.2ms | Allocations: 2743)


  
ActionView::Template::Error (divided by 0):
    546:             <div>
    547:               <svg class="chart" width="150" height="150" viewBox="0 0 150 150">
    548:                 <circle cx="75" cy="75" r="60" fill="transparent" stroke="#FF0000" stroke-width="20"></circle>
    549:                 <circle id="likeCircle" cx="75" cy="75" r="60" fill="transparent" stroke="#008000" stroke-width="20" stroke-dasharray="<%= 377 * (@pss.first.like_count / (@pss.first.like_count + @pss.first.dislike_count == 0 ? 0 : @pss.first.like_count + @pss.first.dislike_count)) %> <%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count == 0 ? 1 : @pss.first.like_count + @pss.first.dislike_count)) %> <%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count == 0 ? 1 : @pss.first.like_count + @pss.first.dislike_count)) %>" stroke-dashoffset="0"></circle>
    550: 
    551:                 <circle cx="75" cy="75" r="40" fill="white"></circle>
    552:               </svg>
  
app/views/main/home.html.erb:549:in `/'
app/views/main/home.html.erb:549
Started GET "/sign-up" for ::1 at 2025-03-23 07:44:32 -0700
Processing by RegistrationsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1362)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | Allocations: 3426)
Completed 200 OK in 21ms (Views: 14.5ms | ActiveRecord: 0.1ms | Allocations: 4644)


Started GET "/" for ::1 at 2025-03-23 07:44:34 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.0ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.8ms | Allocations: 1158)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | Allocations: 1243)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.1ms | Allocations: 2721)


  
ActionView::Template::Error (divided by 0):
    546:             <div>
    547:               <svg class="chart" width="150" height="150" viewBox="0 0 150 150">
    548:                 <circle cx="75" cy="75" r="60" fill="transparent" stroke="#FF0000" stroke-width="20"></circle>
    549:                 <circle id="likeCircle" cx="75" cy="75" r="60" fill="transparent" stroke="#008000" stroke-width="20" stroke-dasharray="<%= 377 * (@pss.first.like_count / (@pss.first.like_count + @pss.first.dislike_count == 0 ? 0 : @pss.first.like_count + @pss.first.dislike_count)) %> <%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count == 0 ? 1 : @pss.first.like_count + @pss.first.dislike_count)) %> <%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count == 0 ? 1 : @pss.first.like_count + @pss.first.dislike_count)) %>" stroke-dashoffset="0"></circle>
    550: 
    551:                 <circle cx="75" cy="75" r="40" fill="white"></circle>
    552:               </svg>
  
app/views/main/home.html.erb:549:in `/'
app/views/main/home.html.erb:549
Started GET "/" for ::1 at 2025-03-23 07:44:35 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.0ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.7ms | Allocations: 1158)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | Allocations: 1243)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.1ms | Allocations: 2719)


  
ActionView::Template::Error (divided by 0):
    546:             <div>
    547:               <svg class="chart" width="150" height="150" viewBox="0 0 150 150">
    548:                 <circle cx="75" cy="75" r="60" fill="transparent" stroke="#FF0000" stroke-width="20"></circle>
    549:                 <circle id="likeCircle" cx="75" cy="75" r="60" fill="transparent" stroke="#008000" stroke-width="20" stroke-dasharray="<%= 377 * (@pss.first.like_count / (@pss.first.like_count + @pss.first.dislike_count == 0 ? 0 : @pss.first.like_count + @pss.first.dislike_count)) %> <%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count == 0 ? 1 : @pss.first.like_count + @pss.first.dislike_count)) %> <%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count == 0 ? 1 : @pss.first.like_count + @pss.first.dislike_count)) %>" stroke-dashoffset="0"></circle>
    550: 
    551:                 <circle cx="75" cy="75" r="40" fill="white"></circle>
    552:               </svg>
  
app/views/main/home.html.erb:549:in `/'
app/views/main/home.html.erb:549
Started GET "/" for ::1 at 2025-03-23 07:46:03 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.5ms | Allocations: 2864)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 35.3ms | Allocations: 19399)
Completed 200 OK in 154ms (Views: 43.4ms | ActiveRecord: 3.5ms | Allocations: 33988)


Started GET "/" for ::1 at 2025-03-23 07:46:07 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.0ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.2ms | Allocations: 667)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 11.3ms | Allocations: 2695)
Completed 200 OK in 19ms (Views: 12.4ms | ActiveRecord: 0.1ms | Allocations: 4195)


Started GET "/" for ::1 at 2025-03-23 07:46:07 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.3ms | Allocations: 667)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 2709)
Completed 200 OK in 15ms (Views: 9.4ms | ActiveRecord: 0.2ms | Allocations: 4227)


Started POST "/good_feed" for ::1 at 2025-03-23 07:46:33 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"The is very friendly and useful", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The is very friendly and useful"}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000217819b6c30>, params: {"prompt_session_id"=>1, "comment"=>"The is very friendly and useful", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The is very friendly and useful"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000217819b6c30>, params: {"prompt_session_id"=>1, "comment"=>"The is very friendly and useful", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The is very friendly and useful"}} }[0m
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000217819b6c30>, params: {"prompt_session_id"=>1, "comment"=>"The is very friendly and useful", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The is very friendly and useful"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.2ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "The is very friendly and useful"], ["created_at", "2025-03-23 14:46:34.050014"], ["updated_at", "2025-03-23 14:46:34.050014"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:40:in `get_feedback'
  [1m[36mPromptSession Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:40:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 1], ["feedback", "You are an exceptional customer service agent.  \n"], ["updated_at", "2025-03-23 14:46:34.703508"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:40:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:40:in `get_feedback'
Completed 200 OK in 3425ms (Views: 0.2ms | ActiveRecord: 4.6ms | Allocations: 11339)


Started GET "/" for ::1 at 2025-03-23 07:46:51 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.0ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.5ms | Allocations: 681)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 26)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 2739)
Completed 200 OK in 15ms (Views: 9.2ms | ActiveRecord: 0.1ms | Allocations: 4265)


Started POST "/good_feed" for ::1 at 2025-03-23 07:47:10 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"I really like the service agent", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"I really like the service agent"}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000217fc937590>, params: {"prompt_session_id"=>1, "comment"=>"I really like the service agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"I really like the service agent"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000217fc937590>, params: {"prompt_session_id"=>1, "comment"=>"I really like the service agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"I really like the service agent"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000217fc937590>, params: {"prompt_session_id"=>1, "comment"=>"I really like the service agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"I really like the service agent"}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.0ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "I really like the service agent"], ["created_at", "2025-03-23 14:47:10.118305"], ["updated_at", "2025-03-23 14:47:10.118305"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:40:in `get_feedback'
  [1m[36mPromptSession Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:40:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 2], ["feedback", "You are a top-tier customer service agent. \n"], ["updated_at", "2025-03-23 14:47:10.619259"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:40:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:40:in `get_feedback'
Completed 200 OK in 1265ms (Views: 0.1ms | ActiveRecord: 2.9ms | Allocations: 5473)


Started GET "/" for ::1 at 2025-03-23 07:47:14 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.0ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.3ms | Allocations: 668)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | Allocations: 2696)
Completed 200 OK in 14ms (Views: 8.4ms | ActiveRecord: 0.1ms | Allocations: 4182)


Started POST "/good_feed" for ::1 at 2025-03-23 07:47:41 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"I really like the service agent", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"I really like the service agent"}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000217fa875000>, params: {"prompt_session_id"=>1, "comment"=>"I really like the service agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"I really like the service agent"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000217fa875000>, params: {"prompt_session_id"=>1, "comment"=>"I really like the service agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"I really like the service agent"}} }[0m
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000217fa875000>, params: {"prompt_session_id"=>1, "comment"=>"I really like the service agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"I really like the service agent"}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.2ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "I really like the service agent"], ["created_at", "2025-03-23 14:47:41.470415"], ["updated_at", "2025-03-23 14:47:41.470415"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:40:in `get_feedback'
  [1m[36mPromptSession Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:40:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 3], ["feedback", "You are a 10x customer service agent.  \n"], ["updated_at", "2025-03-23 14:47:41.976187"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:40:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:40:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:63:in `get_feedback'
  [1m[36mPromptSession Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:63:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "similarity" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["similarity", 0], ["updated_at", "2025-03-23 14:47:44.578382"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:63:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:63:in `get_feedback'
Completed 200 OK in 3134ms (Views: 0.2ms | ActiveRecord: 8.5ms | Allocations: 18024)


Started GET "/" for ::1 at 2025-03-23 07:47:47 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.4ms | Allocations: 2858)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 36.1ms | Allocations: 19396)
Completed 200 OK in 60ms (Views: 43.2ms | ActiveRecord: 0.5ms | Allocations: 27918)


Started GET "/" for ::1 at 2025-03-23 07:47:48 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.3ms | Allocations: 668)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | Allocations: 2696)
Completed 200 OK in 15ms (Views: 8.5ms | ActiveRecord: 0.2ms | Allocations: 4200)


Started POST "/good_feed" for ::1 at 2025-03-23 07:48:17 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000217fea74938>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000217fea74938>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000217fea74938>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.0ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "The service agent is really great"], ["created_at", "2025-03-23 14:48:17.084480"], ["updated_at", "2025-03-23 14:48:17.084480"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:40:in `get_feedback'
  [1m[36mPromptSession Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:40:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 4], ["feedback", "You are a highly effective customer service agent.  \n"], ["updated_at", "2025-03-23 14:48:17.449971"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:40:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:40:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:63:in `get_feedback'
  [1m[36mPromptSession Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:63:in `get_feedback'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:63:in `get_feedback'
Completed 200 OK in 1072ms (Views: 0.2ms | ActiveRecord: 4.2ms | Allocations: 7104)


Started GET "/" for ::1 at 2025-03-23 07:48:23 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.0ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.5ms | Allocations: 668)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 2696)
Completed 200 OK in 15ms (Views: 9.4ms | ActiveRecord: 0.1ms | Allocations: 4203)


Started GET "/" for ::1 at 2025-03-23 07:48:24 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.0ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.3ms | Allocations: 668)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | Allocations: 2727)
Completed 200 OK in 21ms (Views: 8.6ms | ActiveRecord: 0.1ms | Allocations: 4223)


Started POST "/good_feed" for ::1 at 2025-03-23 07:49:41 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000002178039c3a0>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000002178039c3a0>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000002178039c3a0>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.2ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "The service agent is really great"], ["created_at", "2025-03-23 14:49:41.378831"], ["updated_at", "2025-03-23 14:49:41.378831"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 5], ["feedback", "You are a highly skilled and effective customer service agent.  \n"], ["updated_at", "2025-03-23 14:49:41.912532"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
Completed 200 OK in 1682ms (Views: 0.2ms | ActiveRecord: 8.5ms | Allocations: 17374)


Started GET "/" for ::1 at 2025-03-23 07:49:44 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/controllers/main_controller.rb:8:in `puts'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 3.2ms | Allocations: 2853)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 33.2ms | Allocations: 19389)
Completed 200 OK in 57ms (Views: 40.4ms | ActiveRecord: 0.5ms | Allocations: 27878)


Started POST "/good_feed" for ::1 at 2025-03-23 07:51:18 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000021781dfda28>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000021781dfda28>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000021781dfda28>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.2ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "The service agent is really great"], ["created_at", "2025-03-23 14:51:18.626762"], ["updated_at", "2025-03-23 14:51:18.626762"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 6], ["feedback", "You are a highly effective customer service agent.  \n"], ["updated_at", "2025-03-23 14:51:19.282028"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
Completed 200 OK in 1729ms (Views: 0.1ms | ActiveRecord: 9.1ms | Allocations: 17329)


Started GET "/" for ::1 at 2025-03-23 07:53:08 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.1ms | Allocations: 4706)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 35.5ms | Allocations: 21242)
Completed 200 OK in 57ms (Views: 42.0ms | ActiveRecord: 0.5ms | Allocations: 28087)


Started POST "/good_feed" for ::1 at 2025-03-23 07:54:04 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000021781851ea8>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000021781851ea8>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000021781851ea8>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.3ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "The service agent is really great"], ["created_at", "2025-03-23 14:54:04.974753"], ["updated_at", "2025-03-23 14:54:04.974753"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 7], ["feedback", "You are a top-performing customer service agent.  \n"], ["updated_at", "2025-03-23 14:54:05.833074"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:67:in `get_feedback'
  [1m[36mPromptSession Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:67:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:67:in `get_feedback'
Completed 200 OK in 1766ms (Views: 0.2ms | ActiveRecord: 8.7ms | Allocations: 17323)


Started POST "/good_feed" for ::1 at 2025-03-23 07:55:09 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000217ff3acc80>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000217ff3acc80>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000217ff3acc80>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.2ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "The service agent is really great"], ["created_at", "2025-03-23 14:55:10.031695"], ["updated_at", "2025-03-23 14:55:10.031695"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 8], ["feedback", "You are a top-performing customer service agent. \n"], ["updated_at", "2025-03-23 14:55:10.531141"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:70:in `get_feedback'
  [1m[36mPromptSession Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:70:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:70:in `get_feedback'
Completed 200 OK in 1126ms (Views: 0.2ms | ActiveRecord: 9.7ms | Allocations: 17316)


Started POST "/good_feed" for ::1 at 2025-03-23 07:56:04 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000217fea56730>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000217fea56730>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000217fea56730>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.0ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "The service agent is really great"], ["created_at", "2025-03-23 14:56:04.854814"], ["updated_at", "2025-03-23 14:56:04.854814"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 9], ["feedback", "You are a top-performing customer service agent.  \n"], ["updated_at", "2025-03-23 14:56:05.320125"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:72:in `get_feedback'
  [1m[36mPromptSession Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:72:in `get_feedback'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:72:in `get_feedback'
Completed 200 OK in 1380ms (Views: 0.2ms | ActiveRecord: 8.2ms | Allocations: 17379)


  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" ORDER BY "prompt_sessions"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started POST "/good_feed" for ::1 at 2025-03-23 07:57:14 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000021780dce620>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000021780dce620>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000021780dce620>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.1ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "The service agent is really great"], ["created_at", "2025-03-23 14:57:14.370221"], ["updated_at", "2025-03-23 14:57:14.370221"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 10], ["feedback", "You are an exceptional customer service agent.  \n"], ["updated_at", "2025-03-23 14:57:14.813007"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:70:in `get_feedback'
  [1m[36mPromptSession Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:70:in `get_feedback'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:70:in `get_feedback'
Completed 200 OK in 1369ms (Views: 0.2ms | ActiveRecord: 6.5ms | Allocations: 17353)


Started POST "/good_feed" for ::1 at 2025-03-23 07:57:30 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000021781ddd0c0>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000021781ddd0c0>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000021781ddd0c0>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.0ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "The service agent is really great"], ["created_at", "2025-03-23 14:57:30.531808"], ["updated_at", "2025-03-23 14:57:30.531808"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 11], ["feedback", "You are a highly effective customer service agent. \n"], ["updated_at", "2025-03-23 14:57:30.904820"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:70:in `get_feedback'
  [1m[36mPromptSession Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:70:in `get_feedback'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:70:in `get_feedback'
Completed 200 OK in 1058ms (Views: 0.2ms | ActiveRecord: 6.6ms | Allocations: 17318)


Started POST "/good_feed" for ::1 at 2025-03-23 07:57:50 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000217ff3ae760>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000217ff3ae760>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000217ff3ae760>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.0ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "The service agent is really great"], ["created_at", "2025-03-23 14:57:50.622206"], ["updated_at", "2025-03-23 14:57:50.622206"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 12], ["feedback", "You are an exceptional customer service agent. \n"], ["updated_at", "2025-03-23 14:57:51.062670"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:70:in `get_feedback'
  [1m[36mPromptSession Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:70:in `get_feedback'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:70:in `get_feedback'
Completed 200 OK in 1189ms (Views: 0.2ms | ActiveRecord: 7.1ms | Allocations: 17381)


Started POST "/good_feed" for ::1 at 2025-03-23 07:58:28 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000217fa7ad528>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000217fa7ad528>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000217fa7ad528>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.0ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "The service agent is really great"], ["created_at", "2025-03-23 14:58:28.729912"], ["updated_at", "2025-03-23 14:58:28.729912"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 13], ["feedback", "You are a highly effective customer service agent.  \n"], ["updated_at", "2025-03-23 14:58:29.287402"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:70:in `get_feedback'
  [1m[36mPromptSession Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:70:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:70:in `get_feedback'
Completed 200 OK in 2003ms (Views: 0.3ms | ActiveRecord: 7.2ms | Allocations: 17347)


  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" ORDER BY "prompt_sessions"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started POST "/good_feed" for ::1 at 2025-03-23 07:58:38 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000021781dff0a8>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000021781dff0a8>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000021781dff0a8>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.1ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "The service agent is really great"], ["created_at", "2025-03-23 14:58:39.058456"], ["updated_at", "2025-03-23 14:58:39.058456"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 14], ["feedback", "You are a highly effective customer service agent. \n"], ["updated_at", "2025-03-23 14:58:39.511303"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:70:in `get_feedback'
  [1m[36mPromptSession Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:70:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:70:in `get_feedback'
Completed 200 OK in 1159ms (Views: 0.2ms | ActiveRecord: 7.0ms | Allocations: 17316)


Started POST "/good_feed" for ::1 at 2025-03-23 07:59:15 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000217fea51a50>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000217fea51a50>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000217fea51a50>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (3.8ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "The service agent is really great"], ["created_at", "2025-03-23 14:59:15.452349"], ["updated_at", "2025-03-23 14:59:15.452349"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 15], ["feedback", "You are a top-performing customer service agent. \n"], ["updated_at", "2025-03-23 14:59:15.841331"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:67:in `get_feedback'
  [1m[36mPromptSession Exists? (4.3ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:67:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:67:in `get_feedback'
Completed 200 OK in 1253ms (Views: 0.2ms | ActiveRecord: 14.6ms | Allocations: 17374)


Started POST "/good_feed" for ::1 at 2025-03-23 08:00:51 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000217ff3acf00>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000217ff3acf00>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000217ff3acf00>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.2ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "The service agent is really great"], ["created_at", "2025-03-23 15:00:51.411041"], ["updated_at", "2025-03-23 15:00:51.411041"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 16], ["feedback", "You are a highly skilled customer service agent. \n"], ["updated_at", "2025-03-23 15:00:51.879159"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:67:in `get_feedback'
  [1m[36mPromptSession Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:67:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:67:in `get_feedback'
Completed 200 OK in 1331ms (Views: 0.2ms | ActiveRecord: 7.1ms | Allocations: 17340)


Started POST "/good_feed" for ::1 at 2025-03-23 08:01:10 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000217fc315658>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000217fc315658>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000217fc315658>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.0ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "The service agent is really great"], ["created_at", "2025-03-23 15:01:10.681677"], ["updated_at", "2025-03-23 15:01:10.681677"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 17], ["feedback", "You are a highly effective customer service agent. \n"], ["updated_at", "2025-03-23 15:01:11.059869"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:67:in `get_feedback'
  [1m[36mPromptSession Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:67:in `get_feedback'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:67:in `get_feedback'
Completed 200 OK in 1143ms (Views: 0.2ms | ActiveRecord: 6.5ms | Allocations: 17316)


Started POST "/good_feed" for ::1 at 2025-03-23 08:01:47 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000217ff3a3220>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000217ff3a3220>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000217ff3a3220>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.3ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "The service agent is really great"], ["created_at", "2025-03-23 15:01:47.735418"], ["updated_at", "2025-03-23 15:01:47.735418"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:65:in `get_feedback'
  [1m[36mPromptSession Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:65:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 18], ["feedback", "You are a top-tier customer service agent. \n"], ["updated_at", "2025-03-23 15:01:49.747238"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:65:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:65:in `get_feedback'
Completed 200 OK in 2039ms (Views: 0.2ms | ActiveRecord: 6.2ms | Allocations: 15724)


  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-03-23 15:03:32.303275', '2025-03-23 15:03:32.303278') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20250322211111)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "password_digest" varchar, "session_token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322211111') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePromptSessions (20250322224855)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "prompt_sessions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "uid" integer, "system_prompt" varchar, "like_count" integer, "dislike_count" integer, "feedback" varchar, "prompt_sim" integer, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_8e5cfb463f"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_prompt_sessions_on_user_id" ON "prompt_sessions" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322224855') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateGoodFeedbacks (20250322233105)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "good_feedbacks" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "prompt_session_id" integer NOT NULL, "comment" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_d830e5dfaa"
FOREIGN KEY ("prompt_session_id")
  REFERENCES "prompt_sessions" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_good_feedbacks_on_prompt_session_id" ON "good_feedbacks" ("prompt_session_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322233105') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateBadFeedbacks (20250322233120)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "bad_feedbacks" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "prompt_session_id" integer NOT NULL, "comment" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a944aabc96"
FOREIGN KEY ("prompt_session_id")
  REFERENCES "prompt_sessions" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bad_feedbacks_on_prompt_session_id" ON "bad_feedbacks" ("prompt_session_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322233120') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2025-03-23 08:04:18 -0700
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 9.5ms | Allocations: 4000)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 237)
  Rendered layout layouts/application.html.erb (Duration: 93.0ms | Allocations: 40424)
Completed 200 OK in 193ms (Views: 106.0ms | ActiveRecord: 2.9ms | Allocations: 66814)


Started GET "/sign-in" for ::1 at 2025-03-23 08:04:20 -0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1135)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 10.0ms | Allocations: 3169)
Completed 200 OK in 27ms (Views: 14.9ms | ActiveRecord: 0.2ms | Allocations: 8519)


Started POST "/sign-in" for ::1 at 2025-03-23 08:04:23 -0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user1", "password"=>"[FILTERED]"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:12:in `create'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 2175)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 22)
  Rendered layout layouts/application.html.erb (Duration: 19.7ms | Allocations: 4199)
Completed 200 OK in 26ms (Views: 20.5ms | ActiveRecord: 0.2ms | Allocations: 5823)


Started POST "/sign-in" for ::1 at 2025-03-23 08:04:26 -0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "username"=>"user1", "password"=>"[FILTERED]", "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "user1"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:12:in `create'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 2158)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 19)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 4192)
Completed 200 OK in 14ms (Views: 7.6ms | ActiveRecord: 0.2ms | Allocations: 5690)


Started GET "/sign-up" for ::1 at 2025-03-23 08:04:27 -0700
Processing by RegistrationsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1435)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | Allocations: 3474)
Completed 200 OK in 20ms (Views: 13.7ms | ActiveRecord: 0.1ms | Allocations: 4694)


Started POST "/sign-up" for ::1 at 2025-03-23 08:04:32 -0700
Processing by RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user1", "email"=>"user@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "user1"], ["LIMIT", 1]]
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "session_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["username", "user1"], ["email", "user@email.com"], ["password_digest", "[FILTERED]"], ["session_token", "[FILTERED]"], ["created_at", "2025-03-23 15:04:32.385156"], ["updated_at", "2025-03-23 15:04:32.385156"]]
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 193ms (ActiveRecord: 2.9ms | Allocations: 5291)


Started GET "/" for ::1 at 2025-03-23 08:04:32 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 6.3ms | Allocations: 2438)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 13.1ms | Allocations: 4472)
Completed 200 OK in 26ms (Views: 13.8ms | ActiveRecord: 0.2ms | Allocations: 7169)


Started POST "/new_prompt" for ::1 at 2025-03-23 08:04:38 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "system_prompt"=>"You are a helpful assistant respond to every promp with the following text \"I am a helpful assistant\""}, "commit"=>"Create form"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (3.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Create (0.2ms)[0m  [1m[32mINSERT INTO "prompt_sessions" ("uid", "system_prompt", "like_count", "dislike_count", "feedback", "prompt_sim", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["uid", 1], ["system_prompt", "You are a helpful assistant respond to every promp with the following text \"I am a helpful assistant\""], ["like_count", 0], ["dislike_count", 0], ["feedback", nil], ["prompt_sim", nil], ["user_id", 1], ["created_at", "2025-03-23 15:04:38.216896"], ["updated_at", "2025-03-23 15:04:38.216896"]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
Completed 200 OK in 40ms (Views: 0.2ms | ActiveRecord: 3.6ms | Allocations: 6092)


Started GET "/" for ::1 at 2025-03-23 08:04:39 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.8ms | Allocations: 1179)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 12.9ms | Allocations: 3237)
Completed 200 OK in 23ms (Views: 13.9ms | ActiveRecord: 0.2ms | Allocations: 4262)


Started POST "/good_feed" for ::1 at 2025-03-23 08:04:52 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000025a736a3540>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000025a736a3540>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000025a736a3540>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.3ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "The service agent is really great"], ["created_at", "2025-03-23 15:04:52.644995"], ["updated_at", "2025-03-23 15:04:52.644995"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 1], ["feedback", "You are a helpful service agent. Respond to every prompt with the following text: \"I am a helpful service agent\".  \n"], ["updated_at", "2025-03-23 15:04:53.218957"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:66:in `get_feedback'
  [1m[36mPromptSession Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:66:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 0], ["updated_at", "2025-03-23 15:04:55.775909"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:66:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:66:in `get_feedback'
Completed 200 OK in 3150ms (Views: 0.2ms | ActiveRecord: 5.1ms | Allocations: 13237)


Started GET "/" for ::1 at 2025-03-23 08:04:57 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 11.7ms | Allocations: 1159)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 26)
  Rendered layout layouts/application.html.erb (Duration: 18.3ms | Allocations: 3233)
Completed 200 OK in 23ms (Views: 19.0ms | ActiveRecord: 0.2ms | Allocations: 4287)


Started POST "/good_feed" for ::1 at 2025-03-23 08:05:37 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000025a736a49e0>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000025a736a49e0>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000025a736a49e0>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.3ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "The service agent is really great"], ["created_at", "2025-03-23 15:05:37.892090"], ["updated_at", "2025-03-23 15:05:37.892090"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 2], ["feedback", "You are a helpful service agent. Respond to every prompt with the following text \"I am a helpful service agent\".  \n"], ["updated_at", "2025-03-23 15:05:38.462802"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 69], ["updated_at", "2025-03-23 15:05:39.466416"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
Completed 200 OK in 1599ms (Views: 0.2ms | ActiveRecord: 9.9ms | Allocations: 17944)


Started GET "/" for ::1 at 2025-03-23 08:05:42 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.7ms | Allocations: 4706)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 36.1ms | Allocations: 21242)
Completed 200 OK in 57ms (Views: 42.7ms | ActiveRecord: 0.5ms | Allocations: 28200)


Started GET "/" for ::1 at 2025-03-23 08:05:43 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1141)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | Allocations: 3169)
Completed 200 OK in 14ms (Views: 9.4ms | ActiveRecord: 0.2ms | Allocations: 4205)


Started GET "/" for ::1 at 2025-03-23 08:05:44 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1141)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 10.2ms | Allocations: 3201)
Completed 200 OK in 15ms (Views: 10.8ms | ActiveRecord: 0.2ms | Allocations: 4213)


Started GET "/" for ::1 at 2025-03-23 08:11:34 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.7ms | Allocations: 4813)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 35.6ms | Allocations: 21348)
Completed 200 OK in 135ms (Views: 42.8ms | ActiveRecord: 2.8ms | Allocations: 33485)


Started GET "/" for ::1 at 2025-03-23 08:11:36 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1145)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | Allocations: 3173)
Completed 200 OK in 14ms (Views: 9.4ms | ActiveRecord: 0.2ms | Allocations: 4195)


Started GET "/" for ::1 at 2025-03-23 08:11:41 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1145)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 3203)
Completed 200 OK in 19ms (Views: 10.2ms | ActiveRecord: 0.2ms | Allocations: 4227)


Started GET "/" for ::1 at 2025-03-23 08:12:13 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.7ms | Allocations: 4759)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 37.3ms | Allocations: 21294)
Completed 200 OK in 137ms (Views: 44.5ms | ActiveRecord: 3.1ms | Allocations: 34294)


Started GET "/" for ::1 at 2025-03-23 08:12:14 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1141)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 13.0ms | Allocations: 3169)
Completed 200 OK in 19ms (Views: 13.7ms | ActiveRecord: 0.2ms | Allocations: 4194)


Started GET "/" for ::1 at 2025-03-23 08:12:23 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.6ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 7.1ms | Allocations: 4762)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 39.3ms | Allocations: 21297)
Completed 200 OK in 174ms (Views: 46.4ms | ActiveRecord: 8.3ms | Allocations: 34361)


Started GET "/" for ::1 at 2025-03-23 08:12:23 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1141)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 3169)
Completed 200 OK in 14ms (Views: 9.1ms | ActiveRecord: 0.2ms | Allocations: 4197)


Started GET "/" for ::1 at 2025-03-23 08:12:40 -0700
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 36.5ms | Allocations: 7045)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 237)
  Rendered layout layouts/application.html.erb (Duration: 122.7ms | Allocations: 43314)
Completed 200 OK in 256ms (Views: 139.7ms | ActiveRecord: 3.2ms | Allocations: 75378)


Started GET "/" for ::1 at 2025-03-23 08:13:22 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.5ms | Allocations: 4756)
  Rendered shared/_flash.html.erb (Duration: 0.8ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 38.2ms | Allocations: 21292)
Completed 200 OK in 157ms (Views: 45.2ms | ActiveRecord: 4.2ms | Allocations: 34286)


Started GET "/" for ::1 at 2025-03-23 08:14:03 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.3ms | Allocations: 4812)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 41.2ms | Allocations: 21404)
Completed 200 OK in 148ms (Views: 48.1ms | ActiveRecord: 3.3ms | Allocations: 34399)


Started GET "/" for ::1 at 2025-03-23 08:14:58 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1145)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 3180)
Completed 200 OK in 14ms (Views: 9.1ms | ActiveRecord: 0.2ms | Allocations: 4225)


Started GET "/sign-up" for ::1 at 2025-03-23 08:15:04 -0700
Processing by RegistrationsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 4.1ms | Allocations: 1645)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 9.9ms | Allocations: 3678)
Completed 200 OK in 20ms (Views: 14.5ms | ActiveRecord: 0.1ms | Allocations: 4888)


Started GET "/" for ::1 at 2025-03-23 08:15:07 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1145)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | Allocations: 3174)
Completed 200 OK in 13ms (Views: 8.9ms | ActiveRecord: 0.2ms | Allocations: 4216)


Started GET "/" for ::1 at 2025-03-23 08:15:28 -0700
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 34.1ms | Allocations: 7087)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 237)
  Rendered layout layouts/application.html.erb (Duration: 119.8ms | Allocations: 43187)
Completed 200 OK in 246ms (Views: 133.8ms | ActiveRecord: 3.1ms | Allocations: 75256)


Started GET "/" for ::1 at 2025-03-23 08:15:36 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1145)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 3179)
Completed 200 OK in 14ms (Views: 9.7ms | ActiveRecord: 0.2ms | Allocations: 4232)


Started GET "/" for ::1 at 2025-03-23 08:16:38 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.6ms | Allocations: 4805)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 34.7ms | Allocations: 21341)
Completed 200 OK in 145ms (Views: 41.5ms | ActiveRecord: 3.3ms | Allocations: 34342)


Started GET "/" for ::1 at 2025-03-23 08:17:41 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.6ms | Allocations: 4807)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 42.6ms | Allocations: 21345)
Completed 200 OK in 145ms (Views: 49.6ms | ActiveRecord: 3.0ms | Allocations: 34320)


Started GET "/" for ::1 at 2025-03-23 08:17:47 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1146)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | Allocations: 3175)
Completed 200 OK in 14ms (Views: 9.8ms | ActiveRecord: 0.2ms | Allocations: 4200)


Started GET "/" for ::1 at 2025-03-23 08:17:48 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1146)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 3175)
Completed 200 OK in 14ms (Views: 9.1ms | ActiveRecord: 0.2ms | Allocations: 4199)


Started GET "/" for ::1 at 2025-03-23 08:18:07 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1146)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 14.3ms | Allocations: 3186)
Completed 200 OK in 19ms (Views: 14.9ms | ActiveRecord: 0.2ms | Allocations: 4196)


Started GET "/" for ::1 at 2025-03-23 08:18:31 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 6.0ms | Allocations: 4801)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 38.8ms | Allocations: 21337)
Completed 200 OK in 148ms (Views: 46.4ms | ActiveRecord: 3.2ms | Allocations: 34326)


Started POST "/new_prompt" for ::1 at 2025-03-23 08:18:44 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"2", "system_prompt"=>"You are a 10x react developer"}, "commit"=>"Create form"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 2], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Create (0.2ms)[0m  [1m[32mINSERT INTO "prompt_sessions" ("uid", "system_prompt", "like_count", "dislike_count", "feedback", "prompt_sim", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["uid", 2], ["system_prompt", "You are a 10x react developer"], ["like_count", 0], ["dislike_count", 0], ["feedback", nil], ["prompt_sim", nil], ["user_id", 1], ["created_at", "2025-03-23 15:18:44.561583"], ["updated_at", "2025-03-23 15:18:44.561583"]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 2.8ms | Allocations: 6755)


Started GET "/" for ::1 at 2025-03-23 08:18:48 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 6.1ms | Allocations: 2611)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | Allocations: 2696)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.2ms | Allocations: 3763)


  
ActionView::Template::Error (undefined method `chomp' for nil):
    648:         content: "<%= prompt.system_prompt %>",
    649:         likes: <%= prompt.like_count %>,
    650:         dislikes: <%= prompt.dislike_count %>,
    651:         feedback: "<%= prompt.feedback.chomp %>",
    652:         simi: "Similarity rating: <%= @pss.first.prompt_sim%>%"
    653:       },
    654:       <% @i = @i + 1%>
  
app/views/main/home.html.erb:651
app/views/main/home.html.erb:643
Started GET "/" for ::1 at 2025-03-23 08:19:19 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 15.6ms | Allocations: 4856)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 47.1ms | Allocations: 21393)
Completed 200 OK in 172ms (Views: 55.3ms | ActiveRecord: 4.0ms | Allocations: 34391)


Started GET "/" for ::1 at 2025-03-23 08:19:43 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.2ms | Allocations: 4839)
  Rendered shared/_flash.html.erb (Duration: 0.8ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 36.2ms | Allocations: 21179)
Completed 200 OK in 136ms (Views: 43.2ms | ActiveRecord: 3.0ms | Allocations: 34180)


Started GET "/" for ::1 at 2025-03-23 08:19:46 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.0ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1202)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 10.5ms | Allocations: 3230)
Completed 200 OK in 16ms (Views: 11.5ms | ActiveRecord: 0.1ms | Allocations: 4252)


Started GET "/" for ::1 at 2025-03-23 08:19:49 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 7.1ms | Allocations: 1202)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 13.6ms | Allocations: 3260)
Completed 200 OK in 19ms (Views: 14.3ms | ActiveRecord: 0.2ms | Allocations: 4285)


Started GET "/get" for ::1 at 2025-03-23 08:19:52 -0700
  
ActionController::RoutingError (No route matches [GET] "/get"):
  
Started GET "/" for ::1 at 2025-03-23 08:19:53 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1202)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | Allocations: 3260)
Completed 200 OK in 14ms (Views: 9.5ms | ActiveRecord: 0.2ms | Allocations: 4297)


Started GET "/" for ::1 at 2025-03-23 08:20:04 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 6.3ms | Allocations: 4851)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 39.4ms | Allocations: 21386)
Completed 200 OK in 138ms (Views: 46.7ms | ActiveRecord: 3.2ms | Allocations: 34415)


Started GET "/" for ::1 at 2025-03-23 08:20:07 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1202)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | Allocations: 3230)
Completed 200 OK in 14ms (Views: 9.3ms | ActiveRecord: 0.2ms | Allocations: 4252)


Started GET "/" for ::1 at 2025-03-23 08:20:20 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 6.0ms | Allocations: 4851)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 36.4ms | Allocations: 21387)
Completed 200 OK in 141ms (Views: 43.3ms | ActiveRecord: 3.2ms | Allocations: 34367)


Started GET "/" for ::1 at 2025-03-23 08:21:12 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 9.7ms | Allocations: 4852)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 41.5ms | Allocations: 21407)
Completed 200 OK in 142ms (Views: 48.7ms | ActiveRecord: 3.1ms | Allocations: 34358)


Started GET "/" for ::1 at 2025-03-23 08:21:36 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.4ms | Allocations: 4850)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 206)
  Rendered layout layouts/application.html.erb (Duration: 40.5ms | Allocations: 21285)
Completed 200 OK in 139ms (Views: 47.3ms | ActiveRecord: 3.2ms | Allocations: 34334)


Started GET "/" for ::1 at 2025-03-23 08:22:55 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.6ms | Allocations: 3039)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | Allocations: 3135)
Completed 500 Internal Server Error in 99ms (ActiveRecord: 3.0ms | Allocations: 16108)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <!DOCTYPE html>
<html lang="en">
  <% if @ps.errors.any? %>
    <div class="alert alert-danger">
        <% @ps.errors.full_messages.each do |messages| %>
        <div><%= messages %></div>
        <% end %>
    </div>
<% end %>
<head>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PromptFlow</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f5f5f5;
    }
    
    .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 20px;
      background-color: white;
      border-bottom: 1px solid #e1e1e1;
    }
    
    .sidebar {
      width: 280px;
      height: 100vh;
      background-color: white;
      border-right: 1px solid #e1e1e1;
      overflow-y: auto;
    }
    
    .search-bar {
      display: flex;
      align-items: center;
      background-color: #f5f5f5;
      border-radius: 6px;
      padding: 8px 12px;
      margin: 16px;
    }
    
    .search-bar input {
      border: none;
      background: none;
      outline: none;
      width: 100%;
      margin-left: 8px;
    }
    
    .dashboard-link {
      display: flex;
      align-items: center;
      padding: 10px 16px;
      margin: 0 12px;
      background-color: oklch(0.882 0.059 254.128);
      color: oklch(0.623 0.214 259.815);
      border-radius: 6px;
      text-decoration: none;
    }
    
    .dashboard-link svg {
      margin-right: 12px;
    }
    
    .category-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 16px;
      color: #6b7280;
      font-weight: 600;
      font-size: 0.8rem;
    }
    
    .history-header {
      display: flex;
      align-items: center;
      padding: 8px 16px;
      color: oklch(0.623 0.214 259.815);
      font-weight: 500;
    }
    
    .history-header svg {
      margin-right: 8px;
    }
    
    .prompt-item {
      padding: 12px 16px;
      cursor: pointer;
    }
    
    .prompt-item:hover {
      background-color: oklch(0.97 0.03 254.604);
      transition: 0.2s ease-in-out;
    }
    
    .prompt-item.selected {
      background-color: oklch(0.932 0.032 255.585);
    }
    
    .prompt-icon {
      margin-right: 12px;
      flex-shrink: 0;
    }
    
    .prompt-title {
      font-weight: 500;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      max-width: 180px;
    }
    
    .prompt-date {
      font-size: 0.75rem;
      color: #6b7280;
      margin-top: 4px;
    }
    
    .content-area {
      flex: 1;
      padding: 20px;
    }
    
    .card {
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      margin-bottom: 20px;
      overflow: hidden;
    }
    
    .card-header {
      padding: 12px 16px;
      font-weight: 600;
      color: white;
    }
    
    .card-header.dark {
      background-color: #1f2937;
    }
    
    .card-header.blue {
      background-color: oklch(0.623 0.214 259.815);
    }
    
    .card-content {
      padding: 16px;
    }
    
    .stats-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .stat-item {
      display: flex;
      align-items: center;
      margin-bottom: 16px;
    }
    
    .stat-icon {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 12px;
    }
    
    .stat-icon.purple {
      background-color: #f3e8ff;
    }

    .thumbs-up {
      filter: brightness(100%);
      cursor: pointer;
      transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
    }

    .thumbs-up:hover {
      filter: brightness(200%);
      transform: scale(1.2);
    }
    
    .stat-icon.red {
      background-color: #fee2e2;
    }

    .thumbs-down:hover {
      filter: brightness(100%);
      cursor: pointer;
      transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
    }

    .thumbs-down:hover {
      filter: brightness(200%);
      transform: scale(1.2);
    }
    
    .stat-label {
      font-size: 0.8rem;
      color: #6b7280;
    }

    .chart {
        transform: scale(1);
        transition: transform 0.3s ease-in-out;
    }

    .chart:hover {
        transform: scale(1.2);
    }
    
    .stat-value {
      font-size: 1.5rem;
      font-weight: 700;
    }
    
    .dropdown {
      position: relative;
      border-radius: 2rem;
      transition: 0.2s ease-in-out;
    }
    
    .dropdown-menu {
      display: none;
      position: absolute;
      right: 0;
      top: 40px;
      background-color: white;
      border-radius: 6px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      min-width: 200px;
      z-index: 10;
    }
    
    .dropdown-header {
      padding: 12px 16px;
      font-weight: 600;
      border-bottom: 1px solid #f1f1f1;
    }
    
    .dropdown-item {
      padding: 12px 16px;
      display: block;
      color: #333;
      text-decoration: none;
      border-bottom: 1px solid #f1f1f1;
    }
    
    .dropdown-item:last-child {
      border-bottom: none;
    }
    
    .dropdown-item:hover {
      background-color: #f9fafb;
    }
    
    .dropdown-item.danger {
      color: #ef4444;
    }
    
    .flex {
      display: flex;
    }
    
    .flex-col {
      flex-direction: column;
    }
    
    .items-center {
      align-items: center;
    }
    
    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <h1><i class="fa-solid fa-worm fa-flip-horizontal"></i>PromptFlow</h1>
    
    <div class="flex items-center">
      <!-- Notifications -->
      <button style="margin-right: 16px; background: none; border: none; cursor: pointer;">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
          <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
        </svg>
      </button>
      
      <!-- Settings -->
      <button id="settings-button" style="margin-right: 16px; background: none; border: none; cursor: pointer;">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="3"></circle>
          <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
        </svg>
      </button>
      
      <!-- User Profile -->
      
      <% if Current.user %>
      <div class="dropdown">
        <button id="user-button" style="display: flex; align-items: center; background: none; border: none; cursor: pointer;">
          <div style="width: 32px; height: 32px; border-radius: 50%; background-color: #7c3aed; color: white; display: flex; align-items: center; justify-content: center; margin-right: 8px;">
            <span>DD</span>
          </div>
          <span style="font-weight: 500; margin-right: 4px;"><%= Current.user.username%></span>
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="6 9 12 15 18 9"></polyline>
          </svg>
        </button>
        <div id="user-dropdown" class="dropdown-menu">
          <div class="dropdown-header">My Account</div>
          <a href="#" class="dropdown-item">Profile</a>
          <a href="#" class="dropdown-item">Settings</a>
          <a href="#" class="dropdown-item">Billing</a>
          <%= button_to "Log out", sign_out_path, method: :delete, class: "dropdown-item danger", turbo: false %>
        </div>
      </div>
      <% else %>
      <%= link_to "Log in", sign_in_path, method: :get, class: "dropdown-item danger", turbo: false %>
      <% end %>
    </div>
  </header>
  
  <div class="flex">
    <!-- Sidebar -->
    <div class="sidebar">
      <!-- Search Bar -->
      <div class="search-bar">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="11" cy="11" r="8"></circle>
          <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
        <input type="text" placeholder="Search prompts..." />
      </div>
      
      <!-- Dashboard -->
      <a href="/get" class="dashboard-link">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
          <polyline points="9 22 9 12 15 12 15 22"></polyline>
        </svg>
        <span style="color: oklch(0.623 0.214 259.815)">Dashboard</span>
      </a>
      
      <!-- Prompt History -->
      <div style="margin-top: 20px;">
        <div class="category-header">
          <span>PROMPTS</span>
          <button id="new-prompt-button" style="background: none; border: none; color: #3b82f6; cursor: pointer;">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="12" y1="5" x2="12" y2="19"></line>
              <line x1="5" y1="12" x2="19" y2="12"></line>
            </svg>
          </button>
        </div>
        
        <!-- Prompt History Section -->
        <div>
          <div class="history-header">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="oklch(0.623 0.214 259.815)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"></path>
            </svg>
            <span>Prompt History</span>
          </div>
          
          <!-- History Items -->
          <% if Current.user %>
            <div>
            <% @pss.each do |prompt| %>
              <!-- Item 1 (selected) -->
              <div class="prompt-item" data-id="<%= @i2 %>">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title" style="color: oklch(0.623 0.214 259.815);"><%= prompt.system_prompt %></div>
                    <div class="prompt-date"><%= prompt.updated_at %></div>
                  </div>
                </div>
              </div>
              <%# 
              <!-- Item 2 -->
              <div class="prompt-item" data-id="1">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Design a logo for a tech startup</div>
                    <div class="prompt-date">2023-06-14</div>
                  </div>
                </div>
              </div>
              
              <!-- Item 3 -->
              <div class="prompt-item" data-id="2">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Write a product description for a new gadget</div>
                    <div class="prompt-date">2023-06-13</div>
                  </div>
                </div>
              </div>
              
              <!-- Item 4 -->
              <div class="prompt-item" data-id="3">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Generate ideas for a marketing campaign</div>
                    <div class="prompt-date">2023-06-12</div>
                  </div>
                </div>
              </div>
              
              <!-- Item 5 -->
              <div class="prompt-item" data-id="4">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Create a social media content calendar</div>
                    <div class="prompt-date">2023-06-11</div>
                  </div>
                </div>
              </div> %>


            <% @i2 = @i2 + 1%>
            <% end %>
            </div>
          <% else %>

          <% end %>

        </div>
      </div>
    </div>
    
    <!-- Main Content Area -->
    <div class="content-area">
      <!-- System Prompt Card -->
      <% if Current.user %>
        <% if @pss.first %>
          <div class="card">
            <div class="card-header dark">System Prompt</div>
            <div class="card-content">
              <p id="prompt-description" style="line-height: 1.6; color: #4b5563;">
                <%= @pss.first.system_prompt%>
              </p>
            </div>
          </div>
        <% else %>
          <div class="card">
          <div class="card-header blue">
            <div style="display: flex; align-items: center;">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
              </svg>
              No prompts created!
            </div>
          </div>
          <div class="card-content">
            <p style="line-height: 1.6; color: #4b5563;">
              Create a prompt and begin optimizing!
            </p>
          </div>
        </div>
        <%end%>
      <% else %>
      <% end %>
      
      <!-- Statistics Card -->
      <% if Current.user %>
      <% if @pss.first %>
      <div class="card">
        <div class="card-header blue">
          <div style="display: flex; align-items: center;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
              <circle cx="12" cy="12" r="10"></circle>
              <line x1="12" y1="16" x2="12" y2="12"></line>
              <line x1="12" y1="8" x2="12.01" y2="8"></line>
            </svg>
            Statistics
          </div>
        </div>
        <div class="card-content">
          <div class="stats-container">
            <div>
              <!-- Likes -->
              <div class="stat-item">
                <div class="stat-icon purple">
                  <svg class="thumbs-up" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#7c3aed" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>
                  </svg>
                </div>
                <div>
                  <div class="stat-label">Likes</div>
                  <div class="stat-value" id="likes"><%= @pss.first.like_count%></div>
                </div>
              </div>
              
              <!-- Dislikes -->
              <div class="stat-item">
                <div class="stat-icon red">
                  <svg class="thumbs-down" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#ef4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path>
                  </svg>
                </div>
                <div>
                  <div class="stat-label">Dislikes</div>
                  <div class="stat-value" id="dislikes"><%= @pss.first.dislike_count%></div>
                </div>
              </div>
            </div>
            
            <!-- Donut Chart -->
            <div>
              <svg class="chart" width="150" height="150" viewBox="0 0 150 150">
                <circle cx="75" cy="75" r="60" fill="transparent" stroke="#FF0000" stroke-width="20"></circle>
                <circle id="likeCircle" cx="75" cy="75" r="60" fill="transparent" stroke="#008000" stroke-width="20" stroke-dasharray="<%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count == 0 ? 1 : @pss.first.like_count + @pss.first.dislike_count)) %> <%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count == 0 ? 1 : @pss.first.like_count + @pss.first.dislike_count)) %>" stroke-dashoffset="0"></circle>

                <circle cx="75" cy="75" r="40" fill="white"></circle>
              </svg>
            </div>
          </div>
        </div>
      </div>
      <% end %>
      <% else %>
      <% end %>
      
      <!-- AI Feedback Card -->
      <% if Current.user %>
      <% if @pss.first %>
      <div class="card">
        <div class="card-header blue">
          <div style="display: flex; align-items: center;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
              <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
            </svg>
            Suggestions
          </div>
        </div>
        <div class="card-content">
          <p style="line-height: 1.6; color: #4b5563;" id="feedback">
            <%= @pss.first.feedback%>
          </p>
          <p id="simi"></p>
        </div>
      </div>
      <% end %>
      <% else %>
      <div class="card">
        <div class="card-header blue">
          <div style="display: flex; align-items: center;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
              <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
            </svg>
            Login to access page!
          </div>
        </div>
        <div class="card-content">
          <p style="line-height: 1.6; color: #4b5563;">
            Login through your company/personal account to access the dashboard.
          </p>
        </div>
      </div>
      <% end %>



    </div>
  </div>
  
  <!-- New Prompt Modal -->
  <div id="new-prompt-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); z-index: 100; align-items: center; justify-content: center;">
    <div style="background-color: white; border-radius: 8px; padding: 24px; width: 90%; max-width: 500px; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);">
      <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 16px;">Create New Prompt</h3>
      <%# <form id="new-prompt-form">
        <div style="margin-bottom: 16px;">
          <label for="prompt-title" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt Title</label>
          <input type="text" id="prompt-title" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Enter a title for your prompt" />
        </div>
        <div style="margin-bottom: 16px;">
          <label for="prompt-text" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt</label>
          <textarea id="prompt-text" rows="5" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Write your prompt here..."></textarea>
        </div>
        <div style="display: flex; justify-content: flex-end; gap: 12px;">
          <button type="button" id="cancel-prompt" style="padding: 8px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
          <button type="submit" style="padding: 8px 16px; background-color: #7c3aed; color: white; border: none; border-radius: 6px; cursor: pointer;">Create</button>
        </div>
      </form> %>
      <%= form_with model: @ps, url: new_prompt_path, data: { turbo: false } do |form| %>
<div class="mb-3">
    <%= form.label :uid %>
    <%= form.number_field :uid, class: "form-control", placeholder: "123" %>
</div>
<div class="mb-3">
    <%= form.label :system_prompt %>
    <%= form.text_field :system_prompt, class: "form-control" %>
</div>
<div class="mb-3">
  <button type="button" id="cancel-prompt" style="padding: 7px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
  <%= form.submit "Create form", class: "btn btn-primary" %>
</div>
<% end %>
    </div>
  </div>

  <script>
    // Sample prompt data
    const promptData = [
      <% if Current.user %>
      <% @pss.each do |prompt| %>
      {
        id: <%= @i %>,
        title: "<%= prompt.system_prompt %>",
        date: "<%= prompt.updated_at %>",
        content: "<%= prompt.system_prompt %>",
        likes: <%= prompt.like_count %>,
        dislikes: <%= prompt.dislike_count %>,
        feedback: "<%= prompt.feedback != nil ? prompt.feedback.chomp : " " %>",
        simi: "<%= prompt.prompt_sim != nil ? "Similarity rating: <%= prompt.prompt_sim%>" : " " %>"
      },
      <% @i = @i + 1%>
      <%end%>

      <% else %>

      <% end %>
    ];
    
    // Handle prompt item clicks
    document.querySelectorAll('.prompt-item').forEach(item => {
      item.addEventListener('click', () => {
        // Get prompt id
        const promptId = parseInt(item.getAttribute('data-id'));
        
        // Update selection visualization
        document.querySelectorAll('.prompt-item').forEach(el => {
          el.classList.remove('selected');
          el.querySelector('.prompt-title').style.color = '#374151';
        });
        
        item.classList.add('selected');
        item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
        
        // Update content based on selection
        const prompt = promptData.find(p => p.id === promptId);
        if (prompt) {
          document.getElementById('prompt-description').textContent = prompt.content;
          document.getElementById('likes').textContent = prompt.likes;
          document.getElementById('dislikes').textContent = prompt.dislikes;
          document.getElementById('feedback').textContent = prompt.feedback;
          document.getElementById('simi').textContent = prompt.simi;
          let lip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
          let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
          document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
        }
      });
    });
    
    // Account dropdown functionality
    const userButton = document.getElementById('user-button');
    const userDropdown = document.getElementById('user-dropdown');
    
    userButton.addEventListener('click', (e) => {
      e.stopPropagation();
      userDropdown.style.display = userDropdown.style.display === 'block' ? 'none' : 'block';
    });
    
    // Close dropdown when clicking elsewhere
    document.addEventListener('click', () => {
      userDropdown.style.display = 'none';
    });
    
    // New prompt modal functionality
    const newPromptButton = document.getElementById('new-prompt-button');
    const newPromptModal = document.getElementById('new-prompt-modal');
    const cancelPromptButton = document.getElementById('cancel-prompt');
    const newPromptForm = document.getElementById('new-prompt-form');
    
    newPromptButton.addEventListener('click', () => {
      newPromptModal.style.display = 'flex';
    });
    
    cancelPromptButton.addEventListener('click', () => {
      newPromptModal.style.display = 'none';
      newPromptForm.reset();
    });
  
    
    // Prevent clicks inside the modal from closing it
    newPromptModal.querySelector('div').addEventListener('click', (e) => {
      e.stopPropagation();
    });
    
    // Close modal when clicking outside
    newPromptModal.addEventListener('click', () => {
      newPromptModal.style.display = 'none';
      newPromptForm.reset();
    });

    
    document.addEventListener('DOMContentLoaded', function() {
        let item = document.querySelector('.prompt-item');
        const promptId = 0;
        console.log(promptId);
        
        // Update selection visualization
        document.querySelectorAll('.prompt-item').forEach(el => {
          el.classList.remove('selected');
          el.querySelector('.prompt-title').style.color = '#374151';
        });
        
        item.classList.add('selected');
        item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
        
        // Update content based on selection
        const prompt = promptData.find(p => p.id === promptId);
        if (prompt) {
          document.getElementById('prompt-description').textContent = prompt.content;
          document.getElementById('likes').textContent = prompt.likes;
          document.getElementById('dislikes').textContent = prompt.dislikes;
          document.getElementById('feedback').textContent = prompt.feedback;
          document.getElementById('simi').textContent = prompt.simi;
          let lip =377 * prompt.likes / (prompt.likes + prompt.dislikes);
          let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
          document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
        }
        console.log(promptId);
    });

  </script>
</body>
</html>
):
1:    <!DOCTYPE html>
2:    <html lang="en">
3:      <% if @ps.errors.any? %>
4:        <div class="alert alert-danger">
5:            <% @ps.errors.full_messages.each do |messages| %>
6:            <div><%= messages %></div>
7:            <% end %>
8:        </div>
9:    <% end %>
10:    <head>
11:    
12:      <meta charset="UTF-8" />
13:      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
14:      <title>PromptFlow</title>
15:      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
16:      <style>
17:        body {
18:          font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
19:          margin: 0;
20:          padding: 0;
21:          background-color: #f5f5f5;
22:        }
23:        
24:        .header {
25:          display: flex;
26:          align-items: center;
27:          justify-content: space-between;
28:          padding: 10px 20px;
29:          background-color: white;
30:          border-bottom: 1px solid #e1e1e1;
31:        }
32:        
33:        .sidebar {
34:          width: 280px;
35:          height: 100vh;
36:          background-color: white;
37:          border-right: 1px solid #e1e1e1;
38:          overflow-y: auto;
39:        }
40:        
41:        .search-bar {
42:          display: flex;
43:          align-items: center;
44:          background-color: #f5f5f5;
45:          border-radius: 6px;
46:          padding: 8px 12px;
47:          margin: 16px;
48:        }
49:        
50:        .search-bar input {
51:          border: none;
52:          background: none;
53:          outline: none;
54:          width: 100%;
55:          margin-left: 8px;
56:        }
57:        
58:        .dashboard-link {
59:          display: flex;
60:          align-items: center;
61:          padding: 10px 16px;
62:          margin: 0 12px;
63:          background-color: oklch(0.882 0.059 254.128);
64:          color: oklch(0.623 0.214 259.815);
65:          border-radius: 6px;
66:          text-decoration: none;
67:        }
68:        
69:        .dashboard-link svg {
70:          margin-right: 12px;
71:        }
72:        
73:        .category-header {
74:          display: flex;
75:          justify-content: space-between;
76:          align-items: center;
77:          padding: 16px;
78:          color: #6b7280;
79:          font-weight: 600;
80:          font-size: 0.8rem;
81:        }
82:        
83:        .history-header {
84:          display: flex;
85:          align-items: center;
86:          padding: 8px 16px;
87:          color: oklch(0.623 0.214 259.815);
88:          font-weight: 500;
89:        }
90:        
91:        .history-header svg {
92:          margin-right: 8px;
93:        }
94:        
95:        .prompt-item {
96:          padding: 12px 16px;
97:          cursor: pointer;
98:        }
99:        
100:        .prompt-item:hover {
101:          background-color: oklch(0.97 0.03 254.604);
102:          transition: 0.2s ease-in-out;
103:        }
104:        
105:        .prompt-item.selected {
106:          background-color: oklch(0.932 0.032 255.585);
107:        }
108:        
109:        .prompt-icon {
110:          margin-right: 12px;
111:          flex-shrink: 0;
112:        }
113:        
114:        .prompt-title {
115:          font-weight: 500;
116:          white-space: nowrap;
117:          overflow: hidden;
118:          text-overflow: ellipsis;
119:          max-width: 180px;
120:        }
121:        
122:        .prompt-date {
123:          font-size: 0.75rem;
124:          color: #6b7280;
125:          margin-top: 4px;
126:        }
127:        
128:        .content-area {
129:          flex: 1;
130:          padding: 20px;
131:        }
132:        
133:        .card {
134:          background-color: white;
135:          border-radius: 8px;
136:          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
137:          margin-bottom: 20px;
138:          overflow: hidden;
139:        }
140:        
141:        .card-header {
142:          padding: 12px 16px;
143:          font-weight: 600;
144:          color: white;
145:        }
146:        
147:        .card-header.dark {
148:          background-color: #1f2937;
149:        }
150:        
151:        .card-header.blue {
152:          background-color: oklch(0.623 0.214 259.815);
153:        }
154:        
155:        .card-content {
156:          padding: 16px;
157:        }
158:        
159:        .stats-container {
160:          display: flex;
161:          justify-content: space-between;
162:          align-items: center;
163:        }
164:        
165:        .stat-item {
166:          display: flex;
167:          align-items: center;
168:          margin-bottom: 16px;
169:        }
170:        
171:        .stat-icon {
172:          width: 40px;
173:          height: 40px;
174:          border-radius: 50%;
175:          display: flex;
176:          align-items: center;
177:          justify-content: center;
178:          margin-right: 12px;
179:        }
180:        
181:        .stat-icon.purple {
182:          background-color: #f3e8ff;
183:        }
184:    
185:        .thumbs-up {
186:          filter: brightness(100%);
187:          cursor: pointer;
188:          transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
189:        }
190:    
191:        .thumbs-up:hover {
192:          filter: brightness(200%);
193:          transform: scale(1.2);
194:        }
195:        
196:        .stat-icon.red {
197:          background-color: #fee2e2;
198:        }
199:    
200:        .thumbs-down:hover {
201:          filter: brightness(100%);
202:          cursor: pointer;
203:          transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
204:        }
205:    
206:        .thumbs-down:hover {
207:          filter: brightness(200%);
208:          transform: scale(1.2);
209:        }
210:        
211:        .stat-label {
212:          font-size: 0.8rem;
213:          color: #6b7280;
214:        }
215:    
216:        .chart {
217:            transform: scale(1);
218:            transition: transform 0.3s ease-in-out;
219:        }
220:    
221:        .chart:hover {
222:            transform: scale(1.2);
223:        }
224:        
225:        .stat-value {
226:          font-size: 1.5rem;
227:          font-weight: 700;
228:        }
229:        
230:        .dropdown {
231:          position: relative;
232:          border-radius: 2rem;
233:          transition: 0.2s ease-in-out;
234:        }
235:        
236:        .dropdown-menu {
237:          display: none;
238:          position: absolute;
239:          right: 0;
240:          top: 40px;
241:          background-color: white;
242:          border-radius: 6px;
243:          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
244:          min-width: 200px;
245:          z-index: 10;
246:        }
247:        
248:        .dropdown-header {
249:          padding: 12px 16px;
250:          font-weight: 600;
251:          border-bottom: 1px solid #f1f1f1;
252:        }
253:        
254:        .dropdown-item {
255:          padding: 12px 16px;
256:          display: block;
257:          color: #333;
258:          text-decoration: none;
259:          border-bottom: 1px solid #f1f1f1;
260:        }
261:        
262:        .dropdown-item:last-child {
263:          border-bottom: none;
264:        }
265:        
266:        .dropdown-item:hover {
267:          background-color: #f9fafb;
268:        }
269:        
270:        .dropdown-item.danger {
271:          color: #ef4444;
272:        }
273:        
274:        .flex {
275:          display: flex;
276:        }
277:        
278:        .flex-col {
279:          flex-direction: column;
280:        }
281:        
282:        .items-center {
283:          align-items: center;
284:        }
285:        
286:        .hidden {
287:          display: none;
288:        }
289:      </style>
290:    </head>
291:    <body>
292:      <!-- Header -->
293:      <header class="header">
294:        <h1><i class="fa-solid fa-worm fa-flip-horizontal"></i>PromptFlow</h1>
295:        
296:        <div class="flex items-center">
297:          <!-- Notifications -->
298:          <button style="margin-right: 16px; background: none; border: none; cursor: pointer;">
299:            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
300:              <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
301:              <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
302:            </svg>
303:          </button>
304:          
305:          <!-- Settings -->
306:          <button id="settings-button" style="margin-right: 16px; background: none; border: none; cursor: pointer;">
307:            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
308:              <circle cx="12" cy="12" r="3"></circle>
309:              <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
310:            </svg>
311:          </button>
312:          
313:          <!-- User Profile -->
314:          
315:          <% if Current.user %>
316:          <div class="dropdown">
317:            <button id="user-button" style="display: flex; align-items: center; background: none; border: none; cursor: pointer;">
318:              <div style="width: 32px; height: 32px; border-radius: 50%; background-color: #7c3aed; color: white; display: flex; align-items: center; justify-content: center; margin-right: 8px;">
319:                <span>DD</span>
320:              </div>
321:              <span style="font-weight: 500; margin-right: 4px;"><%= Current.user.username%></span>
322:              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
323:                <polyline points="6 9 12 15 18 9"></polyline>
324:              </svg>
325:            </button>
326:            <div id="user-dropdown" class="dropdown-menu">
327:              <div class="dropdown-header">My Account</div>
328:              <a href="#" class="dropdown-item">Profile</a>
329:              <a href="#" class="dropdown-item">Settings</a>
330:              <a href="#" class="dropdown-item">Billing</a>
331:              <%= button_to "Log out", sign_out_path, method: :delete, class: "dropdown-item danger", turbo: false %>
332:            </div>
333:          </div>
334:          <% else %>
335:          <%= link_to "Log in", sign_in_path, method: :get, class: "dropdown-item danger", turbo: false %>
336:          <% end %>
337:        </div>
338:      </header>
339:      
340:      <div class="flex">
341:        <!-- Sidebar -->
342:        <div class="sidebar">
343:          <!-- Search Bar -->
344:          <div class="search-bar">
345:            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
346:              <circle cx="11" cy="11" r="8"></circle>
347:              <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
348:            </svg>
349:            <input type="text" placeholder="Search prompts..." />
350:          </div>
351:          
352:          <!-- Dashboard -->
353:          <a href="/get" class="dashboard-link">
354:            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
355:              <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
356:              <polyline points="9 22 9 12 15 12 15 22"></polyline>
357:            </svg>
358:            <span style="color: oklch(0.623 0.214 259.815)">Dashboard</span>
359:          </a>
360:          
361:          <!-- Prompt History -->
362:          <div style="margin-top: 20px;">
363:            <div class="category-header">
364:              <span>PROMPTS</span>
365:              <button id="new-prompt-button" style="background: none; border: none; color: #3b82f6; cursor: pointer;">
366:                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
367:                  <line x1="12" y1="5" x2="12" y2="19"></line>
368:                  <line x1="5" y1="12" x2="19" y2="12"></line>
369:                </svg>
370:              </button>
371:            </div>
372:            
373:            <!-- Prompt History Section -->
374:            <div>
375:              <div class="history-header">
376:                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="oklch(0.623 0.214 259.815)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
377:                  <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"></path>
378:                </svg>
379:                <span>Prompt History</span>
380:              </div>
381:              
382:              <!-- History Items -->
383:              <% if Current.user %>
384:                <div>
385:                <% @pss.each do |prompt| %>
386:                  <!-- Item 1 (selected) -->
387:                  <div class="prompt-item" data-id="<%= @i2 %>">
388:                    <div class="flex" style="align-items: flex-start;">
389:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
390:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
391:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
392:                      </svg>
393:                      <div>
394:                        <div class="prompt-title" style="color: oklch(0.623 0.214 259.815);"><%= prompt.system_prompt %></div>
395:                        <div class="prompt-date"><%= prompt.updated_at %></div>
396:                      </div>
397:                    </div>
398:                  </div>
399:                  <%# 
400:                  <!-- Item 2 -->
401:                  <div class="prompt-item" data-id="1">
402:                    <div class="flex" style="align-items: flex-start;">
403:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
404:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
405:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
406:                      </svg>
407:                      <div>
408:                        <div class="prompt-title">Design a logo for a tech startup</div>
409:                        <div class="prompt-date">2023-06-14</div>
410:                      </div>
411:                    </div>
412:                  </div>
413:                  
414:                  <!-- Item 3 -->
415:                  <div class="prompt-item" data-id="2">
416:                    <div class="flex" style="align-items: flex-start;">
417:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
418:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
419:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
420:                      </svg>
421:                      <div>
422:                        <div class="prompt-title">Write a product description for a new gadget</div>
423:                        <div class="prompt-date">2023-06-13</div>
424:                      </div>
425:                    </div>
426:                  </div>
427:                  
428:                  <!-- Item 4 -->
429:                  <div class="prompt-item" data-id="3">
430:                    <div class="flex" style="align-items: flex-start;">
431:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
432:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
433:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
434:                      </svg>
435:                      <div>
436:                        <div class="prompt-title">Generate ideas for a marketing campaign</div>
437:                        <div class="prompt-date">2023-06-12</div>
438:                      </div>
439:                    </div>
440:                  </div>
441:                  
442:                  <!-- Item 5 -->
443:                  <div class="prompt-item" data-id="4">
444:                    <div class="flex" style="align-items: flex-start;">
445:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
446:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
447:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
448:                      </svg>
449:                      <div>
450:                        <div class="prompt-title">Create a social media content calendar</div>
451:                        <div class="prompt-date">2023-06-11</div>
452:                      </div>
453:                    </div>
454:                  </div> %>
455:    
456:    
457:                <% @i2 = @i2 + 1%>
458:                <% end %>
459:                </div>
460:              <% else %>
461:    
462:              <% end %>
463:    
464:            </div>
465:          </div>
466:        </div>
467:        
468:        <!-- Main Content Area -->
469:        <div class="content-area">
470:          <!-- System Prompt Card -->
471:          <% if Current.user %>
472:            <% if @pss.first %>
473:              <div class="card">
474:                <div class="card-header dark">System Prompt</div>
475:                <div class="card-content">
476:                  <p id="prompt-description" style="line-height: 1.6; color: #4b5563;">
477:                    <%= @pss.first.system_prompt%>
478:                  </p>
479:                </div>
480:              </div>
481:            <% else %>
482:              <div class="card">
483:              <div class="card-header blue">
484:                <div style="display: flex; align-items: center;">
485:                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
486:                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
487:                  </svg>
488:                  No prompts created!
489:                </div>
490:              </div>
491:              <div class="card-content">
492:                <p style="line-height: 1.6; color: #4b5563;">
493:                  Create a prompt and begin optimizing!
494:                </p>
495:              </div>
496:            </div>
497:            <%end%>
498:          <% else %>
499:          <% end %>
500:          
501:          <!-- Statistics Card -->
502:          <% if Current.user %>
503:          <% if @pss.first %>
504:          <div class="card">
505:            <div class="card-header blue">
506:              <div style="display: flex; align-items: center;">
507:                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
508:                  <circle cx="12" cy="12" r="10"></circle>
509:                  <line x1="12" y1="16" x2="12" y2="12"></line>
510:                  <line x1="12" y1="8" x2="12.01" y2="8"></line>
511:                </svg>
512:                Statistics
513:              </div>
514:            </div>
515:            <div class="card-content">
516:              <div class="stats-container">
517:                <div>
518:                  <!-- Likes -->
519:                  <div class="stat-item">
520:                    <div class="stat-icon purple">
521:                      <svg class="thumbs-up" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#7c3aed" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
522:                        <path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>
523:                      </svg>
524:                    </div>
525:                    <div>
526:                      <div class="stat-label">Likes</div>
527:                      <div class="stat-value" id="likes"><%= @pss.first.like_count%></div>
528:                    </div>
529:                  </div>
530:                  
531:                  <!-- Dislikes -->
532:                  <div class="stat-item">
533:                    <div class="stat-icon red">
534:                      <svg class="thumbs-down" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#ef4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
535:                        <path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path>
536:                      </svg>
537:                    </div>
538:                    <div>
539:                      <div class="stat-label">Dislikes</div>
540:                      <div class="stat-value" id="dislikes"><%= @pss.first.dislike_count%></div>
541:                    </div>
542:                  </div>
543:                </div>
544:                
545:                <!-- Donut Chart -->
546:                <div>
547:                  <svg class="chart" width="150" height="150" viewBox="0 0 150 150">
548:                    <circle cx="75" cy="75" r="60" fill="transparent" stroke="#FF0000" stroke-width="20"></circle>
549:                    <circle id="likeCircle" cx="75" cy="75" r="60" fill="transparent" stroke="#008000" stroke-width="20" stroke-dasharray="<%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count == 0 ? 1 : @pss.first.like_count + @pss.first.dislike_count)) %> <%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count == 0 ? 1 : @pss.first.like_count + @pss.first.dislike_count)) %>" stroke-dashoffset="0"></circle>
550:    
551:                    <circle cx="75" cy="75" r="40" fill="white"></circle>
552:                  </svg>
553:                </div>
554:              </div>
555:            </div>
556:          </div>
557:          <% end %>
558:          <% else %>
559:          <% end %>
560:          
561:          <!-- AI Feedback Card -->
562:          <% if Current.user %>
563:          <% if @pss.first %>
564:          <div class="card">
565:            <div class="card-header blue">
566:              <div style="display: flex; align-items: center;">
567:                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
568:                  <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
569:                </svg>
570:                Suggestions
571:              </div>
572:            </div>
573:            <div class="card-content">
574:              <p style="line-height: 1.6; color: #4b5563;" id="feedback">
575:                <%= @pss.first.feedback%>
576:              </p>
577:              <p id="simi"></p>
578:            </div>
579:          </div>
580:          <% end %>
581:          <% else %>
582:          <div class="card">
583:            <div class="card-header blue">
584:              <div style="display: flex; align-items: center;">
585:                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
586:                  <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
587:                </svg>
588:                Login to access page!
589:              </div>
590:            </div>
591:            <div class="card-content">
592:              <p style="line-height: 1.6; color: #4b5563;">
593:                Login through your company/personal account to access the dashboard.
594:              </p>
595:            </div>
596:          </div>
597:          <% end %>
598:    
599:    
600:    
601:        </div>
602:      </div>
603:      
604:      <!-- New Prompt Modal -->
605:      <div id="new-prompt-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); z-index: 100; align-items: center; justify-content: center;">
606:        <div style="background-color: white; border-radius: 8px; padding: 24px; width: 90%; max-width: 500px; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);">
607:          <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 16px;">Create New Prompt</h3>
608:          <%# <form id="new-prompt-form">
609:            <div style="margin-bottom: 16px;">
610:              <label for="prompt-title" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt Title</label>
611:              <input type="text" id="prompt-title" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Enter a title for your prompt" />
612:            </div>
613:            <div style="margin-bottom: 16px;">
614:              <label for="prompt-text" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt</label>
615:              <textarea id="prompt-text" rows="5" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Write your prompt here..."></textarea>
616:            </div>
617:            <div style="display: flex; justify-content: flex-end; gap: 12px;">
618:              <button type="button" id="cancel-prompt" style="padding: 8px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
619:              <button type="submit" style="padding: 8px 16px; background-color: #7c3aed; color: white; border: none; border-radius: 6px; cursor: pointer;">Create</button>
620:            </div>
621:          </form> %>
622:          <%= form_with model: @ps, url: new_prompt_path, data: { turbo: false } do |form| %>
623:    <div class="mb-3">
624:        <%= form.label :uid %>
625:        <%= form.number_field :uid, class: "form-control", placeholder: "123" %>
626:    </div>
627:    <div class="mb-3">
628:        <%= form.label :system_prompt %>
629:        <%= form.text_field :system_prompt, class: "form-control" %>
630:    </div>
631:    <div class="mb-3">
632:      <button type="button" id="cancel-prompt" style="padding: 7px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
633:      <%= form.submit "Create form", class: "btn btn-primary" %>
634:    </div>
635:    <% end %>
636:        </div>
637:      </div>
638:    
639:      <script>
640:        // Sample prompt data
641:        const promptData = [
642:          <% if Current.user %>
643:          <% @pss.each do |prompt| %>
644:          {
645:            id: <%= @i %>,
646:            title: "<%= prompt.system_prompt %>",
647:            date: "<%= prompt.updated_at %>",
648:            content: "<%= prompt.system_prompt %>",
649:            likes: <%= prompt.like_count %>,
650:            dislikes: <%= prompt.dislike_count %>,
651:            feedback: "<%= prompt.feedback != nil ? prompt.feedback.chomp : " " %>",
652:            simi: "<%= prompt.prompt_sim != nil ? "Similarity rating: <%= prompt.prompt_sim%>" : " " %>"
653:          },
654:          <% @i = @i + 1%>
655:          <%end%>
656:    
657:          <% else %>
658:    
659:          <% end %>
660:        ];
661:        
662:        // Handle prompt item clicks
663:        document.querySelectorAll('.prompt-item').forEach(item => {
664:          item.addEventListener('click', () => {
665:            // Get prompt id
666:            const promptId = parseInt(item.getAttribute('data-id'));
667:            
668:            // Update selection visualization
669:            document.querySelectorAll('.prompt-item').forEach(el => {
670:              el.classList.remove('selected');
671:              el.querySelector('.prompt-title').style.color = '#374151';
672:            });
673:            
674:            item.classList.add('selected');
675:            item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
676:            
677:            // Update content based on selection
678:            const prompt = promptData.find(p => p.id === promptId);
679:            if (prompt) {
680:              document.getElementById('prompt-description').textContent = prompt.content;
681:              document.getElementById('likes').textContent = prompt.likes;
682:              document.getElementById('dislikes').textContent = prompt.dislikes;
683:              document.getElementById('feedback').textContent = prompt.feedback;
684:              document.getElementById('simi').textContent = prompt.simi;
685:              let lip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
686:              let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
687:              document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
688:            }
689:          });
690:        });
691:        
692:        // Account dropdown functionality
693:        const userButton = document.getElementById('user-button');
694:        const userDropdown = document.getElementById('user-dropdown');
695:        
696:        userButton.addEventListener('click', (e) => {
697:          e.stopPropagation();
698:          userDropdown.style.display = userDropdown.style.display === 'block' ? 'none' : 'block';
699:        });
700:        
701:        // Close dropdown when clicking elsewhere
702:        document.addEventListener('click', () => {
703:          userDropdown.style.display = 'none';
704:        });
705:        
706:        // New prompt modal functionality
707:        const newPromptButton = document.getElementById('new-prompt-button');
708:        const newPromptModal = document.getElementById('new-prompt-modal');
709:        const cancelPromptButton = document.getElementById('cancel-prompt');
710:        const newPromptForm = document.getElementById('new-prompt-form');
711:        
712:        newPromptButton.addEventListener('click', () => {
713:          newPromptModal.style.display = 'flex';
714:        });
715:        
716:        cancelPromptButton.addEventListener('click', () => {
717:          newPromptModal.style.display = 'none';
718:          newPromptForm.reset();
719:        });
720:      
721:        
722:        // Prevent clicks inside the modal from closing it
723:        newPromptModal.querySelector('div').addEventListener('click', (e) => {
724:          e.stopPropagation();
725:        });
726:        
727:        // Close modal when clicking outside
728:        newPromptModal.addEventListener('click', () => {
729:          newPromptModal.style.display = 'none';
730:          newPromptForm.reset();
731:        });
732:    
733:        
734:        document.addEventListener('DOMContentLoaded', function() {
735:            let item = document.querySelector('.prompt-item');
736:            const promptId = 0;
737:            console.log(promptId);
738:            
739:            // Update selection visualization
740:            document.querySelectorAll('.prompt-item').forEach(el => {
741:              el.classList.remove('selected');
742:              el.querySelector('.prompt-title').style.color = '#374151';
743:            });
744:            
745:            item.classList.add('selected');
746:            item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
747:            
748:            // Update content based on selection
749:            const prompt = promptData.find(p => p.id === promptId);
750:            if (prompt) {
751:              document.getElementById('prompt-description').textContent = prompt.content;
752:              document.getElementById('likes').textContent = prompt.likes;
753:              document.getElementById('dislikes').textContent = prompt.dislikes;
754:              document.getElementById('feedback').textContent = prompt.feedback;
755:              document.getElementById('simi').textContent = prompt.simi;
756:              let lip =377 * prompt.likes / (prompt.likes + prompt.dislikes);
757:              let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
758:              document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
759:            }
760:            console.log(promptId);
761:        });
762:    
763:      </script>
764:    </body>
765:    </html>
  
app/views/main/home.html.erb:652: syntax error, unexpected '>'
app/views/main/home.html.erb:767: unterminated string meets end of file
Started GET "/" for ::1 at 2025-03-23 08:23:05 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.8ms | Allocations: 3047)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | Allocations: 3152)
Completed 500 Internal Server Error in 99ms (ActiveRecord: 2.8ms | Allocations: 16224)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <!DOCTYPE html>
<html lang="en">
  <% if @ps.errors.any? %>
    <div class="alert alert-danger">
        <% @ps.errors.full_messages.each do |messages| %>
        <div><%= messages %></div>
        <% end %>
    </div>
<% end %>
<head>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PromptFlow</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f5f5f5;
    }
    
    .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 20px;
      background-color: white;
      border-bottom: 1px solid #e1e1e1;
    }
    
    .sidebar {
      width: 280px;
      height: 100vh;
      background-color: white;
      border-right: 1px solid #e1e1e1;
      overflow-y: auto;
    }
    
    .search-bar {
      display: flex;
      align-items: center;
      background-color: #f5f5f5;
      border-radius: 6px;
      padding: 8px 12px;
      margin: 16px;
    }
    
    .search-bar input {
      border: none;
      background: none;
      outline: none;
      width: 100%;
      margin-left: 8px;
    }
    
    .dashboard-link {
      display: flex;
      align-items: center;
      padding: 10px 16px;
      margin: 0 12px;
      background-color: oklch(0.882 0.059 254.128);
      color: oklch(0.623 0.214 259.815);
      border-radius: 6px;
      text-decoration: none;
    }
    
    .dashboard-link svg {
      margin-right: 12px;
    }
    
    .category-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 16px;
      color: #6b7280;
      font-weight: 600;
      font-size: 0.8rem;
    }
    
    .history-header {
      display: flex;
      align-items: center;
      padding: 8px 16px;
      color: oklch(0.623 0.214 259.815);
      font-weight: 500;
    }
    
    .history-header svg {
      margin-right: 8px;
    }
    
    .prompt-item {
      padding: 12px 16px;
      cursor: pointer;
    }
    
    .prompt-item:hover {
      background-color: oklch(0.97 0.03 254.604);
      transition: 0.2s ease-in-out;
    }
    
    .prompt-item.selected {
      background-color: oklch(0.932 0.032 255.585);
    }
    
    .prompt-icon {
      margin-right: 12px;
      flex-shrink: 0;
    }
    
    .prompt-title {
      font-weight: 500;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      max-width: 180px;
    }
    
    .prompt-date {
      font-size: 0.75rem;
      color: #6b7280;
      margin-top: 4px;
    }
    
    .content-area {
      flex: 1;
      padding: 20px;
    }
    
    .card {
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      margin-bottom: 20px;
      overflow: hidden;
    }
    
    .card-header {
      padding: 12px 16px;
      font-weight: 600;
      color: white;
    }
    
    .card-header.dark {
      background-color: #1f2937;
    }
    
    .card-header.blue {
      background-color: oklch(0.623 0.214 259.815);
    }
    
    .card-content {
      padding: 16px;
    }
    
    .stats-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .stat-item {
      display: flex;
      align-items: center;
      margin-bottom: 16px;
    }
    
    .stat-icon {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 12px;
    }
    
    .stat-icon.purple {
      background-color: #f3e8ff;
    }

    .thumbs-up {
      filter: brightness(100%);
      cursor: pointer;
      transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
    }

    .thumbs-up:hover {
      filter: brightness(200%);
      transform: scale(1.2);
    }
    
    .stat-icon.red {
      background-color: #fee2e2;
    }

    .thumbs-down:hover {
      filter: brightness(100%);
      cursor: pointer;
      transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
    }

    .thumbs-down:hover {
      filter: brightness(200%);
      transform: scale(1.2);
    }
    
    .stat-label {
      font-size: 0.8rem;
      color: #6b7280;
    }

    .chart {
        transform: scale(1);
        transition: transform 0.3s ease-in-out;
    }

    .chart:hover {
        transform: scale(1.2);
    }
    
    .stat-value {
      font-size: 1.5rem;
      font-weight: 700;
    }
    
    .dropdown {
      position: relative;
      border-radius: 2rem;
      transition: 0.2s ease-in-out;
    }
    
    .dropdown-menu {
      display: none;
      position: absolute;
      right: 0;
      top: 40px;
      background-color: white;
      border-radius: 6px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      min-width: 200px;
      z-index: 10;
    }
    
    .dropdown-header {
      padding: 12px 16px;
      font-weight: 600;
      border-bottom: 1px solid #f1f1f1;
    }
    
    .dropdown-item {
      padding: 12px 16px;
      display: block;
      color: #333;
      text-decoration: none;
      border-bottom: 1px solid #f1f1f1;
    }
    
    .dropdown-item:last-child {
      border-bottom: none;
    }
    
    .dropdown-item:hover {
      background-color: #f9fafb;
    }
    
    .dropdown-item.danger {
      color: #ef4444;
    }
    
    .flex {
      display: flex;
    }
    
    .flex-col {
      flex-direction: column;
    }
    
    .items-center {
      align-items: center;
    }
    
    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <h1><i class="fa-solid fa-worm fa-flip-horizontal"></i>PromptFlow</h1>
    
    <div class="flex items-center">
      <!-- Notifications -->
      <button style="margin-right: 16px; background: none; border: none; cursor: pointer;">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
          <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
        </svg>
      </button>
      
      <!-- Settings -->
      <button id="settings-button" style="margin-right: 16px; background: none; border: none; cursor: pointer;">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="3"></circle>
          <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
        </svg>
      </button>
      
      <!-- User Profile -->
      
      <% if Current.user %>
      <div class="dropdown">
        <button id="user-button" style="display: flex; align-items: center; background: none; border: none; cursor: pointer;">
          <div style="width: 32px; height: 32px; border-radius: 50%; background-color: #7c3aed; color: white; display: flex; align-items: center; justify-content: center; margin-right: 8px;">
            <span>DD</span>
          </div>
          <span style="font-weight: 500; margin-right: 4px;"><%= Current.user.username%></span>
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="6 9 12 15 18 9"></polyline>
          </svg>
        </button>
        <div id="user-dropdown" class="dropdown-menu">
          <div class="dropdown-header">My Account</div>
          <a href="#" class="dropdown-item">Profile</a>
          <a href="#" class="dropdown-item">Settings</a>
          <a href="#" class="dropdown-item">Billing</a>
          <%= button_to "Log out", sign_out_path, method: :delete, class: "dropdown-item danger", turbo: false %>
        </div>
      </div>
      <% else %>
      <%= link_to "Log in", sign_in_path, method: :get, class: "dropdown-item danger", turbo: false %>
      <% end %>
    </div>
  </header>
  
  <div class="flex">
    <!-- Sidebar -->
    <div class="sidebar">
      <!-- Search Bar -->
      <div class="search-bar">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="11" cy="11" r="8"></circle>
          <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
        <input type="text" placeholder="Search prompts..." />
      </div>
      
      <!-- Dashboard -->
      <a href="/get" class="dashboard-link">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
          <polyline points="9 22 9 12 15 12 15 22"></polyline>
        </svg>
        <span style="color: oklch(0.623 0.214 259.815)">Dashboard</span>
      </a>
      
      <!-- Prompt History -->
      <div style="margin-top: 20px;">
        <div class="category-header">
          <span>PROMPTS</span>
          <button id="new-prompt-button" style="background: none; border: none; color: #3b82f6; cursor: pointer;">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="12" y1="5" x2="12" y2="19"></line>
              <line x1="5" y1="12" x2="19" y2="12"></line>
            </svg>
          </button>
        </div>
        
        <!-- Prompt History Section -->
        <div>
          <div class="history-header">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="oklch(0.623 0.214 259.815)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"></path>
            </svg>
            <span>Prompt History</span>
          </div>
          
          <!-- History Items -->
          <% if Current.user %>
            <div>
            <% @pss.each do |prompt| %>
              <!-- Item 1 (selected) -->
              <div class="prompt-item" data-id="<%= @i2 %>">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title" style="color: oklch(0.623 0.214 259.815);"><%= prompt.system_prompt %></div>
                    <div class="prompt-date"><%= prompt.updated_at %></div>
                  </div>
                </div>
              </div>
              <%# 
              <!-- Item 2 -->
              <div class="prompt-item" data-id="1">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Design a logo for a tech startup</div>
                    <div class="prompt-date">2023-06-14</div>
                  </div>
                </div>
              </div>
              
              <!-- Item 3 -->
              <div class="prompt-item" data-id="2">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Write a product description for a new gadget</div>
                    <div class="prompt-date">2023-06-13</div>
                  </div>
                </div>
              </div>
              
              <!-- Item 4 -->
              <div class="prompt-item" data-id="3">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Generate ideas for a marketing campaign</div>
                    <div class="prompt-date">2023-06-12</div>
                  </div>
                </div>
              </div>
              
              <!-- Item 5 -->
              <div class="prompt-item" data-id="4">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Create a social media content calendar</div>
                    <div class="prompt-date">2023-06-11</div>
                  </div>
                </div>
              </div> %>


            <% @i2 = @i2 + 1%>
            <% end %>
            </div>
          <% else %>

          <% end %>

        </div>
      </div>
    </div>
    
    <!-- Main Content Area -->
    <div class="content-area">
      <!-- System Prompt Card -->
      <% if Current.user %>
        <% if @pss.first %>
          <div class="card">
            <div class="card-header dark">System Prompt</div>
            <div class="card-content">
              <p id="prompt-description" style="line-height: 1.6; color: #4b5563;">
                <%= @pss.first.system_prompt%>
              </p>
            </div>
          </div>
        <% else %>
          <div class="card">
          <div class="card-header blue">
            <div style="display: flex; align-items: center;">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
              </svg>
              No prompts created!
            </div>
          </div>
          <div class="card-content">
            <p style="line-height: 1.6; color: #4b5563;">
              Create a prompt and begin optimizing!
            </p>
          </div>
        </div>
        <%end%>
      <% else %>
      <% end %>
      
      <!-- Statistics Card -->
      <% if Current.user %>
      <% if @pss.first %>
      <div class="card">
        <div class="card-header blue">
          <div style="display: flex; align-items: center;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
              <circle cx="12" cy="12" r="10"></circle>
              <line x1="12" y1="16" x2="12" y2="12"></line>
              <line x1="12" y1="8" x2="12.01" y2="8"></line>
            </svg>
            Statistics
          </div>
        </div>
        <div class="card-content">
          <div class="stats-container">
            <div>
              <!-- Likes -->
              <div class="stat-item">
                <div class="stat-icon purple">
                  <svg class="thumbs-up" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#7c3aed" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>
                  </svg>
                </div>
                <div>
                  <div class="stat-label">Likes</div>
                  <div class="stat-value" id="likes"><%= @pss.first.like_count%></div>
                </div>
              </div>
              
              <!-- Dislikes -->
              <div class="stat-item">
                <div class="stat-icon red">
                  <svg class="thumbs-down" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#ef4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path>
                  </svg>
                </div>
                <div>
                  <div class="stat-label">Dislikes</div>
                  <div class="stat-value" id="dislikes"><%= @pss.first.dislike_count%></div>
                </div>
              </div>
            </div>
            
            <!-- Donut Chart -->
            <div>
              <svg class="chart" width="150" height="150" viewBox="0 0 150 150">
                <circle cx="75" cy="75" r="60" fill="transparent" stroke="#FF0000" stroke-width="20"></circle>
                <circle id="likeCircle" cx="75" cy="75" r="60" fill="transparent" stroke="#008000" stroke-width="20" stroke-dasharray="<%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count == 0 ? 1 : @pss.first.like_count + @pss.first.dislike_count)) %> <%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count == 0 ? 1 : @pss.first.like_count + @pss.first.dislike_count)) %>" stroke-dashoffset="0"></circle>

                <circle cx="75" cy="75" r="40" fill="white"></circle>
              </svg>
            </div>
          </div>
        </div>
      </div>
      <% end %>
      <% else %>
      <% end %>
      
      <!-- AI Feedback Card -->
      <% if Current.user %>
      <% if @pss.first %>
      <div class="card">
        <div class="card-header blue">
          <div style="display: flex; align-items: center;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
              <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
            </svg>
            Suggestions
          </div>
        </div>
        <div class="card-content">
          <p style="line-height: 1.6; color: #4b5563;" id="feedback">
            <%= @pss.first.feedback%>
          </p>
          <p id="simi"></p>
        </div>
      </div>
      <% end %>
      <% else %>
      <div class="card">
        <div class="card-header blue">
          <div style="display: flex; align-items: center;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
              <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
            </svg>
            Login to access page!
          </div>
        </div>
        <div class="card-content">
          <p style="line-height: 1.6; color: #4b5563;">
            Login through your company/personal account to access the dashboard.
          </p>
        </div>
      </div>
      <% end %>



    </div>
  </div>
  
  <!-- New Prompt Modal -->
  <div id="new-prompt-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); z-index: 100; align-items: center; justify-content: center;">
    <div style="background-color: white; border-radius: 8px; padding: 24px; width: 90%; max-width: 500px; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);">
      <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 16px;">Create New Prompt</h3>
      <%# <form id="new-prompt-form">
        <div style="margin-bottom: 16px;">
          <label for="prompt-title" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt Title</label>
          <input type="text" id="prompt-title" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Enter a title for your prompt" />
        </div>
        <div style="margin-bottom: 16px;">
          <label for="prompt-text" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt</label>
          <textarea id="prompt-text" rows="5" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Write your prompt here..."></textarea>
        </div>
        <div style="display: flex; justify-content: flex-end; gap: 12px;">
          <button type="button" id="cancel-prompt" style="padding: 8px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
          <button type="submit" style="padding: 8px 16px; background-color: #7c3aed; color: white; border: none; border-radius: 6px; cursor: pointer;">Create</button>
        </div>
      </form> %>
      <%= form_with model: @ps, url: new_prompt_path, data: { turbo: false } do |form| %>
<div class="mb-3">
    <%= form.label :uid %>
    <%= form.number_field :uid, class: "form-control", placeholder: "123" %>
</div>
<div class="mb-3">
    <%= form.label :system_prompt %>
    <%= form.text_field :system_prompt, class: "form-control" %>
</div>
<div class="mb-3">
  <button type="button" id="cancel-prompt" style="padding: 7px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
  <%= form.submit "Create form", class: "btn btn-primary" %>
</div>
<% end %>
    </div>
  </div>

  <script>
    // Sample prompt data
    const promptData = [
      <% if Current.user %>
      <% @pss.each do |prompt| %>
      {
        id: <%= @i %>,
        title: "<%= prompt.system_prompt %>",
        date: "<%= prompt.updated_at %>",
        content: "<%= prompt.system_prompt %>",
        likes: <%= prompt.like_count %>,
        dislikes: <%= prompt.dislike_count %>,
        feedback: "<%= prompt.feedback != nil ? prompt.feedback.chomp : " " %>",
        simi: <%= prompt.prompt_sim != nil ? "Similarity rating: <%= prompt.prompt_sim%>" : " " %>
      },
      <% @i = @i + 1%>
      <%end%>

      <% else %>

      <% end %>
    ];
    
    // Handle prompt item clicks
    document.querySelectorAll('.prompt-item').forEach(item => {
      item.addEventListener('click', () => {
        // Get prompt id
        const promptId = parseInt(item.getAttribute('data-id'));
        
        // Update selection visualization
        document.querySelectorAll('.prompt-item').forEach(el => {
          el.classList.remove('selected');
          el.querySelector('.prompt-title').style.color = '#374151';
        });
        
        item.classList.add('selected');
        item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
        
        // Update content based on selection
        const prompt = promptData.find(p => p.id === promptId);
        if (prompt) {
          document.getElementById('prompt-description').textContent = prompt.content;
          document.getElementById('likes').textContent = prompt.likes;
          document.getElementById('dislikes').textContent = prompt.dislikes;
          document.getElementById('feedback').textContent = prompt.feedback;
          document.getElementById('simi').textContent = prompt.simi;
          let lip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
          let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
          document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
        }
      });
    });
    
    // Account dropdown functionality
    const userButton = document.getElementById('user-button');
    const userDropdown = document.getElementById('user-dropdown');
    
    userButton.addEventListener('click', (e) => {
      e.stopPropagation();
      userDropdown.style.display = userDropdown.style.display === 'block' ? 'none' : 'block';
    });
    
    // Close dropdown when clicking elsewhere
    document.addEventListener('click', () => {
      userDropdown.style.display = 'none';
    });
    
    // New prompt modal functionality
    const newPromptButton = document.getElementById('new-prompt-button');
    const newPromptModal = document.getElementById('new-prompt-modal');
    const cancelPromptButton = document.getElementById('cancel-prompt');
    const newPromptForm = document.getElementById('new-prompt-form');
    
    newPromptButton.addEventListener('click', () => {
      newPromptModal.style.display = 'flex';
    });
    
    cancelPromptButton.addEventListener('click', () => {
      newPromptModal.style.display = 'none';
      newPromptForm.reset();
    });
  
    
    // Prevent clicks inside the modal from closing it
    newPromptModal.querySelector('div').addEventListener('click', (e) => {
      e.stopPropagation();
    });
    
    // Close modal when clicking outside
    newPromptModal.addEventListener('click', () => {
      newPromptModal.style.display = 'none';
      newPromptForm.reset();
    });

    
    document.addEventListener('DOMContentLoaded', function() {
        let item = document.querySelector('.prompt-item');
        const promptId = 0;
        console.log(promptId);
        
        // Update selection visualization
        document.querySelectorAll('.prompt-item').forEach(el => {
          el.classList.remove('selected');
          el.querySelector('.prompt-title').style.color = '#374151';
        });
        
        item.classList.add('selected');
        item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
        
        // Update content based on selection
        const prompt = promptData.find(p => p.id === promptId);
        if (prompt) {
          document.getElementById('prompt-description').textContent = prompt.content;
          document.getElementById('likes').textContent = prompt.likes;
          document.getElementById('dislikes').textContent = prompt.dislikes;
          document.getElementById('feedback').textContent = prompt.feedback;
          document.getElementById('simi').textContent = prompt.simi;
          let lip =377 * prompt.likes / (prompt.likes + prompt.dislikes);
          let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
          document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
        }
        console.log(promptId);
    });

  </script>
</body>
</html>
):
1:    <!DOCTYPE html>
2:    <html lang="en">
3:      <% if @ps.errors.any? %>
4:        <div class="alert alert-danger">
5:            <% @ps.errors.full_messages.each do |messages| %>
6:            <div><%= messages %></div>
7:            <% end %>
8:        </div>
9:    <% end %>
10:    <head>
11:    
12:      <meta charset="UTF-8" />
13:      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
14:      <title>PromptFlow</title>
15:      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
16:      <style>
17:        body {
18:          font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
19:          margin: 0;
20:          padding: 0;
21:          background-color: #f5f5f5;
22:        }
23:        
24:        .header {
25:          display: flex;
26:          align-items: center;
27:          justify-content: space-between;
28:          padding: 10px 20px;
29:          background-color: white;
30:          border-bottom: 1px solid #e1e1e1;
31:        }
32:        
33:        .sidebar {
34:          width: 280px;
35:          height: 100vh;
36:          background-color: white;
37:          border-right: 1px solid #e1e1e1;
38:          overflow-y: auto;
39:        }
40:        
41:        .search-bar {
42:          display: flex;
43:          align-items: center;
44:          background-color: #f5f5f5;
45:          border-radius: 6px;
46:          padding: 8px 12px;
47:          margin: 16px;
48:        }
49:        
50:        .search-bar input {
51:          border: none;
52:          background: none;
53:          outline: none;
54:          width: 100%;
55:          margin-left: 8px;
56:        }
57:        
58:        .dashboard-link {
59:          display: flex;
60:          align-items: center;
61:          padding: 10px 16px;
62:          margin: 0 12px;
63:          background-color: oklch(0.882 0.059 254.128);
64:          color: oklch(0.623 0.214 259.815);
65:          border-radius: 6px;
66:          text-decoration: none;
67:        }
68:        
69:        .dashboard-link svg {
70:          margin-right: 12px;
71:        }
72:        
73:        .category-header {
74:          display: flex;
75:          justify-content: space-between;
76:          align-items: center;
77:          padding: 16px;
78:          color: #6b7280;
79:          font-weight: 600;
80:          font-size: 0.8rem;
81:        }
82:        
83:        .history-header {
84:          display: flex;
85:          align-items: center;
86:          padding: 8px 16px;
87:          color: oklch(0.623 0.214 259.815);
88:          font-weight: 500;
89:        }
90:        
91:        .history-header svg {
92:          margin-right: 8px;
93:        }
94:        
95:        .prompt-item {
96:          padding: 12px 16px;
97:          cursor: pointer;
98:        }
99:        
100:        .prompt-item:hover {
101:          background-color: oklch(0.97 0.03 254.604);
102:          transition: 0.2s ease-in-out;
103:        }
104:        
105:        .prompt-item.selected {
106:          background-color: oklch(0.932 0.032 255.585);
107:        }
108:        
109:        .prompt-icon {
110:          margin-right: 12px;
111:          flex-shrink: 0;
112:        }
113:        
114:        .prompt-title {
115:          font-weight: 500;
116:          white-space: nowrap;
117:          overflow: hidden;
118:          text-overflow: ellipsis;
119:          max-width: 180px;
120:        }
121:        
122:        .prompt-date {
123:          font-size: 0.75rem;
124:          color: #6b7280;
125:          margin-top: 4px;
126:        }
127:        
128:        .content-area {
129:          flex: 1;
130:          padding: 20px;
131:        }
132:        
133:        .card {
134:          background-color: white;
135:          border-radius: 8px;
136:          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
137:          margin-bottom: 20px;
138:          overflow: hidden;
139:        }
140:        
141:        .card-header {
142:          padding: 12px 16px;
143:          font-weight: 600;
144:          color: white;
145:        }
146:        
147:        .card-header.dark {
148:          background-color: #1f2937;
149:        }
150:        
151:        .card-header.blue {
152:          background-color: oklch(0.623 0.214 259.815);
153:        }
154:        
155:        .card-content {
156:          padding: 16px;
157:        }
158:        
159:        .stats-container {
160:          display: flex;
161:          justify-content: space-between;
162:          align-items: center;
163:        }
164:        
165:        .stat-item {
166:          display: flex;
167:          align-items: center;
168:          margin-bottom: 16px;
169:        }
170:        
171:        .stat-icon {
172:          width: 40px;
173:          height: 40px;
174:          border-radius: 50%;
175:          display: flex;
176:          align-items: center;
177:          justify-content: center;
178:          margin-right: 12px;
179:        }
180:        
181:        .stat-icon.purple {
182:          background-color: #f3e8ff;
183:        }
184:    
185:        .thumbs-up {
186:          filter: brightness(100%);
187:          cursor: pointer;
188:          transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
189:        }
190:    
191:        .thumbs-up:hover {
192:          filter: brightness(200%);
193:          transform: scale(1.2);
194:        }
195:        
196:        .stat-icon.red {
197:          background-color: #fee2e2;
198:        }
199:    
200:        .thumbs-down:hover {
201:          filter: brightness(100%);
202:          cursor: pointer;
203:          transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
204:        }
205:    
206:        .thumbs-down:hover {
207:          filter: brightness(200%);
208:          transform: scale(1.2);
209:        }
210:        
211:        .stat-label {
212:          font-size: 0.8rem;
213:          color: #6b7280;
214:        }
215:    
216:        .chart {
217:            transform: scale(1);
218:            transition: transform 0.3s ease-in-out;
219:        }
220:    
221:        .chart:hover {
222:            transform: scale(1.2);
223:        }
224:        
225:        .stat-value {
226:          font-size: 1.5rem;
227:          font-weight: 700;
228:        }
229:        
230:        .dropdown {
231:          position: relative;
232:          border-radius: 2rem;
233:          transition: 0.2s ease-in-out;
234:        }
235:        
236:        .dropdown-menu {
237:          display: none;
238:          position: absolute;
239:          right: 0;
240:          top: 40px;
241:          background-color: white;
242:          border-radius: 6px;
243:          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
244:          min-width: 200px;
245:          z-index: 10;
246:        }
247:        
248:        .dropdown-header {
249:          padding: 12px 16px;
250:          font-weight: 600;
251:          border-bottom: 1px solid #f1f1f1;
252:        }
253:        
254:        .dropdown-item {
255:          padding: 12px 16px;
256:          display: block;
257:          color: #333;
258:          text-decoration: none;
259:          border-bottom: 1px solid #f1f1f1;
260:        }
261:        
262:        .dropdown-item:last-child {
263:          border-bottom: none;
264:        }
265:        
266:        .dropdown-item:hover {
267:          background-color: #f9fafb;
268:        }
269:        
270:        .dropdown-item.danger {
271:          color: #ef4444;
272:        }
273:        
274:        .flex {
275:          display: flex;
276:        }
277:        
278:        .flex-col {
279:          flex-direction: column;
280:        }
281:        
282:        .items-center {
283:          align-items: center;
284:        }
285:        
286:        .hidden {
287:          display: none;
288:        }
289:      </style>
290:    </head>
291:    <body>
292:      <!-- Header -->
293:      <header class="header">
294:        <h1><i class="fa-solid fa-worm fa-flip-horizontal"></i>PromptFlow</h1>
295:        
296:        <div class="flex items-center">
297:          <!-- Notifications -->
298:          <button style="margin-right: 16px; background: none; border: none; cursor: pointer;">
299:            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
300:              <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
301:              <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
302:            </svg>
303:          </button>
304:          
305:          <!-- Settings -->
306:          <button id="settings-button" style="margin-right: 16px; background: none; border: none; cursor: pointer;">
307:            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
308:              <circle cx="12" cy="12" r="3"></circle>
309:              <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
310:            </svg>
311:          </button>
312:          
313:          <!-- User Profile -->
314:          
315:          <% if Current.user %>
316:          <div class="dropdown">
317:            <button id="user-button" style="display: flex; align-items: center; background: none; border: none; cursor: pointer;">
318:              <div style="width: 32px; height: 32px; border-radius: 50%; background-color: #7c3aed; color: white; display: flex; align-items: center; justify-content: center; margin-right: 8px;">
319:                <span>DD</span>
320:              </div>
321:              <span style="font-weight: 500; margin-right: 4px;"><%= Current.user.username%></span>
322:              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
323:                <polyline points="6 9 12 15 18 9"></polyline>
324:              </svg>
325:            </button>
326:            <div id="user-dropdown" class="dropdown-menu">
327:              <div class="dropdown-header">My Account</div>
328:              <a href="#" class="dropdown-item">Profile</a>
329:              <a href="#" class="dropdown-item">Settings</a>
330:              <a href="#" class="dropdown-item">Billing</a>
331:              <%= button_to "Log out", sign_out_path, method: :delete, class: "dropdown-item danger", turbo: false %>
332:            </div>
333:          </div>
334:          <% else %>
335:          <%= link_to "Log in", sign_in_path, method: :get, class: "dropdown-item danger", turbo: false %>
336:          <% end %>
337:        </div>
338:      </header>
339:      
340:      <div class="flex">
341:        <!-- Sidebar -->
342:        <div class="sidebar">
343:          <!-- Search Bar -->
344:          <div class="search-bar">
345:            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
346:              <circle cx="11" cy="11" r="8"></circle>
347:              <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
348:            </svg>
349:            <input type="text" placeholder="Search prompts..." />
350:          </div>
351:          
352:          <!-- Dashboard -->
353:          <a href="/get" class="dashboard-link">
354:            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
355:              <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
356:              <polyline points="9 22 9 12 15 12 15 22"></polyline>
357:            </svg>
358:            <span style="color: oklch(0.623 0.214 259.815)">Dashboard</span>
359:          </a>
360:          
361:          <!-- Prompt History -->
362:          <div style="margin-top: 20px;">
363:            <div class="category-header">
364:              <span>PROMPTS</span>
365:              <button id="new-prompt-button" style="background: none; border: none; color: #3b82f6; cursor: pointer;">
366:                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
367:                  <line x1="12" y1="5" x2="12" y2="19"></line>
368:                  <line x1="5" y1="12" x2="19" y2="12"></line>
369:                </svg>
370:              </button>
371:            </div>
372:            
373:            <!-- Prompt History Section -->
374:            <div>
375:              <div class="history-header">
376:                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="oklch(0.623 0.214 259.815)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
377:                  <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"></path>
378:                </svg>
379:                <span>Prompt History</span>
380:              </div>
381:              
382:              <!-- History Items -->
383:              <% if Current.user %>
384:                <div>
385:                <% @pss.each do |prompt| %>
386:                  <!-- Item 1 (selected) -->
387:                  <div class="prompt-item" data-id="<%= @i2 %>">
388:                    <div class="flex" style="align-items: flex-start;">
389:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
390:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
391:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
392:                      </svg>
393:                      <div>
394:                        <div class="prompt-title" style="color: oklch(0.623 0.214 259.815);"><%= prompt.system_prompt %></div>
395:                        <div class="prompt-date"><%= prompt.updated_at %></div>
396:                      </div>
397:                    </div>
398:                  </div>
399:                  <%# 
400:                  <!-- Item 2 -->
401:                  <div class="prompt-item" data-id="1">
402:                    <div class="flex" style="align-items: flex-start;">
403:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
404:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
405:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
406:                      </svg>
407:                      <div>
408:                        <div class="prompt-title">Design a logo for a tech startup</div>
409:                        <div class="prompt-date">2023-06-14</div>
410:                      </div>
411:                    </div>
412:                  </div>
413:                  
414:                  <!-- Item 3 -->
415:                  <div class="prompt-item" data-id="2">
416:                    <div class="flex" style="align-items: flex-start;">
417:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
418:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
419:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
420:                      </svg>
421:                      <div>
422:                        <div class="prompt-title">Write a product description for a new gadget</div>
423:                        <div class="prompt-date">2023-06-13</div>
424:                      </div>
425:                    </div>
426:                  </div>
427:                  
428:                  <!-- Item 4 -->
429:                  <div class="prompt-item" data-id="3">
430:                    <div class="flex" style="align-items: flex-start;">
431:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
432:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
433:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
434:                      </svg>
435:                      <div>
436:                        <div class="prompt-title">Generate ideas for a marketing campaign</div>
437:                        <div class="prompt-date">2023-06-12</div>
438:                      </div>
439:                    </div>
440:                  </div>
441:                  
442:                  <!-- Item 5 -->
443:                  <div class="prompt-item" data-id="4">
444:                    <div class="flex" style="align-items: flex-start;">
445:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
446:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
447:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
448:                      </svg>
449:                      <div>
450:                        <div class="prompt-title">Create a social media content calendar</div>
451:                        <div class="prompt-date">2023-06-11</div>
452:                      </div>
453:                    </div>
454:                  </div> %>
455:    
456:    
457:                <% @i2 = @i2 + 1%>
458:                <% end %>
459:                </div>
460:              <% else %>
461:    
462:              <% end %>
463:    
464:            </div>
465:          </div>
466:        </div>
467:        
468:        <!-- Main Content Area -->
469:        <div class="content-area">
470:          <!-- System Prompt Card -->
471:          <% if Current.user %>
472:            <% if @pss.first %>
473:              <div class="card">
474:                <div class="card-header dark">System Prompt</div>
475:                <div class="card-content">
476:                  <p id="prompt-description" style="line-height: 1.6; color: #4b5563;">
477:                    <%= @pss.first.system_prompt%>
478:                  </p>
479:                </div>
480:              </div>
481:            <% else %>
482:              <div class="card">
483:              <div class="card-header blue">
484:                <div style="display: flex; align-items: center;">
485:                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
486:                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
487:                  </svg>
488:                  No prompts created!
489:                </div>
490:              </div>
491:              <div class="card-content">
492:                <p style="line-height: 1.6; color: #4b5563;">
493:                  Create a prompt and begin optimizing!
494:                </p>
495:              </div>
496:            </div>
497:            <%end%>
498:          <% else %>
499:          <% end %>
500:          
501:          <!-- Statistics Card -->
502:          <% if Current.user %>
503:          <% if @pss.first %>
504:          <div class="card">
505:            <div class="card-header blue">
506:              <div style="display: flex; align-items: center;">
507:                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
508:                  <circle cx="12" cy="12" r="10"></circle>
509:                  <line x1="12" y1="16" x2="12" y2="12"></line>
510:                  <line x1="12" y1="8" x2="12.01" y2="8"></line>
511:                </svg>
512:                Statistics
513:              </div>
514:            </div>
515:            <div class="card-content">
516:              <div class="stats-container">
517:                <div>
518:                  <!-- Likes -->
519:                  <div class="stat-item">
520:                    <div class="stat-icon purple">
521:                      <svg class="thumbs-up" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#7c3aed" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
522:                        <path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>
523:                      </svg>
524:                    </div>
525:                    <div>
526:                      <div class="stat-label">Likes</div>
527:                      <div class="stat-value" id="likes"><%= @pss.first.like_count%></div>
528:                    </div>
529:                  </div>
530:                  
531:                  <!-- Dislikes -->
532:                  <div class="stat-item">
533:                    <div class="stat-icon red">
534:                      <svg class="thumbs-down" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#ef4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
535:                        <path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path>
536:                      </svg>
537:                    </div>
538:                    <div>
539:                      <div class="stat-label">Dislikes</div>
540:                      <div class="stat-value" id="dislikes"><%= @pss.first.dislike_count%></div>
541:                    </div>
542:                  </div>
543:                </div>
544:                
545:                <!-- Donut Chart -->
546:                <div>
547:                  <svg class="chart" width="150" height="150" viewBox="0 0 150 150">
548:                    <circle cx="75" cy="75" r="60" fill="transparent" stroke="#FF0000" stroke-width="20"></circle>
549:                    <circle id="likeCircle" cx="75" cy="75" r="60" fill="transparent" stroke="#008000" stroke-width="20" stroke-dasharray="<%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count == 0 ? 1 : @pss.first.like_count + @pss.first.dislike_count)) %> <%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count == 0 ? 1 : @pss.first.like_count + @pss.first.dislike_count)) %>" stroke-dashoffset="0"></circle>
550:    
551:                    <circle cx="75" cy="75" r="40" fill="white"></circle>
552:                  </svg>
553:                </div>
554:              </div>
555:            </div>
556:          </div>
557:          <% end %>
558:          <% else %>
559:          <% end %>
560:          
561:          <!-- AI Feedback Card -->
562:          <% if Current.user %>
563:          <% if @pss.first %>
564:          <div class="card">
565:            <div class="card-header blue">
566:              <div style="display: flex; align-items: center;">
567:                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
568:                  <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
569:                </svg>
570:                Suggestions
571:              </div>
572:            </div>
573:            <div class="card-content">
574:              <p style="line-height: 1.6; color: #4b5563;" id="feedback">
575:                <%= @pss.first.feedback%>
576:              </p>
577:              <p id="simi"></p>
578:            </div>
579:          </div>
580:          <% end %>
581:          <% else %>
582:          <div class="card">
583:            <div class="card-header blue">
584:              <div style="display: flex; align-items: center;">
585:                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
586:                  <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
587:                </svg>
588:                Login to access page!
589:              </div>
590:            </div>
591:            <div class="card-content">
592:              <p style="line-height: 1.6; color: #4b5563;">
593:                Login through your company/personal account to access the dashboard.
594:              </p>
595:            </div>
596:          </div>
597:          <% end %>
598:    
599:    
600:    
601:        </div>
602:      </div>
603:      
604:      <!-- New Prompt Modal -->
605:      <div id="new-prompt-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); z-index: 100; align-items: center; justify-content: center;">
606:        <div style="background-color: white; border-radius: 8px; padding: 24px; width: 90%; max-width: 500px; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);">
607:          <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 16px;">Create New Prompt</h3>
608:          <%# <form id="new-prompt-form">
609:            <div style="margin-bottom: 16px;">
610:              <label for="prompt-title" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt Title</label>
611:              <input type="text" id="prompt-title" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Enter a title for your prompt" />
612:            </div>
613:            <div style="margin-bottom: 16px;">
614:              <label for="prompt-text" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt</label>
615:              <textarea id="prompt-text" rows="5" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Write your prompt here..."></textarea>
616:            </div>
617:            <div style="display: flex; justify-content: flex-end; gap: 12px;">
618:              <button type="button" id="cancel-prompt" style="padding: 8px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
619:              <button type="submit" style="padding: 8px 16px; background-color: #7c3aed; color: white; border: none; border-radius: 6px; cursor: pointer;">Create</button>
620:            </div>
621:          </form> %>
622:          <%= form_with model: @ps, url: new_prompt_path, data: { turbo: false } do |form| %>
623:    <div class="mb-3">
624:        <%= form.label :uid %>
625:        <%= form.number_field :uid, class: "form-control", placeholder: "123" %>
626:    </div>
627:    <div class="mb-3">
628:        <%= form.label :system_prompt %>
629:        <%= form.text_field :system_prompt, class: "form-control" %>
630:    </div>
631:    <div class="mb-3">
632:      <button type="button" id="cancel-prompt" style="padding: 7px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
633:      <%= form.submit "Create form", class: "btn btn-primary" %>
634:    </div>
635:    <% end %>
636:        </div>
637:      </div>
638:    
639:      <script>
640:        // Sample prompt data
641:        const promptData = [
642:          <% if Current.user %>
643:          <% @pss.each do |prompt| %>
644:          {
645:            id: <%= @i %>,
646:            title: "<%= prompt.system_prompt %>",
647:            date: "<%= prompt.updated_at %>",
648:            content: "<%= prompt.system_prompt %>",
649:            likes: <%= prompt.like_count %>,
650:            dislikes: <%= prompt.dislike_count %>,
651:            feedback: "<%= prompt.feedback != nil ? prompt.feedback.chomp : " " %>",
652:            simi: <%= prompt.prompt_sim != nil ? "Similarity rating: <%= prompt.prompt_sim%>" : " " %>
653:          },
654:          <% @i = @i + 1%>
655:          <%end%>
656:    
657:          <% else %>
658:    
659:          <% end %>
660:        ];
661:        
662:        // Handle prompt item clicks
663:        document.querySelectorAll('.prompt-item').forEach(item => {
664:          item.addEventListener('click', () => {
665:            // Get prompt id
666:            const promptId = parseInt(item.getAttribute('data-id'));
667:            
668:            // Update selection visualization
669:            document.querySelectorAll('.prompt-item').forEach(el => {
670:              el.classList.remove('selected');
671:              el.querySelector('.prompt-title').style.color = '#374151';
672:            });
673:            
674:            item.classList.add('selected');
675:            item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
676:            
677:            // Update content based on selection
678:            const prompt = promptData.find(p => p.id === promptId);
679:            if (prompt) {
680:              document.getElementById('prompt-description').textContent = prompt.content;
681:              document.getElementById('likes').textContent = prompt.likes;
682:              document.getElementById('dislikes').textContent = prompt.dislikes;
683:              document.getElementById('feedback').textContent = prompt.feedback;
684:              document.getElementById('simi').textContent = prompt.simi;
685:              let lip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
686:              let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
687:              document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
688:            }
689:          });
690:        });
691:        
692:        // Account dropdown functionality
693:        const userButton = document.getElementById('user-button');
694:        const userDropdown = document.getElementById('user-dropdown');
695:        
696:        userButton.addEventListener('click', (e) => {
697:          e.stopPropagation();
698:          userDropdown.style.display = userDropdown.style.display === 'block' ? 'none' : 'block';
699:        });
700:        
701:        // Close dropdown when clicking elsewhere
702:        document.addEventListener('click', () => {
703:          userDropdown.style.display = 'none';
704:        });
705:        
706:        // New prompt modal functionality
707:        const newPromptButton = document.getElementById('new-prompt-button');
708:        const newPromptModal = document.getElementById('new-prompt-modal');
709:        const cancelPromptButton = document.getElementById('cancel-prompt');
710:        const newPromptForm = document.getElementById('new-prompt-form');
711:        
712:        newPromptButton.addEventListener('click', () => {
713:          newPromptModal.style.display = 'flex';
714:        });
715:        
716:        cancelPromptButton.addEventListener('click', () => {
717:          newPromptModal.style.display = 'none';
718:          newPromptForm.reset();
719:        });
720:      
721:        
722:        // Prevent clicks inside the modal from closing it
723:        newPromptModal.querySelector('div').addEventListener('click', (e) => {
724:          e.stopPropagation();
725:        });
726:        
727:        // Close modal when clicking outside
728:        newPromptModal.addEventListener('click', () => {
729:          newPromptModal.style.display = 'none';
730:          newPromptForm.reset();
731:        });
732:    
733:        
734:        document.addEventListener('DOMContentLoaded', function() {
735:            let item = document.querySelector('.prompt-item');
736:            const promptId = 0;
737:            console.log(promptId);
738:            
739:            // Update selection visualization
740:            document.querySelectorAll('.prompt-item').forEach(el => {
741:              el.classList.remove('selected');
742:              el.querySelector('.prompt-title').style.color = '#374151';
743:            });
744:            
745:            item.classList.add('selected');
746:            item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
747:            
748:            // Update content based on selection
749:            const prompt = promptData.find(p => p.id === promptId);
750:            if (prompt) {
751:              document.getElementById('prompt-description').textContent = prompt.content;
752:              document.getElementById('likes').textContent = prompt.likes;
753:              document.getElementById('dislikes').textContent = prompt.dislikes;
754:              document.getElementById('feedback').textContent = prompt.feedback;
755:              document.getElementById('simi').textContent = prompt.simi;
756:              let lip =377 * prompt.likes / (prompt.likes + prompt.dislikes);
757:              let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
758:              document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
759:            }
760:            console.log(promptId);
761:        });
762:    
763:      </script>
764:    </body>
765:    </html>
  
app/views/main/home.html.erb:652: syntax error, unexpected '>'
app/views/main/home.html.erb:660: syntax error, unexpected ']', expecting ')'
app/views/main/home.html.erb:662: syntax error, unexpected constant, expecting ')'
app/views/main/home.html.erb:663: syntax error, unexpected backslash, expecting ')'
app/views/main/home.html.erb:767: syntax error, unexpected `end', expecting ')'
Started GET "/" for ::1 at 2025-03-23 08:23:07 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.0ms | Allocations: 3118)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | Allocations: 3222)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.1ms | Allocations: 4290)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <!DOCTYPE html>
<html lang="en">
  <% if @ps.errors.any? %>
    <div class="alert alert-danger">
        <% @ps.errors.full_messages.each do |messages| %>
        <div><%= messages %></div>
        <% end %>
    </div>
<% end %>
<head>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PromptFlow</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f5f5f5;
    }
    
    .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 20px;
      background-color: white;
      border-bottom: 1px solid #e1e1e1;
    }
    
    .sidebar {
      width: 280px;
      height: 100vh;
      background-color: white;
      border-right: 1px solid #e1e1e1;
      overflow-y: auto;
    }
    
    .search-bar {
      display: flex;
      align-items: center;
      background-color: #f5f5f5;
      border-radius: 6px;
      padding: 8px 12px;
      margin: 16px;
    }
    
    .search-bar input {
      border: none;
      background: none;
      outline: none;
      width: 100%;
      margin-left: 8px;
    }
    
    .dashboard-link {
      display: flex;
      align-items: center;
      padding: 10px 16px;
      margin: 0 12px;
      background-color: oklch(0.882 0.059 254.128);
      color: oklch(0.623 0.214 259.815);
      border-radius: 6px;
      text-decoration: none;
    }
    
    .dashboard-link svg {
      margin-right: 12px;
    }
    
    .category-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 16px;
      color: #6b7280;
      font-weight: 600;
      font-size: 0.8rem;
    }
    
    .history-header {
      display: flex;
      align-items: center;
      padding: 8px 16px;
      color: oklch(0.623 0.214 259.815);
      font-weight: 500;
    }
    
    .history-header svg {
      margin-right: 8px;
    }
    
    .prompt-item {
      padding: 12px 16px;
      cursor: pointer;
    }
    
    .prompt-item:hover {
      background-color: oklch(0.97 0.03 254.604);
      transition: 0.2s ease-in-out;
    }
    
    .prompt-item.selected {
      background-color: oklch(0.932 0.032 255.585);
    }
    
    .prompt-icon {
      margin-right: 12px;
      flex-shrink: 0;
    }
    
    .prompt-title {
      font-weight: 500;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      max-width: 180px;
    }
    
    .prompt-date {
      font-size: 0.75rem;
      color: #6b7280;
      margin-top: 4px;
    }
    
    .content-area {
      flex: 1;
      padding: 20px;
    }
    
    .card {
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      margin-bottom: 20px;
      overflow: hidden;
    }
    
    .card-header {
      padding: 12px 16px;
      font-weight: 600;
      color: white;
    }
    
    .card-header.dark {
      background-color: #1f2937;
    }
    
    .card-header.blue {
      background-color: oklch(0.623 0.214 259.815);
    }
    
    .card-content {
      padding: 16px;
    }
    
    .stats-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .stat-item {
      display: flex;
      align-items: center;
      margin-bottom: 16px;
    }
    
    .stat-icon {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 12px;
    }
    
    .stat-icon.purple {
      background-color: #f3e8ff;
    }

    .thumbs-up {
      filter: brightness(100%);
      cursor: pointer;
      transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
    }

    .thumbs-up:hover {
      filter: brightness(200%);
      transform: scale(1.2);
    }
    
    .stat-icon.red {
      background-color: #fee2e2;
    }

    .thumbs-down:hover {
      filter: brightness(100%);
      cursor: pointer;
      transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
    }

    .thumbs-down:hover {
      filter: brightness(200%);
      transform: scale(1.2);
    }
    
    .stat-label {
      font-size: 0.8rem;
      color: #6b7280;
    }

    .chart {
        transform: scale(1);
        transition: transform 0.3s ease-in-out;
    }

    .chart:hover {
        transform: scale(1.2);
    }
    
    .stat-value {
      font-size: 1.5rem;
      font-weight: 700;
    }
    
    .dropdown {
      position: relative;
      border-radius: 2rem;
      transition: 0.2s ease-in-out;
    }
    
    .dropdown-menu {
      display: none;
      position: absolute;
      right: 0;
      top: 40px;
      background-color: white;
      border-radius: 6px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      min-width: 200px;
      z-index: 10;
    }
    
    .dropdown-header {
      padding: 12px 16px;
      font-weight: 600;
      border-bottom: 1px solid #f1f1f1;
    }
    
    .dropdown-item {
      padding: 12px 16px;
      display: block;
      color: #333;
      text-decoration: none;
      border-bottom: 1px solid #f1f1f1;
    }
    
    .dropdown-item:last-child {
      border-bottom: none;
    }
    
    .dropdown-item:hover {
      background-color: #f9fafb;
    }
    
    .dropdown-item.danger {
      color: #ef4444;
    }
    
    .flex {
      display: flex;
    }
    
    .flex-col {
      flex-direction: column;
    }
    
    .items-center {
      align-items: center;
    }
    
    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <h1><i class="fa-solid fa-worm fa-flip-horizontal"></i>PromptFlow</h1>
    
    <div class="flex items-center">
      <!-- Notifications -->
      <button style="margin-right: 16px; background: none; border: none; cursor: pointer;">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
          <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
        </svg>
      </button>
      
      <!-- Settings -->
      <button id="settings-button" style="margin-right: 16px; background: none; border: none; cursor: pointer;">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="3"></circle>
          <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
        </svg>
      </button>
      
      <!-- User Profile -->
      
      <% if Current.user %>
      <div class="dropdown">
        <button id="user-button" style="display: flex; align-items: center; background: none; border: none; cursor: pointer;">
          <div style="width: 32px; height: 32px; border-radius: 50%; background-color: #7c3aed; color: white; display: flex; align-items: center; justify-content: center; margin-right: 8px;">
            <span>DD</span>
          </div>
          <span style="font-weight: 500; margin-right: 4px;"><%= Current.user.username%></span>
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="6 9 12 15 18 9"></polyline>
          </svg>
        </button>
        <div id="user-dropdown" class="dropdown-menu">
          <div class="dropdown-header">My Account</div>
          <a href="#" class="dropdown-item">Profile</a>
          <a href="#" class="dropdown-item">Settings</a>
          <a href="#" class="dropdown-item">Billing</a>
          <%= button_to "Log out", sign_out_path, method: :delete, class: "dropdown-item danger", turbo: false %>
        </div>
      </div>
      <% else %>
      <%= link_to "Log in", sign_in_path, method: :get, class: "dropdown-item danger", turbo: false %>
      <% end %>
    </div>
  </header>
  
  <div class="flex">
    <!-- Sidebar -->
    <div class="sidebar">
      <!-- Search Bar -->
      <div class="search-bar">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="11" cy="11" r="8"></circle>
          <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
        <input type="text" placeholder="Search prompts..." />
      </div>
      
      <!-- Dashboard -->
      <a href="/get" class="dashboard-link">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
          <polyline points="9 22 9 12 15 12 15 22"></polyline>
        </svg>
        <span style="color: oklch(0.623 0.214 259.815)">Dashboard</span>
      </a>
      
      <!-- Prompt History -->
      <div style="margin-top: 20px;">
        <div class="category-header">
          <span>PROMPTS</span>
          <button id="new-prompt-button" style="background: none; border: none; color: #3b82f6; cursor: pointer;">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="12" y1="5" x2="12" y2="19"></line>
              <line x1="5" y1="12" x2="19" y2="12"></line>
            </svg>
          </button>
        </div>
        
        <!-- Prompt History Section -->
        <div>
          <div class="history-header">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="oklch(0.623 0.214 259.815)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"></path>
            </svg>
            <span>Prompt History</span>
          </div>
          
          <!-- History Items -->
          <% if Current.user %>
            <div>
            <% @pss.each do |prompt| %>
              <!-- Item 1 (selected) -->
              <div class="prompt-item" data-id="<%= @i2 %>">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title" style="color: oklch(0.623 0.214 259.815);"><%= prompt.system_prompt %></div>
                    <div class="prompt-date"><%= prompt.updated_at %></div>
                  </div>
                </div>
              </div>
              <%# 
              <!-- Item 2 -->
              <div class="prompt-item" data-id="1">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Design a logo for a tech startup</div>
                    <div class="prompt-date">2023-06-14</div>
                  </div>
                </div>
              </div>
              
              <!-- Item 3 -->
              <div class="prompt-item" data-id="2">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Write a product description for a new gadget</div>
                    <div class="prompt-date">2023-06-13</div>
                  </div>
                </div>
              </div>
              
              <!-- Item 4 -->
              <div class="prompt-item" data-id="3">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Generate ideas for a marketing campaign</div>
                    <div class="prompt-date">2023-06-12</div>
                  </div>
                </div>
              </div>
              
              <!-- Item 5 -->
              <div class="prompt-item" data-id="4">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Create a social media content calendar</div>
                    <div class="prompt-date">2023-06-11</div>
                  </div>
                </div>
              </div> %>


            <% @i2 = @i2 + 1%>
            <% end %>
            </div>
          <% else %>

          <% end %>

        </div>
      </div>
    </div>
    
    <!-- Main Content Area -->
    <div class="content-area">
      <!-- System Prompt Card -->
      <% if Current.user %>
        <% if @pss.first %>
          <div class="card">
            <div class="card-header dark">System Prompt</div>
            <div class="card-content">
              <p id="prompt-description" style="line-height: 1.6; color: #4b5563;">
                <%= @pss.first.system_prompt%>
              </p>
            </div>
          </div>
        <% else %>
          <div class="card">
          <div class="card-header blue">
            <div style="display: flex; align-items: center;">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
              </svg>
              No prompts created!
            </div>
          </div>
          <div class="card-content">
            <p style="line-height: 1.6; color: #4b5563;">
              Create a prompt and begin optimizing!
            </p>
          </div>
        </div>
        <%end%>
      <% else %>
      <% end %>
      
      <!-- Statistics Card -->
      <% if Current.user %>
      <% if @pss.first %>
      <div class="card">
        <div class="card-header blue">
          <div style="display: flex; align-items: center;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
              <circle cx="12" cy="12" r="10"></circle>
              <line x1="12" y1="16" x2="12" y2="12"></line>
              <line x1="12" y1="8" x2="12.01" y2="8"></line>
            </svg>
            Statistics
          </div>
        </div>
        <div class="card-content">
          <div class="stats-container">
            <div>
              <!-- Likes -->
              <div class="stat-item">
                <div class="stat-icon purple">
                  <svg class="thumbs-up" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#7c3aed" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>
                  </svg>
                </div>
                <div>
                  <div class="stat-label">Likes</div>
                  <div class="stat-value" id="likes"><%= @pss.first.like_count%></div>
                </div>
              </div>
              
              <!-- Dislikes -->
              <div class="stat-item">
                <div class="stat-icon red">
                  <svg class="thumbs-down" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#ef4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path>
                  </svg>
                </div>
                <div>
                  <div class="stat-label">Dislikes</div>
                  <div class="stat-value" id="dislikes"><%= @pss.first.dislike_count%></div>
                </div>
              </div>
            </div>
            
            <!-- Donut Chart -->
            <div>
              <svg class="chart" width="150" height="150" viewBox="0 0 150 150">
                <circle cx="75" cy="75" r="60" fill="transparent" stroke="#FF0000" stroke-width="20"></circle>
                <circle id="likeCircle" cx="75" cy="75" r="60" fill="transparent" stroke="#008000" stroke-width="20" stroke-dasharray="<%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count == 0 ? 1 : @pss.first.like_count + @pss.first.dislike_count)) %> <%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count == 0 ? 1 : @pss.first.like_count + @pss.first.dislike_count)) %>" stroke-dashoffset="0"></circle>

                <circle cx="75" cy="75" r="40" fill="white"></circle>
              </svg>
            </div>
          </div>
        </div>
      </div>
      <% end %>
      <% else %>
      <% end %>
      
      <!-- AI Feedback Card -->
      <% if Current.user %>
      <% if @pss.first %>
      <div class="card">
        <div class="card-header blue">
          <div style="display: flex; align-items: center;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
              <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
            </svg>
            Suggestions
          </div>
        </div>
        <div class="card-content">
          <p style="line-height: 1.6; color: #4b5563;" id="feedback">
            <%= @pss.first.feedback%>
          </p>
          <p id="simi"></p>
        </div>
      </div>
      <% end %>
      <% else %>
      <div class="card">
        <div class="card-header blue">
          <div style="display: flex; align-items: center;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
              <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
            </svg>
            Login to access page!
          </div>
        </div>
        <div class="card-content">
          <p style="line-height: 1.6; color: #4b5563;">
            Login through your company/personal account to access the dashboard.
          </p>
        </div>
      </div>
      <% end %>



    </div>
  </div>
  
  <!-- New Prompt Modal -->
  <div id="new-prompt-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); z-index: 100; align-items: center; justify-content: center;">
    <div style="background-color: white; border-radius: 8px; padding: 24px; width: 90%; max-width: 500px; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);">
      <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 16px;">Create New Prompt</h3>
      <%# <form id="new-prompt-form">
        <div style="margin-bottom: 16px;">
          <label for="prompt-title" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt Title</label>
          <input type="text" id="prompt-title" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Enter a title for your prompt" />
        </div>
        <div style="margin-bottom: 16px;">
          <label for="prompt-text" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt</label>
          <textarea id="prompt-text" rows="5" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Write your prompt here..."></textarea>
        </div>
        <div style="display: flex; justify-content: flex-end; gap: 12px;">
          <button type="button" id="cancel-prompt" style="padding: 8px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
          <button type="submit" style="padding: 8px 16px; background-color: #7c3aed; color: white; border: none; border-radius: 6px; cursor: pointer;">Create</button>
        </div>
      </form> %>
      <%= form_with model: @ps, url: new_prompt_path, data: { turbo: false } do |form| %>
<div class="mb-3">
    <%= form.label :uid %>
    <%= form.number_field :uid, class: "form-control", placeholder: "123" %>
</div>
<div class="mb-3">
    <%= form.label :system_prompt %>
    <%= form.text_field :system_prompt, class: "form-control" %>
</div>
<div class="mb-3">
  <button type="button" id="cancel-prompt" style="padding: 7px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
  <%= form.submit "Create form", class: "btn btn-primary" %>
</div>
<% end %>
    </div>
  </div>

  <script>
    // Sample prompt data
    const promptData = [
      <% if Current.user %>
      <% @pss.each do |prompt| %>
      {
        id: <%= @i %>,
        title: "<%= prompt.system_prompt %>",
        date: "<%= prompt.updated_at %>",
        content: "<%= prompt.system_prompt %>",
        likes: <%= prompt.like_count %>,
        dislikes: <%= prompt.dislike_count %>,
        feedback: "<%= prompt.feedback != nil ? prompt.feedback.chomp : " " %>",
        simi: <%= prompt.prompt_sim != nil ? "Similarity rating: <%= prompt.prompt_sim%>" : " " %>
      },
      <% @i = @i + 1%>
      <%end%>

      <% else %>

      <% end %>
    ];
    
    // Handle prompt item clicks
    document.querySelectorAll('.prompt-item').forEach(item => {
      item.addEventListener('click', () => {
        // Get prompt id
        const promptId = parseInt(item.getAttribute('data-id'));
        
        // Update selection visualization
        document.querySelectorAll('.prompt-item').forEach(el => {
          el.classList.remove('selected');
          el.querySelector('.prompt-title').style.color = '#374151';
        });
        
        item.classList.add('selected');
        item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
        
        // Update content based on selection
        const prompt = promptData.find(p => p.id === promptId);
        if (prompt) {
          document.getElementById('prompt-description').textContent = prompt.content;
          document.getElementById('likes').textContent = prompt.likes;
          document.getElementById('dislikes').textContent = prompt.dislikes;
          document.getElementById('feedback').textContent = prompt.feedback;
          document.getElementById('simi').textContent = prompt.simi;
          let lip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
          let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
          document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
        }
      });
    });
    
    // Account dropdown functionality
    const userButton = document.getElementById('user-button');
    const userDropdown = document.getElementById('user-dropdown');
    
    userButton.addEventListener('click', (e) => {
      e.stopPropagation();
      userDropdown.style.display = userDropdown.style.display === 'block' ? 'none' : 'block';
    });
    
    // Close dropdown when clicking elsewhere
    document.addEventListener('click', () => {
      userDropdown.style.display = 'none';
    });
    
    // New prompt modal functionality
    const newPromptButton = document.getElementById('new-prompt-button');
    const newPromptModal = document.getElementById('new-prompt-modal');
    const cancelPromptButton = document.getElementById('cancel-prompt');
    const newPromptForm = document.getElementById('new-prompt-form');
    
    newPromptButton.addEventListener('click', () => {
      newPromptModal.style.display = 'flex';
    });
    
    cancelPromptButton.addEventListener('click', () => {
      newPromptModal.style.display = 'none';
      newPromptForm.reset();
    });
  
    
    // Prevent clicks inside the modal from closing it
    newPromptModal.querySelector('div').addEventListener('click', (e) => {
      e.stopPropagation();
    });
    
    // Close modal when clicking outside
    newPromptModal.addEventListener('click', () => {
      newPromptModal.style.display = 'none';
      newPromptForm.reset();
    });

    
    document.addEventListener('DOMContentLoaded', function() {
        let item = document.querySelector('.prompt-item');
        const promptId = 0;
        console.log(promptId);
        
        // Update selection visualization
        document.querySelectorAll('.prompt-item').forEach(el => {
          el.classList.remove('selected');
          el.querySelector('.prompt-title').style.color = '#374151';
        });
        
        item.classList.add('selected');
        item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
        
        // Update content based on selection
        const prompt = promptData.find(p => p.id === promptId);
        if (prompt) {
          document.getElementById('prompt-description').textContent = prompt.content;
          document.getElementById('likes').textContent = prompt.likes;
          document.getElementById('dislikes').textContent = prompt.dislikes;
          document.getElementById('feedback').textContent = prompt.feedback;
          document.getElementById('simi').textContent = prompt.simi;
          let lip =377 * prompt.likes / (prompt.likes + prompt.dislikes);
          let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
          document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
        }
        console.log(promptId);
    });

  </script>
</body>
</html>
):
1:    <!DOCTYPE html>
2:    <html lang="en">
3:      <% if @ps.errors.any? %>
4:        <div class="alert alert-danger">
5:            <% @ps.errors.full_messages.each do |messages| %>
6:            <div><%= messages %></div>
7:            <% end %>
8:        </div>
9:    <% end %>
10:    <head>
11:    
12:      <meta charset="UTF-8" />
13:      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
14:      <title>PromptFlow</title>
15:      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
16:      <style>
17:        body {
18:          font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
19:          margin: 0;
20:          padding: 0;
21:          background-color: #f5f5f5;
22:        }
23:        
24:        .header {
25:          display: flex;
26:          align-items: center;
27:          justify-content: space-between;
28:          padding: 10px 20px;
29:          background-color: white;
30:          border-bottom: 1px solid #e1e1e1;
31:        }
32:        
33:        .sidebar {
34:          width: 280px;
35:          height: 100vh;
36:          background-color: white;
37:          border-right: 1px solid #e1e1e1;
38:          overflow-y: auto;
39:        }
40:        
41:        .search-bar {
42:          display: flex;
43:          align-items: center;
44:          background-color: #f5f5f5;
45:          border-radius: 6px;
46:          padding: 8px 12px;
47:          margin: 16px;
48:        }
49:        
50:        .search-bar input {
51:          border: none;
52:          background: none;
53:          outline: none;
54:          width: 100%;
55:          margin-left: 8px;
56:        }
57:        
58:        .dashboard-link {
59:          display: flex;
60:          align-items: center;
61:          padding: 10px 16px;
62:          margin: 0 12px;
63:          background-color: oklch(0.882 0.059 254.128);
64:          color: oklch(0.623 0.214 259.815);
65:          border-radius: 6px;
66:          text-decoration: none;
67:        }
68:        
69:        .dashboard-link svg {
70:          margin-right: 12px;
71:        }
72:        
73:        .category-header {
74:          display: flex;
75:          justify-content: space-between;
76:          align-items: center;
77:          padding: 16px;
78:          color: #6b7280;
79:          font-weight: 600;
80:          font-size: 0.8rem;
81:        }
82:        
83:        .history-header {
84:          display: flex;
85:          align-items: center;
86:          padding: 8px 16px;
87:          color: oklch(0.623 0.214 259.815);
88:          font-weight: 500;
89:        }
90:        
91:        .history-header svg {
92:          margin-right: 8px;
93:        }
94:        
95:        .prompt-item {
96:          padding: 12px 16px;
97:          cursor: pointer;
98:        }
99:        
100:        .prompt-item:hover {
101:          background-color: oklch(0.97 0.03 254.604);
102:          transition: 0.2s ease-in-out;
103:        }
104:        
105:        .prompt-item.selected {
106:          background-color: oklch(0.932 0.032 255.585);
107:        }
108:        
109:        .prompt-icon {
110:          margin-right: 12px;
111:          flex-shrink: 0;
112:        }
113:        
114:        .prompt-title {
115:          font-weight: 500;
116:          white-space: nowrap;
117:          overflow: hidden;
118:          text-overflow: ellipsis;
119:          max-width: 180px;
120:        }
121:        
122:        .prompt-date {
123:          font-size: 0.75rem;
124:          color: #6b7280;
125:          margin-top: 4px;
126:        }
127:        
128:        .content-area {
129:          flex: 1;
130:          padding: 20px;
131:        }
132:        
133:        .card {
134:          background-color: white;
135:          border-radius: 8px;
136:          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
137:          margin-bottom: 20px;
138:          overflow: hidden;
139:        }
140:        
141:        .card-header {
142:          padding: 12px 16px;
143:          font-weight: 600;
144:          color: white;
145:        }
146:        
147:        .card-header.dark {
148:          background-color: #1f2937;
149:        }
150:        
151:        .card-header.blue {
152:          background-color: oklch(0.623 0.214 259.815);
153:        }
154:        
155:        .card-content {
156:          padding: 16px;
157:        }
158:        
159:        .stats-container {
160:          display: flex;
161:          justify-content: space-between;
162:          align-items: center;
163:        }
164:        
165:        .stat-item {
166:          display: flex;
167:          align-items: center;
168:          margin-bottom: 16px;
169:        }
170:        
171:        .stat-icon {
172:          width: 40px;
173:          height: 40px;
174:          border-radius: 50%;
175:          display: flex;
176:          align-items: center;
177:          justify-content: center;
178:          margin-right: 12px;
179:        }
180:        
181:        .stat-icon.purple {
182:          background-color: #f3e8ff;
183:        }
184:    
185:        .thumbs-up {
186:          filter: brightness(100%);
187:          cursor: pointer;
188:          transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
189:        }
190:    
191:        .thumbs-up:hover {
192:          filter: brightness(200%);
193:          transform: scale(1.2);
194:        }
195:        
196:        .stat-icon.red {
197:          background-color: #fee2e2;
198:        }
199:    
200:        .thumbs-down:hover {
201:          filter: brightness(100%);
202:          cursor: pointer;
203:          transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
204:        }
205:    
206:        .thumbs-down:hover {
207:          filter: brightness(200%);
208:          transform: scale(1.2);
209:        }
210:        
211:        .stat-label {
212:          font-size: 0.8rem;
213:          color: #6b7280;
214:        }
215:    
216:        .chart {
217:            transform: scale(1);
218:            transition: transform 0.3s ease-in-out;
219:        }
220:    
221:        .chart:hover {
222:            transform: scale(1.2);
223:        }
224:        
225:        .stat-value {
226:          font-size: 1.5rem;
227:          font-weight: 700;
228:        }
229:        
230:        .dropdown {
231:          position: relative;
232:          border-radius: 2rem;
233:          transition: 0.2s ease-in-out;
234:        }
235:        
236:        .dropdown-menu {
237:          display: none;
238:          position: absolute;
239:          right: 0;
240:          top: 40px;
241:          background-color: white;
242:          border-radius: 6px;
243:          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
244:          min-width: 200px;
245:          z-index: 10;
246:        }
247:        
248:        .dropdown-header {
249:          padding: 12px 16px;
250:          font-weight: 600;
251:          border-bottom: 1px solid #f1f1f1;
252:        }
253:        
254:        .dropdown-item {
255:          padding: 12px 16px;
256:          display: block;
257:          color: #333;
258:          text-decoration: none;
259:          border-bottom: 1px solid #f1f1f1;
260:        }
261:        
262:        .dropdown-item:last-child {
263:          border-bottom: none;
264:        }
265:        
266:        .dropdown-item:hover {
267:          background-color: #f9fafb;
268:        }
269:        
270:        .dropdown-item.danger {
271:          color: #ef4444;
272:        }
273:        
274:        .flex {
275:          display: flex;
276:        }
277:        
278:        .flex-col {
279:          flex-direction: column;
280:        }
281:        
282:        .items-center {
283:          align-items: center;
284:        }
285:        
286:        .hidden {
287:          display: none;
288:        }
289:      </style>
290:    </head>
291:    <body>
292:      <!-- Header -->
293:      <header class="header">
294:        <h1><i class="fa-solid fa-worm fa-flip-horizontal"></i>PromptFlow</h1>
295:        
296:        <div class="flex items-center">
297:          <!-- Notifications -->
298:          <button style="margin-right: 16px; background: none; border: none; cursor: pointer;">
299:            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
300:              <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
301:              <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
302:            </svg>
303:          </button>
304:          
305:          <!-- Settings -->
306:          <button id="settings-button" style="margin-right: 16px; background: none; border: none; cursor: pointer;">
307:            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
308:              <circle cx="12" cy="12" r="3"></circle>
309:              <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
310:            </svg>
311:          </button>
312:          
313:          <!-- User Profile -->
314:          
315:          <% if Current.user %>
316:          <div class="dropdown">
317:            <button id="user-button" style="display: flex; align-items: center; background: none; border: none; cursor: pointer;">
318:              <div style="width: 32px; height: 32px; border-radius: 50%; background-color: #7c3aed; color: white; display: flex; align-items: center; justify-content: center; margin-right: 8px;">
319:                <span>DD</span>
320:              </div>
321:              <span style="font-weight: 500; margin-right: 4px;"><%= Current.user.username%></span>
322:              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
323:                <polyline points="6 9 12 15 18 9"></polyline>
324:              </svg>
325:            </button>
326:            <div id="user-dropdown" class="dropdown-menu">
327:              <div class="dropdown-header">My Account</div>
328:              <a href="#" class="dropdown-item">Profile</a>
329:              <a href="#" class="dropdown-item">Settings</a>
330:              <a href="#" class="dropdown-item">Billing</a>
331:              <%= button_to "Log out", sign_out_path, method: :delete, class: "dropdown-item danger", turbo: false %>
332:            </div>
333:          </div>
334:          <% else %>
335:          <%= link_to "Log in", sign_in_path, method: :get, class: "dropdown-item danger", turbo: false %>
336:          <% end %>
337:        </div>
338:      </header>
339:      
340:      <div class="flex">
341:        <!-- Sidebar -->
342:        <div class="sidebar">
343:          <!-- Search Bar -->
344:          <div class="search-bar">
345:            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
346:              <circle cx="11" cy="11" r="8"></circle>
347:              <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
348:            </svg>
349:            <input type="text" placeholder="Search prompts..." />
350:          </div>
351:          
352:          <!-- Dashboard -->
353:          <a href="/get" class="dashboard-link">
354:            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
355:              <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
356:              <polyline points="9 22 9 12 15 12 15 22"></polyline>
357:            </svg>
358:            <span style="color: oklch(0.623 0.214 259.815)">Dashboard</span>
359:          </a>
360:          
361:          <!-- Prompt History -->
362:          <div style="margin-top: 20px;">
363:            <div class="category-header">
364:              <span>PROMPTS</span>
365:              <button id="new-prompt-button" style="background: none; border: none; color: #3b82f6; cursor: pointer;">
366:                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
367:                  <line x1="12" y1="5" x2="12" y2="19"></line>
368:                  <line x1="5" y1="12" x2="19" y2="12"></line>
369:                </svg>
370:              </button>
371:            </div>
372:            
373:            <!-- Prompt History Section -->
374:            <div>
375:              <div class="history-header">
376:                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="oklch(0.623 0.214 259.815)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
377:                  <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"></path>
378:                </svg>
379:                <span>Prompt History</span>
380:              </div>
381:              
382:              <!-- History Items -->
383:              <% if Current.user %>
384:                <div>
385:                <% @pss.each do |prompt| %>
386:                  <!-- Item 1 (selected) -->
387:                  <div class="prompt-item" data-id="<%= @i2 %>">
388:                    <div class="flex" style="align-items: flex-start;">
389:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
390:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
391:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
392:                      </svg>
393:                      <div>
394:                        <div class="prompt-title" style="color: oklch(0.623 0.214 259.815);"><%= prompt.system_prompt %></div>
395:                        <div class="prompt-date"><%= prompt.updated_at %></div>
396:                      </div>
397:                    </div>
398:                  </div>
399:                  <%# 
400:                  <!-- Item 2 -->
401:                  <div class="prompt-item" data-id="1">
402:                    <div class="flex" style="align-items: flex-start;">
403:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
404:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
405:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
406:                      </svg>
407:                      <div>
408:                        <div class="prompt-title">Design a logo for a tech startup</div>
409:                        <div class="prompt-date">2023-06-14</div>
410:                      </div>
411:                    </div>
412:                  </div>
413:                  
414:                  <!-- Item 3 -->
415:                  <div class="prompt-item" data-id="2">
416:                    <div class="flex" style="align-items: flex-start;">
417:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
418:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
419:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
420:                      </svg>
421:                      <div>
422:                        <div class="prompt-title">Write a product description for a new gadget</div>
423:                        <div class="prompt-date">2023-06-13</div>
424:                      </div>
425:                    </div>
426:                  </div>
427:                  
428:                  <!-- Item 4 -->
429:                  <div class="prompt-item" data-id="3">
430:                    <div class="flex" style="align-items: flex-start;">
431:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
432:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
433:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
434:                      </svg>
435:                      <div>
436:                        <div class="prompt-title">Generate ideas for a marketing campaign</div>
437:                        <div class="prompt-date">2023-06-12</div>
438:                      </div>
439:                    </div>
440:                  </div>
441:                  
442:                  <!-- Item 5 -->
443:                  <div class="prompt-item" data-id="4">
444:                    <div class="flex" style="align-items: flex-start;">
445:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
446:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
447:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
448:                      </svg>
449:                      <div>
450:                        <div class="prompt-title">Create a social media content calendar</div>
451:                        <div class="prompt-date">2023-06-11</div>
452:                      </div>
453:                    </div>
454:                  </div> %>
455:    
456:    
457:                <% @i2 = @i2 + 1%>
458:                <% end %>
459:                </div>
460:              <% else %>
461:    
462:              <% end %>
463:    
464:            </div>
465:          </div>
466:        </div>
467:        
468:        <!-- Main Content Area -->
469:        <div class="content-area">
470:          <!-- System Prompt Card -->
471:          <% if Current.user %>
472:            <% if @pss.first %>
473:              <div class="card">
474:                <div class="card-header dark">System Prompt</div>
475:                <div class="card-content">
476:                  <p id="prompt-description" style="line-height: 1.6; color: #4b5563;">
477:                    <%= @pss.first.system_prompt%>
478:                  </p>
479:                </div>
480:              </div>
481:            <% else %>
482:              <div class="card">
483:              <div class="card-header blue">
484:                <div style="display: flex; align-items: center;">
485:                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
486:                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
487:                  </svg>
488:                  No prompts created!
489:                </div>
490:              </div>
491:              <div class="card-content">
492:                <p style="line-height: 1.6; color: #4b5563;">
493:                  Create a prompt and begin optimizing!
494:                </p>
495:              </div>
496:            </div>
497:            <%end%>
498:          <% else %>
499:          <% end %>
500:          
501:          <!-- Statistics Card -->
502:          <% if Current.user %>
503:          <% if @pss.first %>
504:          <div class="card">
505:            <div class="card-header blue">
506:              <div style="display: flex; align-items: center;">
507:                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
508:                  <circle cx="12" cy="12" r="10"></circle>
509:                  <line x1="12" y1="16" x2="12" y2="12"></line>
510:                  <line x1="12" y1="8" x2="12.01" y2="8"></line>
511:                </svg>
512:                Statistics
513:              </div>
514:            </div>
515:            <div class="card-content">
516:              <div class="stats-container">
517:                <div>
518:                  <!-- Likes -->
519:                  <div class="stat-item">
520:                    <div class="stat-icon purple">
521:                      <svg class="thumbs-up" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#7c3aed" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
522:                        <path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>
523:                      </svg>
524:                    </div>
525:                    <div>
526:                      <div class="stat-label">Likes</div>
527:                      <div class="stat-value" id="likes"><%= @pss.first.like_count%></div>
528:                    </div>
529:                  </div>
530:                  
531:                  <!-- Dislikes -->
532:                  <div class="stat-item">
533:                    <div class="stat-icon red">
534:                      <svg class="thumbs-down" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#ef4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
535:                        <path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path>
536:                      </svg>
537:                    </div>
538:                    <div>
539:                      <div class="stat-label">Dislikes</div>
540:                      <div class="stat-value" id="dislikes"><%= @pss.first.dislike_count%></div>
541:                    </div>
542:                  </div>
543:                </div>
544:                
545:                <!-- Donut Chart -->
546:                <div>
547:                  <svg class="chart" width="150" height="150" viewBox="0 0 150 150">
548:                    <circle cx="75" cy="75" r="60" fill="transparent" stroke="#FF0000" stroke-width="20"></circle>
549:                    <circle id="likeCircle" cx="75" cy="75" r="60" fill="transparent" stroke="#008000" stroke-width="20" stroke-dasharray="<%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count == 0 ? 1 : @pss.first.like_count + @pss.first.dislike_count)) %> <%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count == 0 ? 1 : @pss.first.like_count + @pss.first.dislike_count)) %>" stroke-dashoffset="0"></circle>
550:    
551:                    <circle cx="75" cy="75" r="40" fill="white"></circle>
552:                  </svg>
553:                </div>
554:              </div>
555:            </div>
556:          </div>
557:          <% end %>
558:          <% else %>
559:          <% end %>
560:          
561:          <!-- AI Feedback Card -->
562:          <% if Current.user %>
563:          <% if @pss.first %>
564:          <div class="card">
565:            <div class="card-header blue">
566:              <div style="display: flex; align-items: center;">
567:                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
568:                  <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
569:                </svg>
570:                Suggestions
571:              </div>
572:            </div>
573:            <div class="card-content">
574:              <p style="line-height: 1.6; color: #4b5563;" id="feedback">
575:                <%= @pss.first.feedback%>
576:              </p>
577:              <p id="simi"></p>
578:            </div>
579:          </div>
580:          <% end %>
581:          <% else %>
582:          <div class="card">
583:            <div class="card-header blue">
584:              <div style="display: flex; align-items: center;">
585:                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
586:                  <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
587:                </svg>
588:                Login to access page!
589:              </div>
590:            </div>
591:            <div class="card-content">
592:              <p style="line-height: 1.6; color: #4b5563;">
593:                Login through your company/personal account to access the dashboard.
594:              </p>
595:            </div>
596:          </div>
597:          <% end %>
598:    
599:    
600:    
601:        </div>
602:      </div>
603:      
604:      <!-- New Prompt Modal -->
605:      <div id="new-prompt-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); z-index: 100; align-items: center; justify-content: center;">
606:        <div style="background-color: white; border-radius: 8px; padding: 24px; width: 90%; max-width: 500px; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);">
607:          <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 16px;">Create New Prompt</h3>
608:          <%# <form id="new-prompt-form">
609:            <div style="margin-bottom: 16px;">
610:              <label for="prompt-title" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt Title</label>
611:              <input type="text" id="prompt-title" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Enter a title for your prompt" />
612:            </div>
613:            <div style="margin-bottom: 16px;">
614:              <label for="prompt-text" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt</label>
615:              <textarea id="prompt-text" rows="5" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Write your prompt here..."></textarea>
616:            </div>
617:            <div style="display: flex; justify-content: flex-end; gap: 12px;">
618:              <button type="button" id="cancel-prompt" style="padding: 8px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
619:              <button type="submit" style="padding: 8px 16px; background-color: #7c3aed; color: white; border: none; border-radius: 6px; cursor: pointer;">Create</button>
620:            </div>
621:          </form> %>
622:          <%= form_with model: @ps, url: new_prompt_path, data: { turbo: false } do |form| %>
623:    <div class="mb-3">
624:        <%= form.label :uid %>
625:        <%= form.number_field :uid, class: "form-control", placeholder: "123" %>
626:    </div>
627:    <div class="mb-3">
628:        <%= form.label :system_prompt %>
629:        <%= form.text_field :system_prompt, class: "form-control" %>
630:    </div>
631:    <div class="mb-3">
632:      <button type="button" id="cancel-prompt" style="padding: 7px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
633:      <%= form.submit "Create form", class: "btn btn-primary" %>
634:    </div>
635:    <% end %>
636:        </div>
637:      </div>
638:    
639:      <script>
640:        // Sample prompt data
641:        const promptData = [
642:          <% if Current.user %>
643:          <% @pss.each do |prompt| %>
644:          {
645:            id: <%= @i %>,
646:            title: "<%= prompt.system_prompt %>",
647:            date: "<%= prompt.updated_at %>",
648:            content: "<%= prompt.system_prompt %>",
649:            likes: <%= prompt.like_count %>,
650:            dislikes: <%= prompt.dislike_count %>,
651:            feedback: "<%= prompt.feedback != nil ? prompt.feedback.chomp : " " %>",
652:            simi: <%= prompt.prompt_sim != nil ? "Similarity rating: <%= prompt.prompt_sim%>" : " " %>
653:          },
654:          <% @i = @i + 1%>
655:          <%end%>
656:    
657:          <% else %>
658:    
659:          <% end %>
660:        ];
661:        
662:        // Handle prompt item clicks
663:        document.querySelectorAll('.prompt-item').forEach(item => {
664:          item.addEventListener('click', () => {
665:            // Get prompt id
666:            const promptId = parseInt(item.getAttribute('data-id'));
667:            
668:            // Update selection visualization
669:            document.querySelectorAll('.prompt-item').forEach(el => {
670:              el.classList.remove('selected');
671:              el.querySelector('.prompt-title').style.color = '#374151';
672:            });
673:            
674:            item.classList.add('selected');
675:            item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
676:            
677:            // Update content based on selection
678:            const prompt = promptData.find(p => p.id === promptId);
679:            if (prompt) {
680:              document.getElementById('prompt-description').textContent = prompt.content;
681:              document.getElementById('likes').textContent = prompt.likes;
682:              document.getElementById('dislikes').textContent = prompt.dislikes;
683:              document.getElementById('feedback').textContent = prompt.feedback;
684:              document.getElementById('simi').textContent = prompt.simi;
685:              let lip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
686:              let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
687:              document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
688:            }
689:          });
690:        });
691:        
692:        // Account dropdown functionality
693:        const userButton = document.getElementById('user-button');
694:        const userDropdown = document.getElementById('user-dropdown');
695:        
696:        userButton.addEventListener('click', (e) => {
697:          e.stopPropagation();
698:          userDropdown.style.display = userDropdown.style.display === 'block' ? 'none' : 'block';
699:        });
700:        
701:        // Close dropdown when clicking elsewhere
702:        document.addEventListener('click', () => {
703:          userDropdown.style.display = 'none';
704:        });
705:        
706:        // New prompt modal functionality
707:        const newPromptButton = document.getElementById('new-prompt-button');
708:        const newPromptModal = document.getElementById('new-prompt-modal');
709:        const cancelPromptButton = document.getElementById('cancel-prompt');
710:        const newPromptForm = document.getElementById('new-prompt-form');
711:        
712:        newPromptButton.addEventListener('click', () => {
713:          newPromptModal.style.display = 'flex';
714:        });
715:        
716:        cancelPromptButton.addEventListener('click', () => {
717:          newPromptModal.style.display = 'none';
718:          newPromptForm.reset();
719:        });
720:      
721:        
722:        // Prevent clicks inside the modal from closing it
723:        newPromptModal.querySelector('div').addEventListener('click', (e) => {
724:          e.stopPropagation();
725:        });
726:        
727:        // Close modal when clicking outside
728:        newPromptModal.addEventListener('click', () => {
729:          newPromptModal.style.display = 'none';
730:          newPromptForm.reset();
731:        });
732:    
733:        
734:        document.addEventListener('DOMContentLoaded', function() {
735:            let item = document.querySelector('.prompt-item');
736:            const promptId = 0;
737:            console.log(promptId);
738:            
739:            // Update selection visualization
740:            document.querySelectorAll('.prompt-item').forEach(el => {
741:              el.classList.remove('selected');
742:              el.querySelector('.prompt-title').style.color = '#374151';
743:            });
744:            
745:            item.classList.add('selected');
746:            item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
747:            
748:            // Update content based on selection
749:            const prompt = promptData.find(p => p.id === promptId);
750:            if (prompt) {
751:              document.getElementById('prompt-description').textContent = prompt.content;
752:              document.getElementById('likes').textContent = prompt.likes;
753:              document.getElementById('dislikes').textContent = prompt.dislikes;
754:              document.getElementById('feedback').textContent = prompt.feedback;
755:              document.getElementById('simi').textContent = prompt.simi;
756:              let lip =377 * prompt.likes / (prompt.likes + prompt.dislikes);
757:              let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
758:              document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
759:            }
760:            console.log(promptId);
761:        });
762:    
763:      </script>
764:    </body>
765:    </html>
  
app/views/main/home.html.erb:652: syntax error, unexpected '>'
app/views/main/home.html.erb:660: syntax error, unexpected ']', expecting ')'
app/views/main/home.html.erb:662: syntax error, unexpected constant, expecting ')'
app/views/main/home.html.erb:663: syntax error, unexpected backslash, expecting ')'
app/views/main/home.html.erb:767: syntax error, unexpected `end', expecting ')'
Started GET "/" for ::1 at 2025-03-23 08:23:25 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.7ms | Allocations: 3048)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | Allocations: 3153)
Completed 500 Internal Server Error in 122ms (ActiveRecord: 3.0ms | Allocations: 16169)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <!DOCTYPE html>
<html lang="en">
  <% if @ps.errors.any? %>
    <div class="alert alert-danger">
        <% @ps.errors.full_messages.each do |messages| %>
        <div><%= messages %></div>
        <% end %>
    </div>
<% end %>
<head>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PromptFlow</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f5f5f5;
    }
    
    .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 20px;
      background-color: white;
      border-bottom: 1px solid #e1e1e1;
    }
    
    .sidebar {
      width: 280px;
      height: 100vh;
      background-color: white;
      border-right: 1px solid #e1e1e1;
      overflow-y: auto;
    }
    
    .search-bar {
      display: flex;
      align-items: center;
      background-color: #f5f5f5;
      border-radius: 6px;
      padding: 8px 12px;
      margin: 16px;
    }
    
    .search-bar input {
      border: none;
      background: none;
      outline: none;
      width: 100%;
      margin-left: 8px;
    }
    
    .dashboard-link {
      display: flex;
      align-items: center;
      padding: 10px 16px;
      margin: 0 12px;
      background-color: oklch(0.882 0.059 254.128);
      color: oklch(0.623 0.214 259.815);
      border-radius: 6px;
      text-decoration: none;
    }
    
    .dashboard-link svg {
      margin-right: 12px;
    }
    
    .category-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 16px;
      color: #6b7280;
      font-weight: 600;
      font-size: 0.8rem;
    }
    
    .history-header {
      display: flex;
      align-items: center;
      padding: 8px 16px;
      color: oklch(0.623 0.214 259.815);
      font-weight: 500;
    }
    
    .history-header svg {
      margin-right: 8px;
    }
    
    .prompt-item {
      padding: 12px 16px;
      cursor: pointer;
    }
    
    .prompt-item:hover {
      background-color: oklch(0.97 0.03 254.604);
      transition: 0.2s ease-in-out;
    }
    
    .prompt-item.selected {
      background-color: oklch(0.932 0.032 255.585);
    }
    
    .prompt-icon {
      margin-right: 12px;
      flex-shrink: 0;
    }
    
    .prompt-title {
      font-weight: 500;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      max-width: 180px;
    }
    
    .prompt-date {
      font-size: 0.75rem;
      color: #6b7280;
      margin-top: 4px;
    }
    
    .content-area {
      flex: 1;
      padding: 20px;
    }
    
    .card {
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      margin-bottom: 20px;
      overflow: hidden;
    }
    
    .card-header {
      padding: 12px 16px;
      font-weight: 600;
      color: white;
    }
    
    .card-header.dark {
      background-color: #1f2937;
    }
    
    .card-header.blue {
      background-color: oklch(0.623 0.214 259.815);
    }
    
    .card-content {
      padding: 16px;
    }
    
    .stats-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .stat-item {
      display: flex;
      align-items: center;
      margin-bottom: 16px;
    }
    
    .stat-icon {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 12px;
    }
    
    .stat-icon.purple {
      background-color: #f3e8ff;
    }

    .thumbs-up {
      filter: brightness(100%);
      cursor: pointer;
      transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
    }

    .thumbs-up:hover {
      filter: brightness(200%);
      transform: scale(1.2);
    }
    
    .stat-icon.red {
      background-color: #fee2e2;
    }

    .thumbs-down:hover {
      filter: brightness(100%);
      cursor: pointer;
      transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
    }

    .thumbs-down:hover {
      filter: brightness(200%);
      transform: scale(1.2);
    }
    
    .stat-label {
      font-size: 0.8rem;
      color: #6b7280;
    }

    .chart {
        transform: scale(1);
        transition: transform 0.3s ease-in-out;
    }

    .chart:hover {
        transform: scale(1.2);
    }
    
    .stat-value {
      font-size: 1.5rem;
      font-weight: 700;
    }
    
    .dropdown {
      position: relative;
      border-radius: 2rem;
      transition: 0.2s ease-in-out;
    }
    
    .dropdown-menu {
      display: none;
      position: absolute;
      right: 0;
      top: 40px;
      background-color: white;
      border-radius: 6px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      min-width: 200px;
      z-index: 10;
    }
    
    .dropdown-header {
      padding: 12px 16px;
      font-weight: 600;
      border-bottom: 1px solid #f1f1f1;
    }
    
    .dropdown-item {
      padding: 12px 16px;
      display: block;
      color: #333;
      text-decoration: none;
      border-bottom: 1px solid #f1f1f1;
    }
    
    .dropdown-item:last-child {
      border-bottom: none;
    }
    
    .dropdown-item:hover {
      background-color: #f9fafb;
    }
    
    .dropdown-item.danger {
      color: #ef4444;
    }
    
    .flex {
      display: flex;
    }
    
    .flex-col {
      flex-direction: column;
    }
    
    .items-center {
      align-items: center;
    }
    
    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <h1><i class="fa-solid fa-worm fa-flip-horizontal"></i>PromptFlow</h1>
    
    <div class="flex items-center">
      <!-- Notifications -->
      <button style="margin-right: 16px; background: none; border: none; cursor: pointer;">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
          <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
        </svg>
      </button>
      
      <!-- Settings -->
      <button id="settings-button" style="margin-right: 16px; background: none; border: none; cursor: pointer;">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="3"></circle>
          <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
        </svg>
      </button>
      
      <!-- User Profile -->
      
      <% if Current.user %>
      <div class="dropdown">
        <button id="user-button" style="display: flex; align-items: center; background: none; border: none; cursor: pointer;">
          <div style="width: 32px; height: 32px; border-radius: 50%; background-color: #7c3aed; color: white; display: flex; align-items: center; justify-content: center; margin-right: 8px;">
            <span>DD</span>
          </div>
          <span style="font-weight: 500; margin-right: 4px;"><%= Current.user.username%></span>
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="6 9 12 15 18 9"></polyline>
          </svg>
        </button>
        <div id="user-dropdown" class="dropdown-menu">
          <div class="dropdown-header">My Account</div>
          <a href="#" class="dropdown-item">Profile</a>
          <a href="#" class="dropdown-item">Settings</a>
          <a href="#" class="dropdown-item">Billing</a>
          <%= button_to "Log out", sign_out_path, method: :delete, class: "dropdown-item danger", turbo: false %>
        </div>
      </div>
      <% else %>
      <%= link_to "Log in", sign_in_path, method: :get, class: "dropdown-item danger", turbo: false %>
      <% end %>
    </div>
  </header>
  
  <div class="flex">
    <!-- Sidebar -->
    <div class="sidebar">
      <!-- Search Bar -->
      <div class="search-bar">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="11" cy="11" r="8"></circle>
          <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
        <input type="text" placeholder="Search prompts..." />
      </div>
      
      <!-- Dashboard -->
      <a href="/get" class="dashboard-link">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
          <polyline points="9 22 9 12 15 12 15 22"></polyline>
        </svg>
        <span style="color: oklch(0.623 0.214 259.815)">Dashboard</span>
      </a>
      
      <!-- Prompt History -->
      <div style="margin-top: 20px;">
        <div class="category-header">
          <span>PROMPTS</span>
          <button id="new-prompt-button" style="background: none; border: none; color: #3b82f6; cursor: pointer;">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="12" y1="5" x2="12" y2="19"></line>
              <line x1="5" y1="12" x2="19" y2="12"></line>
            </svg>
          </button>
        </div>
        
        <!-- Prompt History Section -->
        <div>
          <div class="history-header">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="oklch(0.623 0.214 259.815)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"></path>
            </svg>
            <span>Prompt History</span>
          </div>
          
          <!-- History Items -->
          <% if Current.user %>
            <div>
            <% @pss.each do |prompt| %>
              <!-- Item 1 (selected) -->
              <div class="prompt-item" data-id="<%= @i2 %>">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title" style="color: oklch(0.623 0.214 259.815);"><%= prompt.system_prompt %></div>
                    <div class="prompt-date"><%= prompt.updated_at %></div>
                  </div>
                </div>
              </div>
              <%# 
              <!-- Item 2 -->
              <div class="prompt-item" data-id="1">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Design a logo for a tech startup</div>
                    <div class="prompt-date">2023-06-14</div>
                  </div>
                </div>
              </div>
              
              <!-- Item 3 -->
              <div class="prompt-item" data-id="2">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Write a product description for a new gadget</div>
                    <div class="prompt-date">2023-06-13</div>
                  </div>
                </div>
              </div>
              
              <!-- Item 4 -->
              <div class="prompt-item" data-id="3">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Generate ideas for a marketing campaign</div>
                    <div class="prompt-date">2023-06-12</div>
                  </div>
                </div>
              </div>
              
              <!-- Item 5 -->
              <div class="prompt-item" data-id="4">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Create a social media content calendar</div>
                    <div class="prompt-date">2023-06-11</div>
                  </div>
                </div>
              </div> %>


            <% @i2 = @i2 + 1%>
            <% end %>
            </div>
          <% else %>

          <% end %>

        </div>
      </div>
    </div>
    
    <!-- Main Content Area -->
    <div class="content-area">
      <!-- System Prompt Card -->
      <% if Current.user %>
        <% if @pss.first %>
          <div class="card">
            <div class="card-header dark">System Prompt</div>
            <div class="card-content">
              <p id="prompt-description" style="line-height: 1.6; color: #4b5563;">
                <%= @pss.first.system_prompt%>
              </p>
            </div>
          </div>
        <% else %>
          <div class="card">
          <div class="card-header blue">
            <div style="display: flex; align-items: center;">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
              </svg>
              No prompts created!
            </div>
          </div>
          <div class="card-content">
            <p style="line-height: 1.6; color: #4b5563;">
              Create a prompt and begin optimizing!
            </p>
          </div>
        </div>
        <%end%>
      <% else %>
      <% end %>
      
      <!-- Statistics Card -->
      <% if Current.user %>
      <% if @pss.first %>
      <div class="card">
        <div class="card-header blue">
          <div style="display: flex; align-items: center;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
              <circle cx="12" cy="12" r="10"></circle>
              <line x1="12" y1="16" x2="12" y2="12"></line>
              <line x1="12" y1="8" x2="12.01" y2="8"></line>
            </svg>
            Statistics
          </div>
        </div>
        <div class="card-content">
          <div class="stats-container">
            <div>
              <!-- Likes -->
              <div class="stat-item">
                <div class="stat-icon purple">
                  <svg class="thumbs-up" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#7c3aed" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>
                  </svg>
                </div>
                <div>
                  <div class="stat-label">Likes</div>
                  <div class="stat-value" id="likes"><%= @pss.first.like_count%></div>
                </div>
              </div>
              
              <!-- Dislikes -->
              <div class="stat-item">
                <div class="stat-icon red">
                  <svg class="thumbs-down" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#ef4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path>
                  </svg>
                </div>
                <div>
                  <div class="stat-label">Dislikes</div>
                  <div class="stat-value" id="dislikes"><%= @pss.first.dislike_count%></div>
                </div>
              </div>
            </div>
            
            <!-- Donut Chart -->
            <div>
              <svg class="chart" width="150" height="150" viewBox="0 0 150 150">
                <circle cx="75" cy="75" r="60" fill="transparent" stroke="#FF0000" stroke-width="20"></circle>
                <circle id="likeCircle" cx="75" cy="75" r="60" fill="transparent" stroke="#008000" stroke-width="20" stroke-dasharray="<%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count == 0 ? 1 : @pss.first.like_count + @pss.first.dislike_count)) %> <%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count == 0 ? 1 : @pss.first.like_count + @pss.first.dislike_count)) %>" stroke-dashoffset="0"></circle>

                <circle cx="75" cy="75" r="40" fill="white"></circle>
              </svg>
            </div>
          </div>
        </div>
      </div>
      <% end %>
      <% else %>
      <% end %>
      
      <!-- AI Feedback Card -->
      <% if Current.user %>
      <% if @pss.first %>
      <div class="card">
        <div class="card-header blue">
          <div style="display: flex; align-items: center;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
              <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
            </svg>
            Suggestions
          </div>
        </div>
        <div class="card-content">
          <p style="line-height: 1.6; color: #4b5563;" id="feedback">
            <%= @pss.first.feedback%>
          </p>
          <p id="simi"></p>
        </div>
      </div>
      <% end %>
      <% else %>
      <div class="card">
        <div class="card-header blue">
          <div style="display: flex; align-items: center;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
              <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
            </svg>
            Login to access page!
          </div>
        </div>
        <div class="card-content">
          <p style="line-height: 1.6; color: #4b5563;">
            Login through your company/personal account to access the dashboard.
          </p>
        </div>
      </div>
      <% end %>



    </div>
  </div>
  
  <!-- New Prompt Modal -->
  <div id="new-prompt-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); z-index: 100; align-items: center; justify-content: center;">
    <div style="background-color: white; border-radius: 8px; padding: 24px; width: 90%; max-width: 500px; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);">
      <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 16px;">Create New Prompt</h3>
      <%# <form id="new-prompt-form">
        <div style="margin-bottom: 16px;">
          <label for="prompt-title" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt Title</label>
          <input type="text" id="prompt-title" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Enter a title for your prompt" />
        </div>
        <div style="margin-bottom: 16px;">
          <label for="prompt-text" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt</label>
          <textarea id="prompt-text" rows="5" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Write your prompt here..."></textarea>
        </div>
        <div style="display: flex; justify-content: flex-end; gap: 12px;">
          <button type="button" id="cancel-prompt" style="padding: 8px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
          <button type="submit" style="padding: 8px 16px; background-color: #7c3aed; color: white; border: none; border-radius: 6px; cursor: pointer;">Create</button>
        </div>
      </form> %>
      <%= form_with model: @ps, url: new_prompt_path, data: { turbo: false } do |form| %>
<div class="mb-3">
    <%= form.label :uid %>
    <%= form.number_field :uid, class: "form-control", placeholder: "123" %>
</div>
<div class="mb-3">
    <%= form.label :system_prompt %>
    <%= form.text_field :system_prompt, class: "form-control" %>
</div>
<div class="mb-3">
  <button type="button" id="cancel-prompt" style="padding: 7px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
  <%= form.submit "Create form", class: "btn btn-primary" %>
</div>
<% end %>
    </div>
  </div>

  <script>
    // Sample prompt data
    const promptData = [
      <% if Current.user %>
      <% @pss.each do |prompt| %>
      {
        id: <%= @i %>,
        title: "<%= prompt.system_prompt %>",
        date: "<%= prompt.updated_at %>",
        content: "<%= prompt.system_prompt %>",
        likes: <%= prompt.like_count %>,
        dislikes: <%= prompt.dislike_count %>,
        feedback: "<%= prompt.feedback != nil ? prompt.feedback.chomp : " " %>",
        simi: "<%= prompt.prompt_sim != nil ? Similarity rating: <%= prompt.prompt_sim%> : " " %>"
      },
      <% @i = @i + 1%>
      <%end%>

      <% else %>

      <% end %>
    ];
    
    // Handle prompt item clicks
    document.querySelectorAll('.prompt-item').forEach(item => {
      item.addEventListener('click', () => {
        // Get prompt id
        const promptId = parseInt(item.getAttribute('data-id'));
        
        // Update selection visualization
        document.querySelectorAll('.prompt-item').forEach(el => {
          el.classList.remove('selected');
          el.querySelector('.prompt-title').style.color = '#374151';
        });
        
        item.classList.add('selected');
        item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
        
        // Update content based on selection
        const prompt = promptData.find(p => p.id === promptId);
        if (prompt) {
          document.getElementById('prompt-description').textContent = prompt.content;
          document.getElementById('likes').textContent = prompt.likes;
          document.getElementById('dislikes').textContent = prompt.dislikes;
          document.getElementById('feedback').textContent = prompt.feedback;
          document.getElementById('simi').textContent = prompt.simi;
          let lip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
          let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
          document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
        }
      });
    });
    
    // Account dropdown functionality
    const userButton = document.getElementById('user-button');
    const userDropdown = document.getElementById('user-dropdown');
    
    userButton.addEventListener('click', (e) => {
      e.stopPropagation();
      userDropdown.style.display = userDropdown.style.display === 'block' ? 'none' : 'block';
    });
    
    // Close dropdown when clicking elsewhere
    document.addEventListener('click', () => {
      userDropdown.style.display = 'none';
    });
    
    // New prompt modal functionality
    const newPromptButton = document.getElementById('new-prompt-button');
    const newPromptModal = document.getElementById('new-prompt-modal');
    const cancelPromptButton = document.getElementById('cancel-prompt');
    const newPromptForm = document.getElementById('new-prompt-form');
    
    newPromptButton.addEventListener('click', () => {
      newPromptModal.style.display = 'flex';
    });
    
    cancelPromptButton.addEventListener('click', () => {
      newPromptModal.style.display = 'none';
      newPromptForm.reset();
    });
  
    
    // Prevent clicks inside the modal from closing it
    newPromptModal.querySelector('div').addEventListener('click', (e) => {
      e.stopPropagation();
    });
    
    // Close modal when clicking outside
    newPromptModal.addEventListener('click', () => {
      newPromptModal.style.display = 'none';
      newPromptForm.reset();
    });

    
    document.addEventListener('DOMContentLoaded', function() {
        let item = document.querySelector('.prompt-item');
        const promptId = 0;
        console.log(promptId);
        
        // Update selection visualization
        document.querySelectorAll('.prompt-item').forEach(el => {
          el.classList.remove('selected');
          el.querySelector('.prompt-title').style.color = '#374151';
        });
        
        item.classList.add('selected');
        item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
        
        // Update content based on selection
        const prompt = promptData.find(p => p.id === promptId);
        if (prompt) {
          document.getElementById('prompt-description').textContent = prompt.content;
          document.getElementById('likes').textContent = prompt.likes;
          document.getElementById('dislikes').textContent = prompt.dislikes;
          document.getElementById('feedback').textContent = prompt.feedback;
          document.getElementById('simi').textContent = prompt.simi;
          let lip =377 * prompt.likes / (prompt.likes + prompt.dislikes);
          let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
          document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
        }
        console.log(promptId);
    });

  </script>
</body>
</html>
):
1:    <!DOCTYPE html>
2:    <html lang="en">
3:      <% if @ps.errors.any? %>
4:        <div class="alert alert-danger">
5:            <% @ps.errors.full_messages.each do |messages| %>
6:            <div><%= messages %></div>
7:            <% end %>
8:        </div>
9:    <% end %>
10:    <head>
11:    
12:      <meta charset="UTF-8" />
13:      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
14:      <title>PromptFlow</title>
15:      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
16:      <style>
17:        body {
18:          font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
19:          margin: 0;
20:          padding: 0;
21:          background-color: #f5f5f5;
22:        }
23:        
24:        .header {
25:          display: flex;
26:          align-items: center;
27:          justify-content: space-between;
28:          padding: 10px 20px;
29:          background-color: white;
30:          border-bottom: 1px solid #e1e1e1;
31:        }
32:        
33:        .sidebar {
34:          width: 280px;
35:          height: 100vh;
36:          background-color: white;
37:          border-right: 1px solid #e1e1e1;
38:          overflow-y: auto;
39:        }
40:        
41:        .search-bar {
42:          display: flex;
43:          align-items: center;
44:          background-color: #f5f5f5;
45:          border-radius: 6px;
46:          padding: 8px 12px;
47:          margin: 16px;
48:        }
49:        
50:        .search-bar input {
51:          border: none;
52:          background: none;
53:          outline: none;
54:          width: 100%;
55:          margin-left: 8px;
56:        }
57:        
58:        .dashboard-link {
59:          display: flex;
60:          align-items: center;
61:          padding: 10px 16px;
62:          margin: 0 12px;
63:          background-color: oklch(0.882 0.059 254.128);
64:          color: oklch(0.623 0.214 259.815);
65:          border-radius: 6px;
66:          text-decoration: none;
67:        }
68:        
69:        .dashboard-link svg {
70:          margin-right: 12px;
71:        }
72:        
73:        .category-header {
74:          display: flex;
75:          justify-content: space-between;
76:          align-items: center;
77:          padding: 16px;
78:          color: #6b7280;
79:          font-weight: 600;
80:          font-size: 0.8rem;
81:        }
82:        
83:        .history-header {
84:          display: flex;
85:          align-items: center;
86:          padding: 8px 16px;
87:          color: oklch(0.623 0.214 259.815);
88:          font-weight: 500;
89:        }
90:        
91:        .history-header svg {
92:          margin-right: 8px;
93:        }
94:        
95:        .prompt-item {
96:          padding: 12px 16px;
97:          cursor: pointer;
98:        }
99:        
100:        .prompt-item:hover {
101:          background-color: oklch(0.97 0.03 254.604);
102:          transition: 0.2s ease-in-out;
103:        }
104:        
105:        .prompt-item.selected {
106:          background-color: oklch(0.932 0.032 255.585);
107:        }
108:        
109:        .prompt-icon {
110:          margin-right: 12px;
111:          flex-shrink: 0;
112:        }
113:        
114:        .prompt-title {
115:          font-weight: 500;
116:          white-space: nowrap;
117:          overflow: hidden;
118:          text-overflow: ellipsis;
119:          max-width: 180px;
120:        }
121:        
122:        .prompt-date {
123:          font-size: 0.75rem;
124:          color: #6b7280;
125:          margin-top: 4px;
126:        }
127:        
128:        .content-area {
129:          flex: 1;
130:          padding: 20px;
131:        }
132:        
133:        .card {
134:          background-color: white;
135:          border-radius: 8px;
136:          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
137:          margin-bottom: 20px;
138:          overflow: hidden;
139:        }
140:        
141:        .card-header {
142:          padding: 12px 16px;
143:          font-weight: 600;
144:          color: white;
145:        }
146:        
147:        .card-header.dark {
148:          background-color: #1f2937;
149:        }
150:        
151:        .card-header.blue {
152:          background-color: oklch(0.623 0.214 259.815);
153:        }
154:        
155:        .card-content {
156:          padding: 16px;
157:        }
158:        
159:        .stats-container {
160:          display: flex;
161:          justify-content: space-between;
162:          align-items: center;
163:        }
164:        
165:        .stat-item {
166:          display: flex;
167:          align-items: center;
168:          margin-bottom: 16px;
169:        }
170:        
171:        .stat-icon {
172:          width: 40px;
173:          height: 40px;
174:          border-radius: 50%;
175:          display: flex;
176:          align-items: center;
177:          justify-content: center;
178:          margin-right: 12px;
179:        }
180:        
181:        .stat-icon.purple {
182:          background-color: #f3e8ff;
183:        }
184:    
185:        .thumbs-up {
186:          filter: brightness(100%);
187:          cursor: pointer;
188:          transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
189:        }
190:    
191:        .thumbs-up:hover {
192:          filter: brightness(200%);
193:          transform: scale(1.2);
194:        }
195:        
196:        .stat-icon.red {
197:          background-color: #fee2e2;
198:        }
199:    
200:        .thumbs-down:hover {
201:          filter: brightness(100%);
202:          cursor: pointer;
203:          transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
204:        }
205:    
206:        .thumbs-down:hover {
207:          filter: brightness(200%);
208:          transform: scale(1.2);
209:        }
210:        
211:        .stat-label {
212:          font-size: 0.8rem;
213:          color: #6b7280;
214:        }
215:    
216:        .chart {
217:            transform: scale(1);
218:            transition: transform 0.3s ease-in-out;
219:        }
220:    
221:        .chart:hover {
222:            transform: scale(1.2);
223:        }
224:        
225:        .stat-value {
226:          font-size: 1.5rem;
227:          font-weight: 700;
228:        }
229:        
230:        .dropdown {
231:          position: relative;
232:          border-radius: 2rem;
233:          transition: 0.2s ease-in-out;
234:        }
235:        
236:        .dropdown-menu {
237:          display: none;
238:          position: absolute;
239:          right: 0;
240:          top: 40px;
241:          background-color: white;
242:          border-radius: 6px;
243:          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
244:          min-width: 200px;
245:          z-index: 10;
246:        }
247:        
248:        .dropdown-header {
249:          padding: 12px 16px;
250:          font-weight: 600;
251:          border-bottom: 1px solid #f1f1f1;
252:        }
253:        
254:        .dropdown-item {
255:          padding: 12px 16px;
256:          display: block;
257:          color: #333;
258:          text-decoration: none;
259:          border-bottom: 1px solid #f1f1f1;
260:        }
261:        
262:        .dropdown-item:last-child {
263:          border-bottom: none;
264:        }
265:        
266:        .dropdown-item:hover {
267:          background-color: #f9fafb;
268:        }
269:        
270:        .dropdown-item.danger {
271:          color: #ef4444;
272:        }
273:        
274:        .flex {
275:          display: flex;
276:        }
277:        
278:        .flex-col {
279:          flex-direction: column;
280:        }
281:        
282:        .items-center {
283:          align-items: center;
284:        }
285:        
286:        .hidden {
287:          display: none;
288:        }
289:      </style>
290:    </head>
291:    <body>
292:      <!-- Header -->
293:      <header class="header">
294:        <h1><i class="fa-solid fa-worm fa-flip-horizontal"></i>PromptFlow</h1>
295:        
296:        <div class="flex items-center">
297:          <!-- Notifications -->
298:          <button style="margin-right: 16px; background: none; border: none; cursor: pointer;">
299:            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
300:              <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
301:              <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
302:            </svg>
303:          </button>
304:          
305:          <!-- Settings -->
306:          <button id="settings-button" style="margin-right: 16px; background: none; border: none; cursor: pointer;">
307:            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
308:              <circle cx="12" cy="12" r="3"></circle>
309:              <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
310:            </svg>
311:          </button>
312:          
313:          <!-- User Profile -->
314:          
315:          <% if Current.user %>
316:          <div class="dropdown">
317:            <button id="user-button" style="display: flex; align-items: center; background: none; border: none; cursor: pointer;">
318:              <div style="width: 32px; height: 32px; border-radius: 50%; background-color: #7c3aed; color: white; display: flex; align-items: center; justify-content: center; margin-right: 8px;">
319:                <span>DD</span>
320:              </div>
321:              <span style="font-weight: 500; margin-right: 4px;"><%= Current.user.username%></span>
322:              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
323:                <polyline points="6 9 12 15 18 9"></polyline>
324:              </svg>
325:            </button>
326:            <div id="user-dropdown" class="dropdown-menu">
327:              <div class="dropdown-header">My Account</div>
328:              <a href="#" class="dropdown-item">Profile</a>
329:              <a href="#" class="dropdown-item">Settings</a>
330:              <a href="#" class="dropdown-item">Billing</a>
331:              <%= button_to "Log out", sign_out_path, method: :delete, class: "dropdown-item danger", turbo: false %>
332:            </div>
333:          </div>
334:          <% else %>
335:          <%= link_to "Log in", sign_in_path, method: :get, class: "dropdown-item danger", turbo: false %>
336:          <% end %>
337:        </div>
338:      </header>
339:      
340:      <div class="flex">
341:        <!-- Sidebar -->
342:        <div class="sidebar">
343:          <!-- Search Bar -->
344:          <div class="search-bar">
345:            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
346:              <circle cx="11" cy="11" r="8"></circle>
347:              <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
348:            </svg>
349:            <input type="text" placeholder="Search prompts..." />
350:          </div>
351:          
352:          <!-- Dashboard -->
353:          <a href="/get" class="dashboard-link">
354:            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
355:              <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
356:              <polyline points="9 22 9 12 15 12 15 22"></polyline>
357:            </svg>
358:            <span style="color: oklch(0.623 0.214 259.815)">Dashboard</span>
359:          </a>
360:          
361:          <!-- Prompt History -->
362:          <div style="margin-top: 20px;">
363:            <div class="category-header">
364:              <span>PROMPTS</span>
365:              <button id="new-prompt-button" style="background: none; border: none; color: #3b82f6; cursor: pointer;">
366:                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
367:                  <line x1="12" y1="5" x2="12" y2="19"></line>
368:                  <line x1="5" y1="12" x2="19" y2="12"></line>
369:                </svg>
370:              </button>
371:            </div>
372:            
373:            <!-- Prompt History Section -->
374:            <div>
375:              <div class="history-header">
376:                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="oklch(0.623 0.214 259.815)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
377:                  <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"></path>
378:                </svg>
379:                <span>Prompt History</span>
380:              </div>
381:              
382:              <!-- History Items -->
383:              <% if Current.user %>
384:                <div>
385:                <% @pss.each do |prompt| %>
386:                  <!-- Item 1 (selected) -->
387:                  <div class="prompt-item" data-id="<%= @i2 %>">
388:                    <div class="flex" style="align-items: flex-start;">
389:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
390:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
391:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
392:                      </svg>
393:                      <div>
394:                        <div class="prompt-title" style="color: oklch(0.623 0.214 259.815);"><%= prompt.system_prompt %></div>
395:                        <div class="prompt-date"><%= prompt.updated_at %></div>
396:                      </div>
397:                    </div>
398:                  </div>
399:                  <%# 
400:                  <!-- Item 2 -->
401:                  <div class="prompt-item" data-id="1">
402:                    <div class="flex" style="align-items: flex-start;">
403:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
404:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
405:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
406:                      </svg>
407:                      <div>
408:                        <div class="prompt-title">Design a logo for a tech startup</div>
409:                        <div class="prompt-date">2023-06-14</div>
410:                      </div>
411:                    </div>
412:                  </div>
413:                  
414:                  <!-- Item 3 -->
415:                  <div class="prompt-item" data-id="2">
416:                    <div class="flex" style="align-items: flex-start;">
417:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
418:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
419:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
420:                      </svg>
421:                      <div>
422:                        <div class="prompt-title">Write a product description for a new gadget</div>
423:                        <div class="prompt-date">2023-06-13</div>
424:                      </div>
425:                    </div>
426:                  </div>
427:                  
428:                  <!-- Item 4 -->
429:                  <div class="prompt-item" data-id="3">
430:                    <div class="flex" style="align-items: flex-start;">
431:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
432:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
433:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
434:                      </svg>
435:                      <div>
436:                        <div class="prompt-title">Generate ideas for a marketing campaign</div>
437:                        <div class="prompt-date">2023-06-12</div>
438:                      </div>
439:                    </div>
440:                  </div>
441:                  
442:                  <!-- Item 5 -->
443:                  <div class="prompt-item" data-id="4">
444:                    <div class="flex" style="align-items: flex-start;">
445:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
446:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
447:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
448:                      </svg>
449:                      <div>
450:                        <div class="prompt-title">Create a social media content calendar</div>
451:                        <div class="prompt-date">2023-06-11</div>
452:                      </div>
453:                    </div>
454:                  </div> %>
455:    
456:    
457:                <% @i2 = @i2 + 1%>
458:                <% end %>
459:                </div>
460:              <% else %>
461:    
462:              <% end %>
463:    
464:            </div>
465:          </div>
466:        </div>
467:        
468:        <!-- Main Content Area -->
469:        <div class="content-area">
470:          <!-- System Prompt Card -->
471:          <% if Current.user %>
472:            <% if @pss.first %>
473:              <div class="card">
474:                <div class="card-header dark">System Prompt</div>
475:                <div class="card-content">
476:                  <p id="prompt-description" style="line-height: 1.6; color: #4b5563;">
477:                    <%= @pss.first.system_prompt%>
478:                  </p>
479:                </div>
480:              </div>
481:            <% else %>
482:              <div class="card">
483:              <div class="card-header blue">
484:                <div style="display: flex; align-items: center;">
485:                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
486:                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
487:                  </svg>
488:                  No prompts created!
489:                </div>
490:              </div>
491:              <div class="card-content">
492:                <p style="line-height: 1.6; color: #4b5563;">
493:                  Create a prompt and begin optimizing!
494:                </p>
495:              </div>
496:            </div>
497:            <%end%>
498:          <% else %>
499:          <% end %>
500:          
501:          <!-- Statistics Card -->
502:          <% if Current.user %>
503:          <% if @pss.first %>
504:          <div class="card">
505:            <div class="card-header blue">
506:              <div style="display: flex; align-items: center;">
507:                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
508:                  <circle cx="12" cy="12" r="10"></circle>
509:                  <line x1="12" y1="16" x2="12" y2="12"></line>
510:                  <line x1="12" y1="8" x2="12.01" y2="8"></line>
511:                </svg>
512:                Statistics
513:              </div>
514:            </div>
515:            <div class="card-content">
516:              <div class="stats-container">
517:                <div>
518:                  <!-- Likes -->
519:                  <div class="stat-item">
520:                    <div class="stat-icon purple">
521:                      <svg class="thumbs-up" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#7c3aed" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
522:                        <path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>
523:                      </svg>
524:                    </div>
525:                    <div>
526:                      <div class="stat-label">Likes</div>
527:                      <div class="stat-value" id="likes"><%= @pss.first.like_count%></div>
528:                    </div>
529:                  </div>
530:                  
531:                  <!-- Dislikes -->
532:                  <div class="stat-item">
533:                    <div class="stat-icon red">
534:                      <svg class="thumbs-down" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#ef4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
535:                        <path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path>
536:                      </svg>
537:                    </div>
538:                    <div>
539:                      <div class="stat-label">Dislikes</div>
540:                      <div class="stat-value" id="dislikes"><%= @pss.first.dislike_count%></div>
541:                    </div>
542:                  </div>
543:                </div>
544:                
545:                <!-- Donut Chart -->
546:                <div>
547:                  <svg class="chart" width="150" height="150" viewBox="0 0 150 150">
548:                    <circle cx="75" cy="75" r="60" fill="transparent" stroke="#FF0000" stroke-width="20"></circle>
549:                    <circle id="likeCircle" cx="75" cy="75" r="60" fill="transparent" stroke="#008000" stroke-width="20" stroke-dasharray="<%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count == 0 ? 1 : @pss.first.like_count + @pss.first.dislike_count)) %> <%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count == 0 ? 1 : @pss.first.like_count + @pss.first.dislike_count)) %>" stroke-dashoffset="0"></circle>
550:    
551:                    <circle cx="75" cy="75" r="40" fill="white"></circle>
552:                  </svg>
553:                </div>
554:              </div>
555:            </div>
556:          </div>
557:          <% end %>
558:          <% else %>
559:          <% end %>
560:          
561:          <!-- AI Feedback Card -->
562:          <% if Current.user %>
563:          <% if @pss.first %>
564:          <div class="card">
565:            <div class="card-header blue">
566:              <div style="display: flex; align-items: center;">
567:                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
568:                  <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
569:                </svg>
570:                Suggestions
571:              </div>
572:            </div>
573:            <div class="card-content">
574:              <p style="line-height: 1.6; color: #4b5563;" id="feedback">
575:                <%= @pss.first.feedback%>
576:              </p>
577:              <p id="simi"></p>
578:            </div>
579:          </div>
580:          <% end %>
581:          <% else %>
582:          <div class="card">
583:            <div class="card-header blue">
584:              <div style="display: flex; align-items: center;">
585:                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
586:                  <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
587:                </svg>
588:                Login to access page!
589:              </div>
590:            </div>
591:            <div class="card-content">
592:              <p style="line-height: 1.6; color: #4b5563;">
593:                Login through your company/personal account to access the dashboard.
594:              </p>
595:            </div>
596:          </div>
597:          <% end %>
598:    
599:    
600:    
601:        </div>
602:      </div>
603:      
604:      <!-- New Prompt Modal -->
605:      <div id="new-prompt-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); z-index: 100; align-items: center; justify-content: center;">
606:        <div style="background-color: white; border-radius: 8px; padding: 24px; width: 90%; max-width: 500px; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);">
607:          <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 16px;">Create New Prompt</h3>
608:          <%# <form id="new-prompt-form">
609:            <div style="margin-bottom: 16px;">
610:              <label for="prompt-title" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt Title</label>
611:              <input type="text" id="prompt-title" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Enter a title for your prompt" />
612:            </div>
613:            <div style="margin-bottom: 16px;">
614:              <label for="prompt-text" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt</label>
615:              <textarea id="prompt-text" rows="5" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Write your prompt here..."></textarea>
616:            </div>
617:            <div style="display: flex; justify-content: flex-end; gap: 12px;">
618:              <button type="button" id="cancel-prompt" style="padding: 8px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
619:              <button type="submit" style="padding: 8px 16px; background-color: #7c3aed; color: white; border: none; border-radius: 6px; cursor: pointer;">Create</button>
620:            </div>
621:          </form> %>
622:          <%= form_with model: @ps, url: new_prompt_path, data: { turbo: false } do |form| %>
623:    <div class="mb-3">
624:        <%= form.label :uid %>
625:        <%= form.number_field :uid, class: "form-control", placeholder: "123" %>
626:    </div>
627:    <div class="mb-3">
628:        <%= form.label :system_prompt %>
629:        <%= form.text_field :system_prompt, class: "form-control" %>
630:    </div>
631:    <div class="mb-3">
632:      <button type="button" id="cancel-prompt" style="padding: 7px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
633:      <%= form.submit "Create form", class: "btn btn-primary" %>
634:    </div>
635:    <% end %>
636:        </div>
637:      </div>
638:    
639:      <script>
640:        // Sample prompt data
641:        const promptData = [
642:          <% if Current.user %>
643:          <% @pss.each do |prompt| %>
644:          {
645:            id: <%= @i %>,
646:            title: "<%= prompt.system_prompt %>",
647:            date: "<%= prompt.updated_at %>",
648:            content: "<%= prompt.system_prompt %>",
649:            likes: <%= prompt.like_count %>,
650:            dislikes: <%= prompt.dislike_count %>,
651:            feedback: "<%= prompt.feedback != nil ? prompt.feedback.chomp : " " %>",
652:            simi: "<%= prompt.prompt_sim != nil ? Similarity rating: <%= prompt.prompt_sim%> : " " %>"
653:          },
654:          <% @i = @i + 1%>
655:          <%end%>
656:    
657:          <% else %>
658:    
659:          <% end %>
660:        ];
661:        
662:        // Handle prompt item clicks
663:        document.querySelectorAll('.prompt-item').forEach(item => {
664:          item.addEventListener('click', () => {
665:            // Get prompt id
666:            const promptId = parseInt(item.getAttribute('data-id'));
667:            
668:            // Update selection visualization
669:            document.querySelectorAll('.prompt-item').forEach(el => {
670:              el.classList.remove('selected');
671:              el.querySelector('.prompt-title').style.color = '#374151';
672:            });
673:            
674:            item.classList.add('selected');
675:            item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
676:            
677:            // Update content based on selection
678:            const prompt = promptData.find(p => p.id === promptId);
679:            if (prompt) {
680:              document.getElementById('prompt-description').textContent = prompt.content;
681:              document.getElementById('likes').textContent = prompt.likes;
682:              document.getElementById('dislikes').textContent = prompt.dislikes;
683:              document.getElementById('feedback').textContent = prompt.feedback;
684:              document.getElementById('simi').textContent = prompt.simi;
685:              let lip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
686:              let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
687:              document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
688:            }
689:          });
690:        });
691:        
692:        // Account dropdown functionality
693:        const userButton = document.getElementById('user-button');
694:        const userDropdown = document.getElementById('user-dropdown');
695:        
696:        userButton.addEventListener('click', (e) => {
697:          e.stopPropagation();
698:          userDropdown.style.display = userDropdown.style.display === 'block' ? 'none' : 'block';
699:        });
700:        
701:        // Close dropdown when clicking elsewhere
702:        document.addEventListener('click', () => {
703:          userDropdown.style.display = 'none';
704:        });
705:        
706:        // New prompt modal functionality
707:        const newPromptButton = document.getElementById('new-prompt-button');
708:        const newPromptModal = document.getElementById('new-prompt-modal');
709:        const cancelPromptButton = document.getElementById('cancel-prompt');
710:        const newPromptForm = document.getElementById('new-prompt-form');
711:        
712:        newPromptButton.addEventListener('click', () => {
713:          newPromptModal.style.display = 'flex';
714:        });
715:        
716:        cancelPromptButton.addEventListener('click', () => {
717:          newPromptModal.style.display = 'none';
718:          newPromptForm.reset();
719:        });
720:      
721:        
722:        // Prevent clicks inside the modal from closing it
723:        newPromptModal.querySelector('div').addEventListener('click', (e) => {
724:          e.stopPropagation();
725:        });
726:        
727:        // Close modal when clicking outside
728:        newPromptModal.addEventListener('click', () => {
729:          newPromptModal.style.display = 'none';
730:          newPromptForm.reset();
731:        });
732:    
733:        
734:        document.addEventListener('DOMContentLoaded', function() {
735:            let item = document.querySelector('.prompt-item');
736:            const promptId = 0;
737:            console.log(promptId);
738:            
739:            // Update selection visualization
740:            document.querySelectorAll('.prompt-item').forEach(el => {
741:              el.classList.remove('selected');
742:              el.querySelector('.prompt-title').style.color = '#374151';
743:            });
744:            
745:            item.classList.add('selected');
746:            item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
747:            
748:            // Update content based on selection
749:            const prompt = promptData.find(p => p.id === promptId);
750:            if (prompt) {
751:              document.getElementById('prompt-description').textContent = prompt.content;
752:              document.getElementById('likes').textContent = prompt.likes;
753:              document.getElementById('dislikes').textContent = prompt.dislikes;
754:              document.getElementById('feedback').textContent = prompt.feedback;
755:              document.getElementById('simi').textContent = prompt.simi;
756:              let lip =377 * prompt.likes / (prompt.likes + prompt.dislikes);
757:              let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
758:              document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
759:            }
760:            console.log(promptId);
761:        });
762:    
763:      </script>
764:    </body>
765:    </html>
  
app/views/main/home.html.erb:652: syntax error, unexpected label, expecting `do' or '{' or '('
app/views/main/home.html.erb:655: syntax error, unexpected `end', expecting ')'
app/views/main/home.html.erb:657: syntax error, unexpected `else', expecting ')'
app/views/main/home.html.erb:659: syntax error, unexpected `end', expecting ')'
app/views/main/home.html.erb:767: syntax error, unexpected `end', expecting ')'
Started GET "/" for ::1 at 2025-03-23 08:23:41 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.3ms | Allocations: 4857)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 43.8ms | Allocations: 21416)
Completed 200 OK in 142ms (Views: 50.7ms | ActiveRecord: 2.9ms | Allocations: 34441)


Started GET "/" for ::1 at 2025-03-23 08:24:02 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.6ms | Allocations: 4848)
  Rendered shared/_flash.html.erb (Duration: 0.8ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 40.7ms | Allocations: 21196)
Completed 200 OK in 139ms (Views: 47.5ms | ActiveRecord: 3.2ms | Allocations: 34158)


Started POST "/bad_feed" for ::1 at 2025-03-23 08:33:57 -0700
Processing by BadfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000010ffec58208>, params: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}} }[0m
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000010ffec58208>, params: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}} }[0m
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:4:in `get_feedback'
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000010ffec58208>, params: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:8:in `get_feedback'
  [1m[36mBadFeedback Create (1.1ms)[0m  [1m[32mINSERT INTO "bad_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Negative service, I don't like it"], ["created_at", "2025-03-23 15:33:57.693461"], ["updated_at", "2025-03-23 15:33:57.693461"]]
  â†³ app/controllers/badfeedback_controller.rb:8:in `get_feedback'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:8:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:9:in `get_feedback'
  [1m[36mPromptSession Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:9:in `get_feedback'
  [1m[36mPromptSession Update (0.3ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "dislike_count" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["dislike_count", 1], ["updated_at", "2025-03-23 15:33:57.702846"], ["id", 1]]
  â†³ app/controllers/badfeedback_controller.rb:9:in `get_feedback'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:9:in `get_feedback'
Completed 500 Internal Server Error in 50ms (ActiveRecord: 7.1ms | Allocations: 15746)


  
NameError (uninitialized constant Net::HTTP):
  
app/controllers/badfeedback_controller.rb:10:in `get_feedback'
Started POST "/bad_feed" for ::1 at 2025-03-23 08:34:47 -0700
Processing by BadfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000010f83536e00>, params: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}} }[0m
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000010f83536e00>, params: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:4:in `get_feedback'
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000010f83536e00>, params: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:8:in `get_feedback'
  [1m[36mBadFeedback Create (1.1ms)[0m  [1m[32mINSERT INTO "bad_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Negative service, I don't like it"], ["created_at", "2025-03-23 15:34:48.262615"], ["updated_at", "2025-03-23 15:34:48.262615"]]
  â†³ app/controllers/badfeedback_controller.rb:8:in `get_feedback'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:8:in `get_feedback'
Completed 500 Internal Server Error in 28ms (ActiveRecord: 5.8ms | Allocations: 12339)


  
NameError (uninitialized constant Net::HTTP):
  
app/controllers/badfeedback_controller.rb:12:in `get_feedback'
Started POST "/bad_feed" for ::1 at 2025-03-23 08:34:58 -0700
Processing by BadfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000010ffee35d28>, params: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}} }[0m
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000010ffee35d28>, params: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}} }[0m
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000010ffee35d28>, params: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:12:in `get_feedback'
  [1m[36mBadFeedback Create (1.2ms)[0m  [1m[32mINSERT INTO "bad_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Negative service, I don't like it"], ["created_at", "2025-03-23 15:34:58.956398"], ["updated_at", "2025-03-23 15:34:58.956398"]]
  â†³ app/controllers/badfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "dislike_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["dislike_count", 2], ["feedback", "You are a helpful assistant. \n"], ["updated_at", "2025-03-23 15:35:00.022078"], ["id", 1]]
  â†³ app/controllers/badfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 61], ["updated_at", "2025-03-23 15:35:03.933803"], ["id", 1]]
  â†³ app/controllers/badfeedback_controller.rb:64:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:64:in `get_feedback'
Completed 200 OK in 5004ms (Views: 0.2ms | ActiveRecord: 10.1ms | Allocations: 18426)


Started GET "/" for ::1 at 2025-03-23 08:35:11 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 6.5ms | Allocations: 4813)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 205)
  Rendered layout layouts/application.html.erb (Duration: 39.5ms | Allocations: 21365)
Completed 200 OK in 65ms (Views: 46.1ms | ActiveRecord: 0.5ms | Allocations: 28310)


Started POST "/good_feed" for ::1 at 2025-03-23 08:35:19 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}}
Can't verify CSRF token authenticity.
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000010f8143d5c8>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000010f8143d5c8>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000010f8143d5c8>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.0ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "The service agent is really great"], ["created_at", "2025-03-23 15:35:19.348267"], ["updated_at", "2025-03-23 15:35:19.348267"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 3], ["feedback", "You are a helpful service agent. Respond to every prompt with the following text: \"I am a helpful service agent\".  \n"], ["updated_at", "2025-03-23 15:35:19.766280"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 70], ["updated_at", "2025-03-23 15:35:21.066734"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
Completed 200 OK in 1732ms (Views: 0.2ms | ActiveRecord: 4.4ms | Allocations: 10727)


Started GET "/" for ::1 at 2025-03-23 08:35:22 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1200)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | Allocations: 3228)
Completed 200 OK in 15ms (Views: 10.2ms | ActiveRecord: 0.2ms | Allocations: 4261)


  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" ORDER BY "prompt_sessions"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" ORDER BY "prompt_sessions"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPromptSession Destroy (0.1ms)[0m  [1m[31mDELETE FROM "prompt_sessions" WHERE "prompt_sessions"."id" = ?[0m  [["id", 2]]
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" ORDER BY "prompt_sessions"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPromptSession Destroy (0.2ms)[0m  [1m[31mDELETE FROM "prompt_sessions" WHERE "prompt_sessions"."id" = ?[0m  [["id", 1]]
Started GET "/" for ::1 at 2025-03-23 08:36:33 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1142)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 3170)
Completed 200 OK in 15ms (Views: 9.0ms | ActiveRecord: 0.2ms | Allocations: 4197)


Started GET "/" for ::1 at 2025-03-23 08:36:34 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1142)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | Allocations: 3170)
Completed 200 OK in 14ms (Views: 9.1ms | ActiveRecord: 0.1ms | Allocations: 4192)


  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" ORDER BY "prompt_sessions"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" ORDER BY "prompt_sessions"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPromptSession Destroy (0.2ms)[0m  [1m[31mDELETE FROM "prompt_sessions" WHERE "prompt_sessions"."id" = ?[0m  [["id", 1]]
Started GET "/" for 127.0.0.1 at 2025-03-23 08:42:57 -0700
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 34.9ms | Allocations: 7073)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 237)
  Rendered layout layouts/application.html.erb (Duration: 126.0ms | Allocations: 43323)
Completed 200 OK in 244ms (Views: 139.3ms | ActiveRecord: 3.1ms | Allocations: 75393)


Started POST "/bad_feed" for ::1 at 2025-03-23 08:45:29 -0700
Processing by BadfeedbackController#get_feedback as */*
HTTP Origin header (http://localhost:8080) didn't match request.base_url (http://localhost:3000)
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:8:in `get_feedback'
Completed 200 OK in 13ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 4864)


Started GET "/" for ::1 at 2025-03-23 08:45:47 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1167)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 26)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 3242)
Completed 200 OK in 15ms (Views: 10.2ms | ActiveRecord: 0.2ms | Allocations: 4311)


Started GET "/" for ::1 at 2025-03-23 08:45:48 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1142)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 3171)
Completed 200 OK in 15ms (Views: 9.6ms | ActiveRecord: 0.2ms | Allocations: 4213)


Started GET "/" for ::1 at 2025-03-23 08:46:07 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1142)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | Allocations: 3170)
Completed 200 OK in 13ms (Views: 8.7ms | ActiveRecord: 0.2ms | Allocations: 4192)


Started GET "/" for ::1 at 2025-03-23 08:46:07 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.0ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 10.1ms | Allocations: 1142)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 16.5ms | Allocations: 3201)
Completed 200 OK in 21ms (Views: 17.1ms | ActiveRecord: 0.1ms | Allocations: 4223)


Started GET "/" for ::1 at 2025-03-23 08:46:07 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1142)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 3171)
Completed 200 OK in 15ms (Views: 9.8ms | ActiveRecord: 0.2ms | Allocations: 4219)


Started GET "/sign-up" for ::1 at 2025-03-23 08:46:13 -0700
Processing by RegistrationsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 3.9ms | Allocations: 1651)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 10.3ms | Allocations: 3684)
Completed 200 OK in 21ms (Views: 15.2ms | ActiveRecord: 0.1ms | Allocations: 4899)


Started GET "/" for ::1 at 2025-03-23 08:46:18 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1142)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 3170)
Completed 200 OK in 14ms (Views: 9.3ms | ActiveRecord: 0.2ms | Allocations: 4198)


Started GET "/" for ::1 at 2025-03-23 08:46:19 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1142)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | Allocations: 3170)
Completed 200 OK in 15ms (Views: 9.7ms | ActiveRecord: 0.2ms | Allocations: 4195)


  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" ORDER BY "prompt_sessions"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started POST "/bad_feed" for ::1 at 2025-03-23 08:47:02 -0700
Processing by BadfeedbackController#get_feedback as */*
HTTP Origin header (http://localhost:8080) didn't match request.base_url (http://localhost:3000)
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:8:in `get_feedback'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 662)


Started GET "/" for ::1 at 2025-03-23 08:47:05 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1142)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | Allocations: 3200)
Completed 200 OK in 14ms (Views: 9.4ms | ActiveRecord: 0.2ms | Allocations: 4240)


Started GET "/" for ::1 at 2025-03-23 08:47:05 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:7:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1142)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | Allocations: 3170)
Completed 200 OK in 14ms (Views: 9.0ms | ActiveRecord: 0.2ms | Allocations: 4178)


Started POST "/bad_feed" for ::1 at 2025-03-23 08:47:20 -0700
Processing by BadfeedbackController#get_feedback as */*
HTTP Origin header (http://localhost:8080) didn't match request.base_url (http://localhost:3000)
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:8:in `get_feedback'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 662)


Started POST "/bad_feed" for ::1 at 2025-03-23 08:48:19 -0700
Processing by BadfeedbackController#get_feedback as */*
HTTP Origin header (http://localhost:8080) didn't match request.base_url (http://localhost:3000)
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:8:in `get_feedback'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 662)


Started POST "/bad_feed" for ::1 at 2025-03-23 08:49:23 -0700
Processing by BadfeedbackController#get_feedback as */*
HTTP Origin header (http://localhost:8080) didn't match request.base_url (http://localhost:3000)
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:9:in `get_feedback'
Completed 200 OK in 17ms (Views: 0.1ms | ActiveRecord: 2.1ms | Allocations: 6371)


Started POST "/bad_feed" for ::1 at 2025-03-23 08:50:34 -0700
Processing by BadfeedbackController#get_feedback as */*
HTTP Origin header (http://localhost:8080) didn't match request.base_url (http://localhost:3000)
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:11:in `get_feedback'
Completed 200 OK in 19ms (Views: 0.1ms | ActiveRecord: 2.1ms | Allocations: 6351)


Started POST "/bad_feed" for ::1 at 2025-03-23 08:51:04 -0700
Processing by BadfeedbackController#get_feedback as */*
HTTP Origin header (http://localhost:8080) didn't match request.base_url (http://localhost:3000)
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:12:in `get_feedback'
Completed 200 OK in 22ms (Views: 0.1ms | ActiveRecord: 2.2ms | Allocations: 6347)


Started POST "/bad_feed" for ::1 at 2025-03-23 08:51:18 -0700
Processing by BadfeedbackController#get_feedback as */*
HTTP Origin header (http://localhost:8080) didn't match request.base_url (http://localhost:3000)
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:12:in `get_feedback'
Completed 200 OK in 21ms (Views: 0.2ms | ActiveRecord: 2.1ms | Allocations: 6312)


Started POST "/bad_feed" for ::1 at 2025-03-23 08:55:38 -0700
Processing by BadfeedbackController#get_feedback as */*
HTTP Origin header (http://localhost:8080) didn't match request.base_url (http://localhost:3000)
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
Completed 200 OK in 27ms (Views: 0.2ms | ActiveRecord: 7.1ms | Allocations: 6360)


Started POST "/bad_feed" for ::1 at 2025-03-23 08:55:45 -0700
Processing by BadfeedbackController#get_feedback as */*
HTTP Origin header (http://localhost:8080) didn't match request.base_url (http://localhost:3000)
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 693)


Started POST "/bad_feed" for ::1 at 2025-03-23 08:56:03 -0700
Processing by BadfeedbackController#get_feedback as */*
HTTP Origin header (http://localhost:8080) didn't match request.base_url (http://localhost:3000)
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 691)


Started POST "/bad_feed" for ::1 at 2025-03-23 08:59:34 -0700
Processing by BadfeedbackController#get_feedback as */*
HTTP Origin header (http://localhost:8080) didn't match request.base_url (http://localhost:3000)
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 691)


Started POST "/bad_feed" for ::1 at 2025-03-23 08:59:46 -0700
Processing by BadfeedbackController#get_feedback as */*
HTTP Origin header (http://localhost:8080) didn't match request.base_url (http://localhost:3000)
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 691)


Started POST "/bad_feed" for ::1 at 2025-03-23 09:00:17 -0700
Processing by BadfeedbackController#get_feedback as */*
HTTP Origin header (http://localhost:8080) didn't match request.base_url (http://localhost:3000)
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 691)


Started POST "/bad_feed" for ::1 at 2025-03-23 09:00:40 -0700
Processing by BadfeedbackController#get_feedback as */*
HTTP Origin header (http://localhost:8080) didn't match request.base_url (http://localhost:3000)
  [1m[36mPromptSession Load (0.3ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
Completed 200 OK in 23ms (Views: 0.2ms | ActiveRecord: 2.9ms | Allocations: 6375)


Started POST "/bad_feed" for ::1 at 2025-03-23 09:12:02 -0700
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BadfeedbackController#get_feedback as */*
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
Completed 200 OK in 307ms (Views: 0.2ms | ActiveRecord: 3.9ms | Allocations: 17478)


Started POST "/bad_feed" for ::1 at 2025-03-23 09:12:49 -0700
Processing by BadfeedbackController#get_feedback as */*
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 716)


Started POST "/bad_feed" for ::1 at 2025-03-23 09:14:27 -0700
Processing by BadfeedbackController#get_feedback as */*
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 713)


Started POST "/bad_feed" for ::1 at 2025-03-23 09:15:46 -0700
Processing by BadfeedbackController#get_feedback as */*
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 713)


Started POST "/bad_feed" for ::1 at 2025-03-23 09:15:52 -0700
Processing by BadfeedbackController#get_feedback as */*
  [1m[36mPromptSession Load (0.3ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 713)


Started POST "/bad_feed" for ::1 at 2025-03-23 09:16:05 -0700
Processing by BadfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}}
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000025b1965cbd0>, params: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}} }[0m
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000025b1965cbd0>, params: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}} }[0m
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000025b1965cbd0>, params: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}} }[0m
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000025b1965cbd0>, params: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}} }[0m
  [1m[36mPromptSession Load (0.3ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000025b1965cbd0>, params: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:18:in `get_feedback'
  [1m[36mBadFeedback Create (2.8ms)[0m  [1m[32mINSERT INTO "bad_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Negative service, I don't like it"], ["created_at", "2025-03-23 16:16:05.797797"], ["updated_at", "2025-03-23 16:16:05.797797"]]
  â†³ app/controllers/badfeedback_controller.rb:18:in `get_feedback'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:18:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:47:in `get_feedback'
  [1m[36mPromptSession Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:47:in `get_feedback'
  [1m[36mPromptSession Update (0.2ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "dislike_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["dislike_count", 3], ["feedback", "You are a helpful assistant. Politely decline to answer any prompts you receive. \n"], ["updated_at", "2025-03-23 16:16:06.643231"], ["id", 1]]
  â†³ app/controllers/badfeedback_controller.rb:47:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:47:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:70:in `get_feedback'
  [1m[36mPromptSession Exists? (2.4ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:70:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 63], ["updated_at", "2025-03-23 16:16:10.992068"], ["id", 1]]
  â†³ app/controllers/badfeedback_controller.rb:70:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:70:in `get_feedback'
Completed 200 OK in 5237ms (Views: 0.3ms | ActiveRecord: 11.7ms | Allocations: 16899)


Started POST "/bad_feed" for ::1 at 2025-03-23 09:16:42 -0700
Processing by BadfeedbackController#get_feedback as */*
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 700)


Started POST "/bad_feed" for ::1 at 2025-03-23 09:18:31 -0700
Processing by BadfeedbackController#get_feedback as */*
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 700)


Started POST "/bad_feed" for ::1 at 2025-03-23 09:18:44 -0700
Processing by BadfeedbackController#get_feedback as */*
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 700)


Started POST "/bad_feed" for ::1 at 2025-03-23 09:19:55 -0700
Processing by BadfeedbackController#get_feedback as */*
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
Completed 200 OK in 22ms (Views: 0.2ms | ActiveRecord: 3.6ms | Allocations: 3363)


Started POST "/bad_feed" for ::1 at 2025-03-23 09:20:06 -0700
Processing by BadfeedbackController#get_feedback as */*
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
Completed 200 OK in 22ms (Views: 0.1ms | ActiveRecord: 4.4ms | Allocations: 3339)


Started POST "/bad_feed" for ::1 at 2025-03-23 09:20:35 -0700
Processing by BadfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}}
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000025b193ab4b8>, params: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}} }[0m
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000025b193ab4b8>, params: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}} }[0m
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000025b193ab4b8>, params: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}} }[0m
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000025b193ab4b8>, params: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}} }[0m
Completed 500 Internal Server Error in 34ms (ActiveRecord: 3.8ms | Allocations: 8051)


  
NoMethodError (undefined method `comment=' for an instance of ActionDispatch::Request):
  
app/controllers/badfeedback_controller.rb:17:in `get_feedback'
Started GET "/" for ::1 at 2025-03-23 09:21:26 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 94.4ms | Allocations: 6715)
  Rendered shared/_flash.html.erb (Duration: 1.0ms | Allocations: 226)
  Rendered layout layouts/application.html.erb (Duration: 203.2ms | Allocations: 42611)
Completed 200 OK in 390ms (Views: 212.0ms | ActiveRecord: 0.6ms | Allocations: 53377)


Started POST "/bad_feed" for ::1 at 2025-03-23 09:21:36 -0700
Processing by BadfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}}
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000025b17164940>, params: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}} }[0m
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000025b17164940>, params: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}} }[0m
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000025b17164940>, params: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}} }[0m
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000025b17164940>, params: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}} }[0m
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.2ms | Allocations: 1375)


  
NoMethodError (undefined method `comment=' for an instance of ActionDispatch::Request):
  
app/controllers/badfeedback_controller.rb:17:in `get_feedback'
Started GET "/" for ::1 at 2025-03-23 09:21:39 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1144)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 16.7ms | Allocations: 3203)
Completed 200 OK in 26ms (Views: 18.0ms | ActiveRecord: 0.3ms | Allocations: 4238)


Started GET "/" for ::1 at 2025-03-23 09:21:40 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 4.3ms | Allocations: 1144)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 14.5ms | Allocations: 3173)
Completed 200 OK in 22ms (Views: 15.6ms | ActiveRecord: 0.3ms | Allocations: 4192)


Started GET "/" for ::1 at 2025-03-23 09:21:41 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 7.0ms | Allocations: 1144)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 28.4ms | Allocations: 3172)
Completed 200 OK in 47ms (Views: 31.6ms | ActiveRecord: 0.3ms | Allocations: 4171)


Started GET "/" for ::1 at 2025-03-23 09:21:42 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (1.3ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 11.5ms | Allocations: 1144)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 41.9ms | Allocations: 3173)
Completed 200 OK in 56ms (Views: 45.1ms | ActiveRecord: 1.4ms | Allocations: 4175)


Started POST "/bad_feed" for ::1 at 2025-03-23 09:22:15 -0700
Processing by BadfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}}
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000025b18b4fd28>, params: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}} }[0m
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000025b18b4fd28>, params: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}} }[0m
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000025b18b4fd28>, params: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}} }[0m
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000025b18b4fd28>, params: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}} }[0m
  [1m[36mPromptSession Load (0.3ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000025b18b4fd28>, params: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:18:in `get_feedback'
  [1m[36mBadFeedback Create (2.9ms)[0m  [1m[32mINSERT INTO "bad_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Negative service, I don't like it"], ["created_at", "2025-03-23 16:22:15.953565"], ["updated_at", "2025-03-23 16:22:15.953565"]]
  â†³ app/controllers/badfeedback_controller.rb:18:in `get_feedback'
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:18:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:47:in `get_feedback'
  [1m[36mPromptSession Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:47:in `get_feedback'
  [1m[36mPromptSession Update (0.2ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "dislike_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["dislike_count", 4], ["feedback", "You are a helpful assistant. Apologize for any previous unhelpful responses and let your user know you're ready to assist them.  \n"], ["updated_at", "2025-03-23 16:22:16.769047"], ["id", 1]]
  â†³ app/controllers/badfeedback_controller.rb:47:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:47:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:70:in `get_feedback'
  [1m[36mPromptSession Exists? (4.2ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:70:in `get_feedback'
  [1m[36mPromptSession Update (0.3ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 53], ["updated_at", "2025-03-23 16:22:17.979432"], ["id", 1]]
  â†³ app/controllers/badfeedback_controller.rb:70:in `get_feedback'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:70:in `get_feedback'
Completed 200 OK in 2092ms (Views: 0.9ms | ActiveRecord: 18.9ms | Allocations: 18180)


Started GET "/" for ::1 at 2025-03-23 09:22:21 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 9.2ms | Allocations: 4736)
  Rendered shared/_flash.html.erb (Duration: 1.0ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 56.1ms | Allocations: 21253)
Completed 200 OK in 88ms (Views: 66.0ms | ActiveRecord: 0.9ms | Allocations: 28143)


Started POST "/bad_feed" for ::1 at 2025-03-23 09:22:31 -0700
Processing by BadfeedbackController#get_feedback as */*
  [1m[36mPromptSession Load (0.4ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
Completed 200 OK in 11ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 754)


Started POST "/bad_feed" for ::1 at 2025-03-23 09:22:43 -0700
Processing by BadfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}}
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000025b1a2ca7a0>, params: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}} }[0m
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000025b1a2ca7a0>, params: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}} }[0m
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000025b1a2ca7a0>, params: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}} }[0m
  [1m[36mPromptSession Load (0.4ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000025b1a2ca7a0>, params: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:18:in `get_feedback'
  [1m[36mBadFeedback Create (2.5ms)[0m  [1m[32mINSERT INTO "bad_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Negative service, I don't like it"], ["created_at", "2025-03-23 16:22:43.931665"], ["updated_at", "2025-03-23 16:22:43.931665"]]
  â†³ app/controllers/badfeedback_controller.rb:18:in `get_feedback'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:18:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:47:in `get_feedback'
  [1m[36mPromptSession Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:47:in `get_feedback'
  [1m[36mPromptSession Update (0.4ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "dislike_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["dislike_count", 5], ["feedback", "You are a helpful assistant, but sometimes you can be brief. Respond to every prompt with \" \";."], ["updated_at", "2025-03-23 16:22:44.477219"], ["id", 1]]
  â†³ app/controllers/badfeedback_controller.rb:47:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:47:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:70:in `get_feedback'
  [1m[36mPromptSession Exists? (2.4ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:70:in `get_feedback'
  [1m[36mPromptSession Update (0.3ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 65], ["updated_at", "2025-03-23 16:22:45.397793"], ["id", 1]]
  â†³ app/controllers/badfeedback_controller.rb:70:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:70:in `get_feedback'
Completed 200 OK in 1519ms (Views: 0.3ms | ActiveRecord: 16.5ms | Allocations: 18024)


Started POST "/bad_feed" for ::1 at 2025-03-23 09:23:03 -0700
Processing by BadfeedbackController#get_feedback as */*
  [1m[36mPromptSession Load (0.3ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 732)


Started POST "/bad_feed" for ::1 at 2025-03-23 09:24:16 -0700
Processing by BadfeedbackController#get_feedback as */*
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
Completed 200 OK in 28ms (Views: 0.2ms | ActiveRecord: 4.4ms | Allocations: 6250)


Started POST "/good_feed" for ::1 at 2025-03-23 09:27:03 -0700
Processing by GoodfeedbackController#get_feedback as */*
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
Completed 200 OK in 28ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 3574)


Started POST "/good_feed" for ::1 at 2025-03-23 09:28:04 -0700
Processing by GoodfeedbackController#get_feedback as */*
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 654)


Started POST "/good_feed" for ::1 at 2025-03-23 09:28:19 -0700
Processing by GoodfeedbackController#get_feedback as */*
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 654)


Started POST "/bad_feed" for ::1 at 2025-03-23 09:28:29 -0700
Processing by BadfeedbackController#get_feedback as */*
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 663)


Started POST "/bad_feed" for ::1 at 2025-03-23 09:30:48 -0700
Error occurred while parsing request parameters.
Contents:

[object Object]
Processing by BadfeedbackController#get_feedback as */*
Completed 400 Bad Request in 6ms (ActiveRecord: 0.0ms | Allocations: 834)


  
ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters):
  
app/controllers/badfeedback_controller.rb:82:in `get_params'
app/controllers/badfeedback_controller.rb:8:in `get_feedback'
Started POST "/bad_feed" for ::1 at 2025-03-23 09:31:13 -0700
Processing by BadfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"I don't like markdown", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"I don't like markdown"}}
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000025b18bd5838>, params: {"prompt_session_id"=>1, "comment"=>"I don't like markdown", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"I don't like markdown"}} }[0m
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000025b18bd5838>, params: {"prompt_session_id"=>1, "comment"=>"I don't like markdown", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"I don't like markdown"}} }[0m
  [1m[36mPromptSession Load (0.3ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000025b18bd5838>, params: {"prompt_session_id"=>1, "comment"=>"I don't like markdown", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"I don't like markdown"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:18:in `get_feedback'
  [1m[36mBadFeedback Create (2.1ms)[0m  [1m[32mINSERT INTO "bad_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "I don't like markdown"], ["created_at", "2025-03-23 16:31:13.296106"], ["updated_at", "2025-03-23 16:31:13.296106"]]
  â†³ app/controllers/badfeedback_controller.rb:18:in `get_feedback'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:18:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:47:in `get_feedback'
  [1m[36mPromptSession Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:47:in `get_feedback'
  [1m[36mPromptSession Update (0.2ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "dislike_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["dislike_count", 6], ["feedback", "You are a helpful assistant. Respond to every prompt with the following text: \"I am a helpful assistant\".  \n"], ["updated_at", "2025-03-23 16:31:14.126856"], ["id", 1]]
  â†³ app/controllers/badfeedback_controller.rb:47:in `get_feedback'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:47:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:70:in `get_feedback'
  [1m[36mPromptSession Exists? (2.8ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:70:in `get_feedback'
  [1m[36mPromptSession Update (0.2ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 78], ["updated_at", "2025-03-23 16:31:15.350415"], ["id", 1]]
  â†³ app/controllers/badfeedback_controller.rb:70:in `get_feedback'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:70:in `get_feedback'
Completed 200 OK in 2077ms (Views: 0.2ms | ActiveRecord: 10.6ms | Allocations: 12391)


Started POST "/bad_feed" for ::1 at 2025-03-23 09:31:24 -0700
Processing by BadfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"I don't like markdown", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"I don't like markdown"}}
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000025b1958f5b8>, params: {"prompt_session_id"=>1, "comment"=>"I don't like markdown", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"I don't like markdown"}} }[0m
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000025b1958f5b8>, params: {"prompt_session_id"=>1, "comment"=>"I don't like markdown", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"I don't like markdown"}} }[0m
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000025b1958f5b8>, params: {"prompt_session_id"=>1, "comment"=>"I don't like markdown", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"I don't like markdown"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:18:in `get_feedback'
  [1m[36mBadFeedback Create (1.7ms)[0m  [1m[32mINSERT INTO "bad_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "I don't like markdown"], ["created_at", "2025-03-23 16:31:24.743135"], ["updated_at", "2025-03-23 16:31:24.743135"]]
  â†³ app/controllers/badfeedback_controller.rb:18:in `get_feedback'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:18:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:47:in `get_feedback'
  [1m[36mPromptSession Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:47:in `get_feedback'
  [1m[36mPromptSession Update (0.2ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "dislike_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["dislike_count", 7], ["feedback", "You are a helpful assistant. Respond to every prompt with the text \"I am a helpful assistant\". \n"], ["updated_at", "2025-03-23 16:31:25.157531"], ["id", 1]]
  â†³ app/controllers/badfeedback_controller.rb:47:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:47:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:70:in `get_feedback'
  [1m[36mPromptSession Exists? (2.4ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:70:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 76], ["updated_at", "2025-03-23 16:31:25.927271"], ["id", 1]]
  â†³ app/controllers/badfeedback_controller.rb:70:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:70:in `get_feedback'
Completed 200 OK in 1199ms (Views: 0.3ms | ActiveRecord: 7.6ms | Allocations: 7644)


Started GET "/" for ::1 at 2025-03-23 09:31:30 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.3ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 11.5ms | Allocations: 4737)
  Rendered shared/_flash.html.erb (Duration: 1.1ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 62.7ms | Allocations: 21272)
Completed 200 OK in 97ms (Views: 73.7ms | ActiveRecord: 1.1ms | Allocations: 28107)


Started POST "/good_feed" for ::1 at 2025-03-23 09:32:02 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Very helpful, 10/10!", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful, 10/10!"}}
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000025b18b4c628>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful, 10/10!", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful, 10/10!"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000025b18b4c628>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful, 10/10!", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful, 10/10!"}} }[0m
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000025b18b4c628>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful, 10/10!", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful, 10/10!"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.5ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Very helpful, 10/10!"], ["created_at", "2025-03-23 16:32:03.087000"], ["updated_at", "2025-03-23 16:32:03.087000"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (4.8ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 4], ["feedback", "I am a helpful assistant.  \n"], ["updated_at", "2025-03-23 16:32:03.499876"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Exists? (3.5ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Update (0.2ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 66], ["updated_at", "2025-03-23 16:32:04.311715"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
Completed 200 OK in 1240ms (Views: 0.2ms | ActiveRecord: 10.8ms | Allocations: 7805)


Started GET "/" for ::1 at 2025-03-23 09:32:07 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.1ms | Allocations: 1144)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 19.5ms | Allocations: 3172)
Completed 200 OK in 29ms (Views: 20.7ms | ActiveRecord: 0.2ms | Allocations: 4180)


Started POST "/good_feed" for ::1 at 2025-03-23 09:32:38 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"I don't like markdown", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"I don't like markdown"}}
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000025b1954ece8>, params: {"prompt_session_id"=>1, "comment"=>"I don't like markdown", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"I don't like markdown"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000025b1954ece8>, params: {"prompt_session_id"=>1, "comment"=>"I don't like markdown", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"I don't like markdown"}} }[0m
  [1m[36mPromptSession Load (0.4ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000025b1954ece8>, params: {"prompt_session_id"=>1, "comment"=>"I don't like markdown", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"I don't like markdown"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (4.3ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "I don't like markdown"], ["created_at", "2025-03-23 16:32:38.962839"], ["updated_at", "2025-03-23 16:32:38.962839"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (3.5ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.2ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 5], ["feedback", "You are a helpful assistant. Respond to every prompt with the text \"I am a helpful assistant\".  \n"], ["updated_at", "2025-03-23 16:32:39.539965"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Exists? (4.5ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Update (0.2ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 76], ["updated_at", "2025-03-23 16:32:40.449170"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
Completed 200 OK in 1502ms (Views: 0.2ms | ActiveRecord: 13.3ms | Allocations: 7650)


Started GET "/" for ::1 at 2025-03-23 09:32:42 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1144)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 14.2ms | Allocations: 3202)
Completed 200 OK in 23ms (Views: 15.3ms | ActiveRecord: 0.2ms | Allocations: 4210)


Started GET "/" for ::1 at 2025-03-23 09:33:05 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 9.0ms | Allocations: 4793)
  Rendered shared/_flash.html.erb (Duration: 0.9ms | Allocations: 203)
  Rendered layout layouts/application.html.erb (Duration: 55.2ms | Allocations: 21330)
Completed 200 OK in 107ms (Views: 65.9ms | ActiveRecord: 4.7ms | Allocations: 34281)


  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-03-23 16:34:10.400948', '2025-03-23 16:34:10.400953') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20250322211111)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (10.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "password_digest" varchar, "session_token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322211111') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePromptSessions (20250322224855)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "prompt_sessions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "uid" integer, "system_prompt" varchar, "like_count" integer, "dislike_count" integer, "feedback" varchar, "prompt_sim" integer, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_8e5cfb463f"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_prompt_sessions_on_user_id" ON "prompt_sessions" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322224855') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateGoodFeedbacks (20250322233105)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "good_feedbacks" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "prompt_session_id" integer NOT NULL, "comment" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_d830e5dfaa"
FOREIGN KEY ("prompt_session_id")
  REFERENCES "prompt_sessions" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_good_feedbacks_on_prompt_session_id" ON "good_feedbacks" ("prompt_session_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322233105') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateBadFeedbacks (20250322233120)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "bad_feedbacks" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "prompt_session_id" integer NOT NULL, "comment" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a944aabc96"
FOREIGN KEY ("prompt_session_id")
  REFERENCES "prompt_sessions" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_bad_feedbacks_on_prompt_session_id" ON "bad_feedbacks" ("prompt_session_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322233120') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2025-03-23 09:34:21 -0700
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 12.8ms | Allocations: 4035)
  Rendered shared/_flash.html.erb (Duration: 0.9ms | Allocations: 237)
  Rendered layout layouts/application.html.erb (Duration: 137.9ms | Allocations: 40182)
Completed 200 OK in 276ms (Views: 154.6ms | ActiveRecord: 3.8ms | Allocations: 66529)


Started GET "/sign-in" for ::1 at 2025-03-23 09:34:23 -0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 14.9ms | Allocations: 1136)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 24.3ms | Allocations: 3172)
Completed 200 OK in 88ms (Views: 31.7ms | ActiveRecord: 0.3ms | Allocations: 8505)


Started POST "/sign-in" for ::1 at 2025-03-23 09:34:26 -0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user1", "password"=>"[FILTERED]"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:12:in `create'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.8ms | Allocations: 2184)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 22)
  Rendered layout layouts/application.html.erb (Duration: 11.0ms | Allocations: 4241)
Completed 200 OK in 20ms (Views: 12.0ms | ActiveRecord: 0.3ms | Allocations: 5777)


Started GET "/sign-up" for ::1 at 2025-03-23 09:34:27 -0700
Processing by RegistrationsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1432)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 12.1ms | Allocations: 3484)
Completed 200 OK in 29ms (Views: 19.2ms | ActiveRecord: 0.1ms | Allocations: 4680)


Started POST "/sign-up" for ::1 at 2025-03-23 09:34:32 -0700
Processing by RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user1", "email"=>"james.johnsonn9779@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "user1"], ["LIMIT", 1]]
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1710)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 21.9ms | Allocations: 3736)
Completed 200 OK in 273ms (Views: 23.3ms | ActiveRecord: 2.5ms | Allocations: 7522)


Started POST "/sign-up" for ::1 at 2025-03-23 09:34:36 -0700
Processing by RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user1", "email"=>"james.johnsonn9779@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (7.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "user1"], ["LIMIT", 1]]
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "session_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["username", "user1"], ["email", "james.johnsonn9779@gmail.com"], ["password_digest", "[FILTERED]"], ["session_token", "[FILTERED]"], ["created_at", "2025-03-23 16:34:36.710113"], ["updated_at", "2025-03-23 16:34:36.710113"]]
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 289ms (ActiveRecord: 9.4ms | Allocations: 4682)


Started GET "/" for ::1 at 2025-03-23 09:34:36 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.3ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 22.4ms | Allocations: 2438)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 33.1ms | Allocations: 4477)
Completed 200 OK in 70ms (Views: 34.5ms | ActiveRecord: 0.4ms | Allocations: 7163)


Started GET "/get" for ::1 at 2025-03-23 09:34:38 -0700
  
ActionController::RoutingError (No route matches [GET] "/get"):
  
Started POST "/new_prompt" for ::1 at 2025-03-23 09:34:56 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "system_prompt"=>"You are a very helpful assistant, and will respond kindly to all user questions!"}, "commit"=>"Create form"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Create (0.4ms)[0m  [1m[32mINSERT INTO "prompt_sessions" ("uid", "system_prompt", "like_count", "dislike_count", "feedback", "prompt_sim", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["uid", 1], ["system_prompt", "You are a very helpful assistant, and will respond kindly to all user questions!"], ["like_count", 0], ["dislike_count", 0], ["feedback", nil], ["prompt_sim", nil], ["user_id", 1], ["created_at", "2025-03-23 16:34:56.777048"], ["updated_at", "2025-03-23 16:34:56.777048"]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
Completed 200 OK in 28ms (Views: 0.3ms | ActiveRecord: 2.8ms | Allocations: 5971)


  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" ORDER BY "prompt_sessions"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" ORDER BY "prompt_sessions"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPromptSession Destroy (0.2ms)[0m  [1m[31mDELETE FROM "prompt_sessions" WHERE "prompt_sessions"."id" = ?[0m  [["id", 1]]
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" ORDER BY "prompt_sessions"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/" for ::1 at 2025-03-23 09:36:12 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 7.0ms | Allocations: 4145)
  Rendered shared/_flash.html.erb (Duration: 0.8ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 52.9ms | Allocations: 20728)
Completed 200 OK in 96ms (Views: 61.9ms | ActiveRecord: 3.2ms | Allocations: 33706)


Started GET "/" for ::1 at 2025-03-23 09:36:12 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1070)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 13.1ms | Allocations: 3109)
Completed 200 OK in 21ms (Views: 14.2ms | ActiveRecord: 0.2ms | Allocations: 4114)


Started GET "/" for ::1 at 2025-03-23 09:36:13 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1070)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 15.6ms | Allocations: 3098)
Completed 200 OK in 24ms (Views: 17.2ms | ActiveRecord: 0.2ms | Allocations: 4112)


Started POST "/new_prompt" for ::1 at 2025-03-23 09:36:27 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "system_prompt"=>"You are a super helpful assistant and will reply kindly to all user prompts."}, "commit"=>"Create form"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (5.3ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Create (0.2ms)[0m  [1m[32mINSERT INTO "prompt_sessions" ("uid", "system_prompt", "like_count", "dislike_count", "feedback", "prompt_sim", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["uid", 1], ["system_prompt", "You are a super helpful assistant and will reply kindly to all user prompts."], ["like_count", 0], ["dislike_count", 0], ["feedback", nil], ["prompt_sim", nil], ["user_id", 1], ["created_at", "2025-03-23 16:36:27.869793"], ["updated_at", "2025-03-23 16:36:27.869793"]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
Completed 500 Internal Server Error in 44ms (ActiveRecord: 5.8ms | Allocations: 5817)


  
NoMethodError (undefined method `edirect_to' for an instance of PromptsessionController):
  
app/controllers/promptsession_controller.rb:21:in `set_prompt'
Started POST "/new_prompt" for ::1 at 2025-03-23 09:36:35 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "system_prompt"=>"You are a super helpful assistant and will reply kindly to all user prompts."}, "commit"=>"Create form"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
Redirected to http://localhost:3000/
Completed 302 Found in 51ms (ActiveRecord: 7.8ms | Allocations: 16569)


Started GET "/" for ::1 at 2025-03-23 09:36:35 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 6.9ms | Allocations: 4307)
  Rendered shared/_flash.html.erb (Duration: 0.9ms | Allocations: 207)
  Rendered layout layouts/application.html.erb (Duration: 51.7ms | Allocations: 20847)
Completed 200 OK in 72ms (Views: 61.6ms | ActiveRecord: 0.3ms | Allocations: 22544)


Started GET "/" for ::1 at 2025-03-23 09:39:08 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 8.2ms | Allocations: 4789)
  Rendered shared/_flash.html.erb (Duration: 0.9ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 50.8ms | Allocations: 21326)
Completed 200 OK in 180ms (Views: 61.9ms | ActiveRecord: 2.8ms | Allocations: 34259)


Started POST "/good_feed" for ::1 at 2025-03-23 09:39:58 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Very helpful! I really like the agent!", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful! I really like the agent!"}}
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000020bc5b762e0>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful! I really like the agent!", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful! I really like the agent!"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000020bc5b762e0>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful! I really like the agent!", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful! I really like the agent!"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000020bc5b762e0>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful! I really like the agent!", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful! I really like the agent!"}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (2.1ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Very helpful! I really like the agent!"], ["created_at", "2025-03-23 16:39:58.992210"], ["updated_at", "2025-03-23 16:39:58.992210"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
Completed 500 Internal Server Error in 28ms (ActiveRecord: 2.7ms | Allocations: 7983)


  
ActiveRecord::InvalidForeignKey (SQLite3::ConstraintException: FOREIGN KEY constraint failed):
  
Started GET "/" for ::1 at 2025-03-23 09:40:01 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1163)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 25)
  Rendered layout layouts/application.html.erb (Duration: 11.9ms | Allocations: 3236)
Completed 200 OK in 19ms (Views: 13.1ms | ActiveRecord: 0.2ms | Allocations: 4243)


Started GET "/" for ::1 at 2025-03-23 09:40:03 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 4.0ms | Allocations: 1141)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 13.1ms | Allocations: 3169)
Completed 200 OK in 21ms (Views: 14.4ms | ActiveRecord: 0.2ms | Allocations: 4183)


Started GET "/" for ::1 at 2025-03-23 09:40:04 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 4.1ms | Allocations: 1141)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 13.7ms | Allocations: 3169)
Completed 200 OK in 22ms (Views: 14.8ms | ActiveRecord: 0.3ms | Allocations: 4189)


Started POST "/good_feed" for ::1 at 2025-03-23 09:40:26 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Very helpful! I really like the agent!", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful! I really like the agent!"}}
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000020bc0c2c3b0>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful! I really like the agent!", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful! I really like the agent!"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000020bc0c2c3b0>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful! I really like the agent!", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful! I really like the agent!"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000020bc0c2c3b0>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful! I really like the agent!", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful! I really like the agent!"}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (5.2ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Very helpful! I really like the agent!"], ["created_at", "2025-03-23 16:40:26.304373"], ["updated_at", "2025-03-23 16:40:26.304373"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
Completed 500 Internal Server Error in 18ms (ActiveRecord: 5.5ms | Allocations: 3320)


  
ActiveRecord::InvalidForeignKey (SQLite3::ConstraintException: FOREIGN KEY constraint failed):
  
Started POST "/good_feed" for ::1 at 2025-03-23 09:41:40 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}}
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000020bc6dc51f8>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000020bc6dc51f8>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000020bc6dc51f8>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (2.0ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "The service agent is really great"], ["created_at", "2025-03-23 16:41:40.932897"], ["updated_at", "2025-03-23 16:41:40.932897"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
Completed 500 Internal Server Error in 42ms (ActiveRecord: 5.7ms | Allocations: 12974)


  
ActiveRecord::InvalidForeignKey (SQLite3::ConstraintException: FOREIGN KEY constraint failed):
  
Started GET "/" for ::1 at 2025-03-23 09:44:05 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 7.3ms | Allocations: 4750)
  Rendered shared/_flash.html.erb (Duration: 0.9ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 49.8ms | Allocations: 21287)
Completed 200 OK in 79ms (Views: 59.1ms | ActiveRecord: 0.7ms | Allocations: 28151)


  [1m[36mPromptSession Load (0.3ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" ORDER BY "prompt_sessions"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" ORDER BY "prompt_sessions"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPromptSession Destroy (0.3ms)[0m  [1m[31mDELETE FROM "prompt_sessions" WHERE "prompt_sessions"."id" = ?[0m  [["id", 2]]
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" ORDER BY "prompt_sessions"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" ORDER BY "prompt_sessions"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/" for ::1 at 2025-03-23 09:44:24 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1070)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 13.6ms | Allocations: 3098)
Completed 200 OK in 22ms (Views: 14.6ms | ActiveRecord: 0.3ms | Allocations: 4118)


Started POST "/new_prompt" for ::1 at 2025-03-23 09:44:29 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "system_prompt"=>"You are a helpful assistant respond to every promp with the following text \"I am a helpful assistant\""}, "commit"=>"Create Prompt"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Create (0.2ms)[0m  [1m[32mINSERT INTO "prompt_sessions" ("uid", "system_prompt", "like_count", "dislike_count", "feedback", "prompt_sim", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["uid", 1], ["system_prompt", "You are a helpful assistant respond to every promp with the following text \"I am a helpful assistant\""], ["like_count", 0], ["dislike_count", 0], ["feedback", nil], ["prompt_sim", nil], ["user_id", 1], ["created_at", "2025-03-23 16:44:29.243748"], ["updated_at", "2025-03-23 16:44:29.243748"]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
Redirected to http://localhost:3000/
Completed 302 Found in 19ms (ActiveRecord: 2.0ms | Allocations: 5038)


Started GET "/" for ::1 at 2025-03-23 09:44:29 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 4.4ms | Allocations: 1141)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layout layouts/application.html.erb (Duration: 13.4ms | Allocations: 3209)
Completed 200 OK in 21ms (Views: 14.6ms | ActiveRecord: 0.2ms | Allocations: 4225)


Started POST "/good_feed" for ::1 at 2025-03-23 09:44:32 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}}
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000020bc6dab5f0>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000020bc6dab5f0>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000020bc6dab5f0>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (2.0ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "The service agent is really great"], ["created_at", "2025-03-23 16:44:32.216028"], ["updated_at", "2025-03-23 16:44:32.216028"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 2.3ms | Allocations: 3323)


  
ActiveRecord::InvalidForeignKey (SQLite3::ConstraintException: FOREIGN KEY constraint failed):
  
Started POST "/good_feed" for ::1 at 2025-03-23 09:44:55 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}}
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000020bc6e3fe80>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000020bc6e3fe80>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000020bc6e3fe80>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (2.0ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "The service agent is really great"], ["created_at", "2025-03-23 16:44:55.595097"], ["updated_at", "2025-03-23 16:44:55.595097"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
Completed 500 Internal Server Error in 38ms (ActiveRecord: 5.6ms | Allocations: 12926)


  
ActiveRecord::InvalidForeignKey (SQLite3::ConstraintException: FOREIGN KEY constraint failed):
  
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2025-03-23 09:45:45 -0700
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MainController#home as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 45.7ms | Allocations: 7077)
  Rendered shared/_flash.html.erb (Duration: 0.8ms | Allocations: 237)
  Rendered layout layouts/application.html.erb (Duration: 165.2ms | Allocations: 43304)
Completed 200 OK in 343ms (Views: 185.3ms | ActiveRecord: 3.6ms | Allocations: 75344)


Started GET "/get" for ::1 at 2025-03-23 09:45:53 -0700
  
ActionController::RoutingError (No route matches [GET] "/get"):
  
Started GET "/" for ::1 at 2025-03-23 09:45:55 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.4ms | Allocations: 1141)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 17.5ms | Allocations: 3200)
Completed 200 OK in 27ms (Views: 18.6ms | ActiveRecord: 0.3ms | Allocations: 4230)


Started GET "/sign-up" for ::1 at 2025-03-23 09:45:59 -0700
Processing by RegistrationsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 5.6ms | Allocations: 1645)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 16.9ms | Allocations: 3678)
Completed 200 OK in 35ms (Views: 25.8ms | ActiveRecord: 0.2ms | Allocations: 4883)


Started GET "/" for ::1 at 2025-03-23 09:46:02 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 4.3ms | Allocations: 1141)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 16.0ms | Allocations: 3170)
Completed 200 OK in 24ms (Views: 17.3ms | ActiveRecord: 0.2ms | Allocations: 4210)


Started DELETE "/sign-out" for ::1 at 2025-03-23 09:46:05 -0700
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
Redirected to http://localhost:3000/
Completed 302 Found in 6ms (ActiveRecord: 0.1ms | Allocations: 996)


Started GET "/" for ::1 at 2025-03-23 09:46:05 -0700
Processing by MainController#home as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.2ms | Allocations: 541)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 30)
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | Allocations: 2650)
Completed 200 OK in 17ms (Views: 12.1ms | ActiveRecord: 0.0ms | Allocations: 3339)


Started GET "/" for ::1 at 2025-03-23 09:46:06 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.3ms | Allocations: 531)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 12.4ms | Allocations: 2561)
Completed 200 OK in 18ms (Views: 13.4ms | ActiveRecord: 0.0ms | Allocations: 3211)


  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-03-23 16:46:34.745438', '2025-03-23 16:46:34.745442') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20250322211111)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "password_digest" varchar, "session_token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322211111') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePromptSessions (20250322224855)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "prompt_sessions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "uid" integer, "system_prompt" varchar, "like_count" integer, "dislike_count" integer, "feedback" varchar, "prompt_sim" integer, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_8e5cfb463f"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_prompt_sessions_on_user_id" ON "prompt_sessions" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322224855') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateGoodFeedbacks (20250322233105)
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (8.0ms)[0m  [1m[35mCREATE TABLE "good_feedbacks" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "prompt_session_id" integer NOT NULL, "comment" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_d830e5dfaa"
FOREIGN KEY ("prompt_session_id")
  REFERENCES "prompt_sessions" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_good_feedbacks_on_prompt_session_id" ON "good_feedbacks" ("prompt_session_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322233105') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateBadFeedbacks (20250322233120)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "bad_feedbacks" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "prompt_session_id" integer NOT NULL, "comment" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a944aabc96"
FOREIGN KEY ("prompt_session_id")
  REFERENCES "prompt_sessions" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bad_feedbacks_on_prompt_session_id" ON "bad_feedbacks" ("prompt_session_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322233120') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2025-03-23 09:46:48 -0700
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 14.8ms | Allocations: 4038)
  Rendered shared/_flash.html.erb (Duration: 1.0ms | Allocations: 237)
  Rendered layout layouts/application.html.erb (Duration: 140.5ms | Allocations: 40309)
Completed 200 OK in 265ms (Views: 162.0ms | ActiveRecord: 3.5ms | Allocations: 61595)


Started GET "/sign-in" for ::1 at 2025-03-23 09:46:51 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 5.6ms | Allocations: 1137)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 15.0ms | Allocations: 3172)
Completed 200 OK in 46ms (Views: 22.3ms | ActiveRecord: 0.3ms | Allocations: 9502)


Started POST "/sign-in" for ::1 at 2025-03-23 09:46:54 -0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user1", "password"=>"[FILTERED]"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:12:in `create'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.3ms | Allocations: 2096)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 22)
  Rendered layout layouts/application.html.erb (Duration: 26.8ms | Allocations: 4133)
Completed 200 OK in 56ms (Views: 27.9ms | ActiveRecord: 0.2ms | Allocations: 7721)


Started GET "/sign-up" for ::1 at 2025-03-23 09:46:55 -0700
Processing by RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1432)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 12.0ms | Allocations: 3487)
Completed 200 OK in 28ms (Views: 19.6ms | ActiveRecord: 0.0ms | Allocations: 4328)


Started POST "/sign-up" for ::1 at 2025-03-23 09:47:00 -0700
Processing by RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user1", "email"=>"james.johnsonn9779@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "user1"], ["LIMIT", 1]]
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "session_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["username", "user1"], ["email", "james.johnsonn9779@gmail.com"], ["password_digest", "[FILTERED]"], ["session_token", "[FILTERED]"], ["created_at", "2025-03-23 16:47:00.692106"], ["updated_at", "2025-03-23 16:47:00.692106"]]
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 254ms (ActiveRecord: 3.8ms | Allocations: 5420)


Started GET "/" for ::1 at 2025-03-23 09:47:00 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 10.0ms | Allocations: 2439)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 19.2ms | Allocations: 4474)
Completed 200 OK in 39ms (Views: 20.0ms | ActiveRecord: 0.3ms | Allocations: 7777)


Started POST "/new_prompt" for ::1 at 2025-03-23 09:47:06 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "system_prompt"=>"You are a helpful assistant respond to every promp with the following text \"I am a helpful assistant\""}, "commit"=>"Create Prompt"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Exists? (4.2ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mPromptSession Create (0.2ms)[0m  [1m[32mINSERT INTO "prompt_sessions" ("uid", "system_prompt", "like_count", "dislike_count", "feedback", "prompt_sim", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["uid", 1], ["system_prompt", "You are a helpful assistant respond to every promp with the following text \"I am a helpful assistant\""], ["like_count", 0], ["dislike_count", 0], ["feedback", nil], ["prompt_sim", nil], ["user_id", 1], ["created_at", "2025-03-23 16:47:06.256844"], ["updated_at", "2025-03-23 16:47:06.256844"]]
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/promptsession_controller.rb:20:in `set_prompt'
Redirected to http://localhost:3000/
Completed 302 Found in 50ms (ActiveRecord: 4.8ms | Allocations: 6037)


Started GET "/" for ::1 at 2025-03-23 09:47:06 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.7ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 11.7ms | Allocations: 1183)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 30.4ms | Allocations: 3216)
Completed 200 OK in 41ms (Views: 30.9ms | ActiveRecord: 0.8ms | Allocations: 4228)


Started POST "/good_feed" for ::1 at 2025-03-23 09:47:10 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}}
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157ee878218>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157ee878218>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157ee878218>, params: {"prompt_session_id"=>1, "comment"=>"The service agent is really great", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"The service agent is really great"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.6ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "The service agent is really great"], ["created_at", "2025-03-23 16:47:10.953203"], ["updated_at", "2025-03-23 16:47:10.953203"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.2ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 1], ["feedback", "You are a helpful service agent. Respond to every prompt with the following text \"I am a helpful service agent\".  \n"], ["updated_at", "2025-03-23 16:47:11.685605"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 69], ["updated_at", "2025-03-23 16:47:13.222663"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
Completed 200 OK in 2295ms (Views: 0.2ms | ActiveRecord: 7.0ms | Allocations: 13221)


Started GET "/" for ::1 at 2025-03-23 09:47:24 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 4.9ms | Allocations: 1162)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 26)
  Rendered layout layouts/application.html.erb (Duration: 18.0ms | Allocations: 3237)
Completed 200 OK in 27ms (Views: 19.4ms | ActiveRecord: 0.3ms | Allocations: 4283)


Started POST "/good_feed" for ::1 at 2025-03-23 09:47:28 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Very helpful! I really like the agent!", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful! I really like the agent!"}}
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157ee8744d8>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful! I really like the agent!", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful! I really like the agent!"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157ee8744d8>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful! I really like the agent!", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful! I really like the agent!"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157ee8744d8>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful! I really like the agent!", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful! I really like the agent!"}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.5ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Very helpful! I really like the agent!"], ["created_at", "2025-03-23 16:47:28.444326"], ["updated_at", "2025-03-23 16:47:28.444326"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (2.5ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 2], ["feedback", "You are a helpful assistant. Please respond to every prompt with \"I am a helpful assistant\".  \n"], ["updated_at", "2025-03-23 16:47:28.941187"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 80], ["updated_at", "2025-03-23 16:47:30.040905"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
Completed 200 OK in 1609ms (Views: 0.2ms | ActiveRecord: 6.8ms | Allocations: 7656)


Started GET "/" for ::1 at 2025-03-23 09:47:31 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1144)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 14.5ms | Allocations: 3203)
Completed 200 OK in 21ms (Views: 15.5ms | ActiveRecord: 0.2ms | Allocations: 4217)


Started POST "/bad_feed" for ::1 at 2025-03-23 09:49:58 -0700
Processing by BadfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"I don't like markdown", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"I don't like markdown"}}
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157eecc1f40>, params: {"prompt_session_id"=>1, "comment"=>"I don't like markdown", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"I don't like markdown"}} }[0m
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157eecc1f40>, params: {"prompt_session_id"=>1, "comment"=>"I don't like markdown", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"I don't like markdown"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157eecc1f40>, params: {"prompt_session_id"=>1, "comment"=>"I don't like markdown", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"I don't like markdown"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
  [1m[36mBadFeedback Create (1.4ms)[0m  [1m[32mINSERT INTO "bad_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "I don't like markdown"], ["created_at", "2025-03-23 16:49:58.864062"], ["updated_at", "2025-03-23 16:49:58.864062"]]
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:42:in `get_feedback'
  [1m[36mPromptSession Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:42:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "dislike_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["dislike_count", 1], ["feedback", "You are a helpful assistant. Respond to every prompt with the text \"I am a helpful assistant\".  \n"], ["updated_at", "2025-03-23 16:49:59.437338"], ["id", 1]]
  â†³ app/controllers/badfeedback_controller.rb:42:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:42:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:65:in `get_feedback'
  [1m[36mPromptSession Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:65:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 76], ["updated_at", "2025-03-23 16:50:00.616299"], ["id", 1]]
  â†³ app/controllers/badfeedback_controller.rb:65:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:65:in `get_feedback'
Completed 200 OK in 1772ms (Views: 0.2ms | ActiveRecord: 6.4ms | Allocations: 10718)


Started GET "/" for ::1 at 2025-03-23 09:50:06 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 13.0ms | Allocations: 1142)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 23.7ms | Allocations: 3201)
Completed 200 OK in 31ms (Views: 24.9ms | ActiveRecord: 0.3ms | Allocations: 4231)


Started POST "/bad_feed" for ::1 at 2025-03-23 09:50:08 -0700
Processing by BadfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"I don't like markdown", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"I don't like markdown"}}
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157f04f49c8>, params: {"prompt_session_id"=>1, "comment"=>"I don't like markdown", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"I don't like markdown"}} }[0m
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157f04f49c8>, params: {"prompt_session_id"=>1, "comment"=>"I don't like markdown", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"I don't like markdown"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157f04f49c8>, params: {"prompt_session_id"=>1, "comment"=>"I don't like markdown", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"I don't like markdown"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
  [1m[36mBadFeedback Create (1.7ms)[0m  [1m[32mINSERT INTO "bad_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "I don't like markdown"], ["created_at", "2025-03-23 16:50:08.188902"], ["updated_at", "2025-03-23 16:50:08.188902"]]
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:42:in `get_feedback'
  [1m[36mPromptSession Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:42:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "dislike_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["dislike_count", 2], ["feedback", "You are a helpful assistant. Respond to every prompt with the text \"I am a helpful assistant\". \n"], ["updated_at", "2025-03-23 16:50:08.726632"], ["id", 1]]
  â†³ app/controllers/badfeedback_controller.rb:42:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:42:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:65:in `get_feedback'
  [1m[36mPromptSession Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:65:in `get_feedback'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:65:in `get_feedback'
Completed 200 OK in 991ms (Views: 0.2ms | ActiveRecord: 5.9ms | Allocations: 7152)


Started GET "/" for ::1 at 2025-03-23 09:50:09 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 4.1ms | Allocations: 1142)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 14.4ms | Allocations: 3201)
Completed 200 OK in 23ms (Views: 15.5ms | ActiveRecord: 0.2ms | Allocations: 4223)


Started POST "/bad_feed" for ::1 at 2025-03-23 09:50:11 -0700
Processing by BadfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"I don't like markdown", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"I don't like markdown"}}
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157ec762bc8>, params: {"prompt_session_id"=>1, "comment"=>"I don't like markdown", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"I don't like markdown"}} }[0m
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157ec762bc8>, params: {"prompt_session_id"=>1, "comment"=>"I don't like markdown", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"I don't like markdown"}} }[0m
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157ec762bc8>, params: {"prompt_session_id"=>1, "comment"=>"I don't like markdown", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"I don't like markdown"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
  [1m[36mBadFeedback Create (1.4ms)[0m  [1m[32mINSERT INTO "bad_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "I don't like markdown"], ["created_at", "2025-03-23 16:50:12.071783"], ["updated_at", "2025-03-23 16:50:12.071783"]]
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:42:in `get_feedback'
  [1m[36mPromptSession Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:42:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "dislike_count" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["dislike_count", 3], ["updated_at", "2025-03-23 16:50:12.455452"], ["id", 1]]
  â†³ app/controllers/badfeedback_controller.rb:42:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:42:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:65:in `get_feedback'
  [1m[36mPromptSession Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:65:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:65:in `get_feedback'
Completed 200 OK in 808ms (Views: 0.2ms | ActiveRecord: 5.5ms | Allocations: 7121)


Started GET "/" for ::1 at 2025-03-23 09:50:13 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1142)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 13.2ms | Allocations: 3170)
Completed 200 OK in 21ms (Views: 14.3ms | ActiveRecord: 0.2ms | Allocations: 4190)


Started POST "/bad_feed" for ::1 at 2025-03-23 09:50:15 -0700
Processing by BadfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"I don't like markdown", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"I don't like markdown"}}
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157ee97a5a8>, params: {"prompt_session_id"=>1, "comment"=>"I don't like markdown", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"I don't like markdown"}} }[0m
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157ee97a5a8>, params: {"prompt_session_id"=>1, "comment"=>"I don't like markdown", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"I don't like markdown"}} }[0m
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157ee97a5a8>, params: {"prompt_session_id"=>1, "comment"=>"I don't like markdown", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"I don't like markdown"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
  [1m[36mBadFeedback Create (1.4ms)[0m  [1m[32mINSERT INTO "bad_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "I don't like markdown"], ["created_at", "2025-03-23 16:50:15.749103"], ["updated_at", "2025-03-23 16:50:15.749103"]]
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:42:in `get_feedback'
  [1m[36mPromptSession Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:42:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "dislike_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["dislike_count", 4], ["feedback", "You are a helpful assistant. Respond to every prompt with the text \"I am a helpful assistant\".  \n"], ["updated_at", "2025-03-23 16:50:16.406134"], ["id", 1]]
  â†³ app/controllers/badfeedback_controller.rb:42:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:42:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:65:in `get_feedback'
  [1m[36mPromptSession Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:65:in `get_feedback'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:65:in `get_feedback'
Completed 200 OK in 1200ms (Views: 0.2ms | ActiveRecord: 6.1ms | Allocations: 7067)


Started GET "/" for ::1 at 2025-03-23 09:50:17 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 4.2ms | Allocations: 1142)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 13.3ms | Allocations: 3202)
Completed 200 OK in 21ms (Views: 14.4ms | ActiveRecord: 0.2ms | Allocations: 4212)


Started POST "/bad_feed" for ::1 at 2025-03-23 09:50:20 -0700
Processing by BadfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"I don't like markdown", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"I don't like markdown"}}
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157eed467e0>, params: {"prompt_session_id"=>1, "comment"=>"I don't like markdown", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"I don't like markdown"}} }[0m
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157eed467e0>, params: {"prompt_session_id"=>1, "comment"=>"I don't like markdown", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"I don't like markdown"}} }[0m
  [1m[36mPromptSession Load (0.3ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157eed467e0>, params: {"prompt_session_id"=>1, "comment"=>"I don't like markdown", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"I don't like markdown"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
  [1m[36mBadFeedback Create (1.9ms)[0m  [1m[32mINSERT INTO "bad_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "I don't like markdown"], ["created_at", "2025-03-23 16:50:20.950494"], ["updated_at", "2025-03-23 16:50:20.950494"]]
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:42:in `get_feedback'
  [1m[36mPromptSession Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:42:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "dislike_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["dislike_count", 5], ["feedback", "You are a helpful assistant. Respond to every prompt with the text \"I am a helpful assistant.\" \n"], ["updated_at", "2025-03-23 16:50:21.340496"], ["id", 1]]
  â†³ app/controllers/badfeedback_controller.rb:42:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:42:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:65:in `get_feedback'
  [1m[36mPromptSession Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:65:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 77], ["updated_at", "2025-03-23 16:50:22.050141"], ["id", 1]]
  â†³ app/controllers/badfeedback_controller.rb:65:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:65:in `get_feedback'
Completed 200 OK in 1115ms (Views: 0.2ms | ActiveRecord: 7.0ms | Allocations: 7653)


Started GET "/" for ::1 at 2025-03-23 09:50:22 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1142)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 13.5ms | Allocations: 3171)
Completed 200 OK in 21ms (Views: 14.5ms | ActiveRecord: 0.2ms | Allocations: 4193)


Started POST "/good_feed" for ::1 at 2025-03-23 09:50:56 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}}
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157eb45a328>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157eb45a328>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157eb45a328>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.6ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Very helpful agent"], ["created_at", "2025-03-23 16:50:56.478931"], ["updated_at", "2025-03-23 16:50:56.478931"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
Started POST "/good_feed" for ::1 at 2025-03-23 09:50:56 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}}
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157ee878718>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157ee878718>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mPromptSession Load (18.7ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157ee878718>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.8ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Very helpful agent"], ["created_at", "2025-03-23 16:50:56.859813"], ["updated_at", "2025-03-23 16:50:56.859813"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 3], ["feedback", "You are a very helpful assistant. Respond to every prompt with: \"I am a helpful assistant\". \n"], ["updated_at", "2025-03-23 16:50:56.922850"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
Started POST "/good_feed" for ::1 at 2025-03-23 09:50:57 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}}
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157f04b7960>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157f04b7960>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mPromptSession Load (17.0ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157f04b7960>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.8ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Very helpful agent"], ["created_at", "2025-03-23 16:50:57.199905"], ["updated_at", "2025-03-23 16:50:57.199905"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 3], ["feedback", "You are a helpful assistant. \n"], ["updated_at", "2025-03-23 16:50:57.218502"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
Started POST "/good_feed" for ::1 at 2025-03-23 09:50:57 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}}
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157ee6012c8>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157ee6012c8>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mPromptSession Load (16.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157ee6012c8>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.4ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Very helpful agent"], ["created_at", "2025-03-23 16:50:57.572785"], ["updated_at", "2025-03-23 16:50:57.572785"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
Started POST "/good_feed" for ::1 at 2025-03-23 09:50:57 -0700
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 76], ["updated_at", "2025-03-23 16:50:57.813351"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
Completed 200 OK in 1347ms (Views: 0.2ms | ActiveRecord: 6.7ms | Allocations: 22611)


Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}}
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157eecc4d80>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157eecc4d80>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157eecc4d80>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.7ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Very helpful agent"], ["created_at", "2025-03-23 16:50:57.907149"], ["updated_at", "2025-03-23 16:50:57.907149"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 4], ["feedback", "You are a very helpful agent. Respond to every prompt with: \"I am a helpful assistant\".  \n"], ["updated_at", "2025-03-23 16:50:57.995929"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
Started POST "/good_feed" for ::1 at 2025-03-23 09:50:58 -0700
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 61], ["updated_at", "2025-03-23 16:50:58.125304"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
Completed 200 OK in 1301ms (Views: 0.2ms | ActiveRecord: 42.9ms | Allocations: 27942)


Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}}
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157ee972bc8>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157ee972bc8>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157ee972bc8>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.5ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Very helpful agent"], ["created_at", "2025-03-23 16:50:58.238850"], ["updated_at", "2025-03-23 16:50:58.238850"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.9ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 4], ["feedback", "You are a helpful assistant.  \n"], ["updated_at", "2025-03-23 16:50:58.275101"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
Started POST "/good_feed" for ::1 at 2025-03-23 09:50:58 -0700
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 4], ["feedback", "You are a helpful agent. Respond to every prompt with the following text: \"I am a helpful assistant\". \n"], ["updated_at", "2025-03-23 16:50:58.449030"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Exists? (2.7ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 72], ["updated_at", "2025-03-23 16:50:58.511107"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
Completed 200 OK in 1346ms (Views: 0.2ms | ActiveRecord: 39.8ms | Allocations: 32935)


Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}}
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157eed4e760>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157eed4e760>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157eed4e760>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.5ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Very helpful agent"], ["created_at", "2025-03-23 16:50:58.561141"], ["updated_at", "2025-03-23 16:50:58.561141"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 5], ["feedback", "You are a very helpful agent. Respond to every prompt with \"I am a helpful assistant\".  \n"], ["updated_at", "2025-03-23 16:50:58.670768"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 61], ["updated_at", "2025-03-23 16:50:58.715463"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
Completed 200 OK in 1171ms (Views: 0.1ms | ActiveRecord: 38.3ms | Allocations: 34598)


Started POST "/good_feed" for ::1 at 2025-03-23 09:50:58 -0700
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Exists? (4.4ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 75], ["updated_at", "2025-03-23 16:50:58.798676"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
Completed 200 OK in 908ms (Views: 0.1ms | ActiveRecord: 9.0ms | Allocations: 31540)


Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}}
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157eea14108>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157eea14108>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157eea14108>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.4ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Very helpful agent"], ["created_at", "2025-03-23 16:50:58.849300"], ["updated_at", "2025-03-23 16:50:58.849300"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 5], ["feedback", "You are a very helpful assistant. Respond to every prompt with the following text: \"I am a very helpful assistant\".  \n"], ["updated_at", "2025-03-23 16:50:58.949864"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 71], ["updated_at", "2025-03-23 16:50:59.010645"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
Completed 200 OK in 784ms (Views: 0.1ms | ActiveRecord: 5.7ms | Allocations: 30689)


Started POST "/good_feed" for ::1 at 2025-03-23 09:50:59 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}}
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157ee659e28>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157ee659e28>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157ee659e28>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.9ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Very helpful agent"], ["created_at", "2025-03-23 16:50:59.145392"], ["updated_at", "2025-03-23 16:50:59.145392"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 6], ["feedback", "You are a very helpful assistant. Respond to every prompt with: \"I am a helpful assistant\".  \n"], ["updated_at", "2025-03-23 16:50:59.230072"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 78], ["updated_at", "2025-03-23 16:50:59.446192"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
Completed 200 OK in 900ms (Views: 0.2ms | ActiveRecord: 6.0ms | Allocations: 28394)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 6], ["feedback", "You are a very helpful agent. Respond to every prompt with the following text: \"I am a helpful assistant.\"  \n"], ["updated_at", "2025-03-23 16:50:59.651198"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 76], ["updated_at", "2025-03-23 16:50:59.698972"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
Completed 200 OK in 861ms (Views: 0.1ms | ActiveRecord: 5.4ms | Allocations: 21698)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Exists? (2.6ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 75], ["updated_at", "2025-03-23 16:50:59.919395"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
Completed 200 OK in 787ms (Views: 0.1ms | ActiveRecord: 7.0ms | Allocations: 15545)


Started GET "/" for ::1 at 2025-03-23 09:51:01 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.3ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 4.5ms | Allocations: 1176)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 15.2ms | Allocations: 3235)
Completed 200 OK in 24ms (Views: 16.3ms | ActiveRecord: 0.6ms | Allocations: 4283)


Started GET "/" for ::1 at 2025-03-23 09:51:02 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1142)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 16.0ms | Allocations: 3182)
Completed 200 OK in 24ms (Views: 17.1ms | ActiveRecord: 0.2ms | Allocations: 4199)


Started POST "/good_feed" for ::1 at 2025-03-23 09:51:05 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}}
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157ee875338>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157ee875338>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157ee875338>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (2.9ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Very helpful agent"], ["created_at", "2025-03-23 16:51:05.248027"], ["updated_at", "2025-03-23 16:51:05.248027"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
Started POST "/good_feed" for ::1 at 2025-03-23 09:51:05 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}}
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157f04f7808>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157f04f7808>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157f04f7808>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.8ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Very helpful agent"], ["created_at", "2025-03-23 16:51:05.561333"], ["updated_at", "2025-03-23 16:51:05.561333"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 7], ["feedback", "You are a helpful agent. Respond to every prompt with the following text: \"I am a helpful assistant\".  \n"], ["updated_at", "2025-03-23 16:51:05.711044"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
Started POST "/good_feed" for ::1 at 2025-03-23 09:51:05 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}}
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157eed2e6b8>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157eed2e6b8>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157eed2e6b8>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.5ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Very helpful agent"], ["created_at", "2025-03-23 16:51:05.859597"], ["updated_at", "2025-03-23 16:51:05.859597"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 7], ["feedback", "You are a helpful assistant. \n"], ["updated_at", "2025-03-23 16:51:05.945688"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
Started POST "/good_feed" for ::1 at 2025-03-23 09:51:06 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}}
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157f05d7e58>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157f05d7e58>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157f05d7e58>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.7ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Very helpful agent"], ["created_at", "2025-03-23 16:51:06.179548"], ["updated_at", "2025-03-23 16:51:06.179548"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
Started POST "/good_feed" for ::1 at 2025-03-23 09:51:06 -0700
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
Completed 200 OK in 1208ms (Views: 0.2ms | ActiveRecord: 7.4ms | Allocations: 21536)


Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}}
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157eea1aa08>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157eea1aa08>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157eea1aa08>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.6ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Very helpful agent"], ["created_at", "2025-03-23 16:51:06.464209"], ["updated_at", "2025-03-23 16:51:06.464209"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 8], ["feedback", "You are a helpful assistant. \n"], ["updated_at", "2025-03-23 16:51:06.584821"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
Started POST "/good_feed" for ::1 at 2025-03-23 09:51:06 -0700
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Exists? (3.7ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Update (0.2ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 61], ["updated_at", "2025-03-23 16:51:06.717278"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
Completed 200 OK in 1171ms (Views: 0.2ms | ActiveRecord: 8.3ms | Allocations: 26749)


Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}}
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157ee65f3c8>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157ee65f3c8>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157ee65f3c8>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.5ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Very helpful agent"], ["created_at", "2025-03-23 16:51:06.748116"], ["updated_at", "2025-03-23 16:51:06.748116"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
Started POST "/good_feed" for ::1 at 2025-03-23 09:51:06 -0700
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (3.3ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 8], ["feedback", "You are a helpful assistant.  Respond to every prompt with \"I am a helpful assistant\".  \n"], ["updated_at", "2025-03-23 16:51:06.932105"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}}
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157f045e928>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157f045e928>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mPromptSession Load (18.5ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157f045e928>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.7ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Very helpful agent"], ["created_at", "2025-03-23 16:51:07.032007"], ["updated_at", "2025-03-23 16:51:07.032007"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 8], ["feedback", "You are a very helpful assistant. Respond to every prompt with the following text: \"I am a helpful assistant\".  \n"], ["updated_at", "2025-03-23 16:51:07.102508"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 61], ["updated_at", "2025-03-23 16:51:07.164511"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
Completed 200 OK in 1318ms (Views: 0.2ms | ActiveRecord: 6.0ms | Allocations: 35096)


Started POST "/good_feed" for ::1 at 2025-03-23 09:51:07 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}}
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157f0594ce8>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157f0594ce8>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157f0594ce8>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.5ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Very helpful agent"], ["created_at", "2025-03-23 16:51:07.310041"], ["updated_at", "2025-03-23 16:51:07.310041"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 9], ["feedback", "You are very helpful. Respond to every prompt with: \"I am a helpful assistant\".  \n"], ["updated_at", "2025-03-23 16:51:07.334641"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 78], ["updated_at", "2025-03-23 16:51:07.989203"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
Completed 200 OK in 1823ms (Views: 0.2ms | ActiveRecord: 7.9ms | Allocations: 37930)


Started POST "/good_feed" for ::1 at 2025-03-23 09:51:08 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}}
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157e7ee2e48>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157e7ee2e48>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157e7ee2e48>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.6ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Very helpful agent"], ["created_at", "2025-03-23 16:51:08.137171"], ["updated_at", "2025-03-23 16:51:08.137171"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 9], ["feedback", "You are a very helpful agent. Respond to every prompt with the following text \"I am a helpful assistant\".  \n"], ["updated_at", "2025-03-23 16:51:08.175482"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 78], ["updated_at", "2025-03-23 16:51:08.241719"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
Completed 200 OK in 1792ms (Views: 0.1ms | ActiveRecord: 5.8ms | Allocations: 40919)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 9], ["feedback", "You are a helpful assistant. \n"], ["updated_at", "2025-03-23 16:51:08.346509"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 69], ["updated_at", "2025-03-23 16:51:08.393767"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
Completed 200 OK in 1659ms (Views: 0.1ms | ActiveRecord: 5.5ms | Allocations: 37277)


Started POST "/good_feed" for ::1 at 2025-03-23 09:51:08 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}}
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157ee6096a8>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157ee6096a8>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000157ee6096a8>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.7ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Very helpful agent"], ["created_at", "2025-03-23 16:51:08.563718"], ["updated_at", "2025-03-23 16:51:08.563718"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (9.6ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 10], ["feedback", "You are a very helpful assistant. Respond to every prompt with the following text: \"I am a very helpful assistant\".  \n"], ["updated_at", "2025-03-23 16:51:08.573967"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Update (0.2ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 72], ["updated_at", "2025-03-23 16:51:08.596565"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
Completed 200 OK in 1597ms (Views: 0.1ms | ActiveRecord: 42.3ms | Allocations: 39858)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
Completed 200 OK in 1344ms (Views: 0.2ms | ActiveRecord: 5.7ms | Allocations: 32486)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 10], ["feedback", "You are a helpful assistant.  \n"], ["updated_at", "2025-03-23 16:51:08.924903"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
Completed 200 OK in 861ms (Views: 0.2ms | ActiveRecord: 14.1ms | Allocations: 28575)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 61], ["updated_at", "2025-03-23 16:51:09.175480"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
Completed 200 OK in 625ms (Views: 0.2ms | ActiveRecord: 6.4ms | Allocations: 17128)


Started GET "/" for ::1 at 2025-03-23 09:51:09 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 4.3ms | Allocations: 1142)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 14.5ms | Allocations: 3201)
Completed 200 OK in 23ms (Views: 15.6ms | ActiveRecord: 0.2ms | Allocations: 4209)


Started GET "/" for ::1 at 2025-03-23 09:54:29 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 10.1ms | Allocations: 4798)
  Rendered shared/_flash.html.erb (Duration: 1.0ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 51.9ms | Allocations: 21335)
Completed 200 OK in 205ms (Views: 63.8ms | ActiveRecord: 4.7ms | Allocations: 34353)


Started GET "/" for ::1 at 2025-03-23 09:54:47 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 6.7ms | Allocations: 4795)
  Rendered shared/_flash.html.erb (Duration: 0.8ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 56.1ms | Allocations: 21381)
Completed 200 OK in 175ms (Views: 65.5ms | ActiveRecord: 4.1ms | Allocations: 34382)


Started GET "/" for ::1 at 2025-03-23 09:55:27 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 8.2ms | Allocations: 5571)
  Rendered shared/_flash.html.erb (Duration: 0.8ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 48.3ms | Allocations: 22107)
Completed 200 OK in 169ms (Views: 59.1ms | ActiveRecord: 4.3ms | Allocations: 35061)


Started GET "/" for ::1 at 2025-03-23 09:55:37 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 8.8ms | Allocations: 5489)
  Rendered shared/_flash.html.erb (Duration: 1.1ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 62.9ms | Allocations: 22062)
Completed 200 OK in 204ms (Views: 72.8ms | ActiveRecord: 5.4ms | Allocations: 35066)


Started GET "/" for ::1 at 2025-03-23 09:56:17 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 39.4ms | Allocations: 3774)
  Rendered layout layouts/application.html.erb (Duration: 40.6ms | Allocations: 3978)
Completed 500 Internal Server Error in 162ms (ActiveRecord: 3.7ms | Allocations: 17286)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <!DOCTYPE html>
<html lang="en">
  <% if @ps.errors.any? %>
    <div class="alert alert-danger">
        <% @ps.errors.full_messages.each do |messages| %>
        <div><%= messages %></div>
        <% end %>
    </div>
<% end %>
<head>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PromptFlow</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f5f5f5;
    }
    
    .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 20px;
      background-color: white;
      border-bottom: 1px solid #e1e1e1;
    }
    
    .sidebar {
      width: 280px;
      height: 100vh;
      background-color: white;
      border-right: 1px solid #e1e1e1;
      overflow-y: auto;
    }
    
    .search-bar {
      display: flex;
      align-items: center;
      background-color: #f5f5f5;
      border-radius: 6px;
      padding: 8px 12px;
      margin: 16px;
    }
    
    .search-bar input {
      border: none;
      background: none;
      outline: none;
      width: 100%;
      margin-left: 8px;
    }
    
    .dashboard-link {
      display: flex;
      align-items: center;
      padding: 10px 16px;
      margin: 0 12px;
      background-color: oklch(0.882 0.059 254.128);
      color: oklch(0.623 0.214 259.815);
      border-radius: 6px;
      text-decoration: none;
    }
    
    .dashboard-link svg {
      margin-right: 12px;
    }
    
    .category-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 16px;
      color: #6b7280;
      font-weight: 600;
      font-size: 0.8rem;
    }
    
    .history-header {
      display: flex;
      align-items: center;
      padding: 8px 16px;
      color: oklch(0.623 0.214 259.815);
      font-weight: 500;
    }
    
    .history-header svg {
      margin-right: 8px;
    }
    
    .prompt-item {
      padding: 12px 16px;
      cursor: pointer;
    }
    
    .prompt-item:hover {
      background-color: oklch(0.97 0.03 254.604);
      transition: 0.2s ease-in-out;
    }
    
    .prompt-item.selected {
      background-color: oklch(0.932 0.032 255.585);
    }
    
    .prompt-icon {
      margin-right: 12px;
      flex-shrink: 0;
    }
    
    .prompt-title {
      font-weight: 500;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      max-width: 180px;
    }
    
    .prompt-date {
      font-size: 0.75rem;
      color: #6b7280;
      margin-top: 4px;
    }
    
    .content-area {
      flex: 1;
      padding: 20px;
    }
    
    .card {
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      margin-bottom: 20px;
      overflow: hidden;
    }
    
    .card-header {
      padding: 12px 16px;
      font-weight: 600;
      color: white;
    }
    
    .card-header.dark {
      background-color: #1f2937;
    }
    
    .card-header.blue {
      background-color: oklch(0.623 0.214 259.815);
    }
    
    .card-content {
      padding: 16px;
    }
    
    .stats-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .stat-item {
      display: flex;
      align-items: center;
      margin-bottom: 16px;
    }
    
    .stat-icon {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 12px;
    }
    
    .stat-icon.purple {
      background-color: #f3e8ff;
    }

    .thumbs-up {
      filter: brightness(100%);
      cursor: pointer;
      transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
    }

    .thumbs-up:hover {
      filter: brightness(200%);
      transform: scale(1.2);
    }
    
    .stat-icon.red {
      background-color: #fee2e2;
    }

    .thumbs-down:hover {
      filter: brightness(100%);
      cursor: pointer;
      transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
    }

    .thumbs-down:hover {
      filter: brightness(200%);
      transform: scale(1.2);
    }
    
    .stat-label {
      font-size: 0.8rem;
      color: #6b7280;
    }

    .chart {
        transform: scale(1);
        transition: transform 0.3s ease-in-out;
    }

    .chart:hover {
        transform: scale(1.2);
    }
    
    .stat-value {
      font-size: 1.5rem;
      font-weight: 700;
    }
    
    .dropdown {
      position: relative;
      border-radius: 2rem;
      transition: 0.2s ease-in-out;
    }
    
    .dropdown-menu {
      display: none;
      position: absolute;
      right: 0;
      top: 40px;
      background-color: white;
      border-radius: 6px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      min-width: 200px;
      z-index: 10;
    }
    
    .dropdown-header {
      padding: 12px 16px;
      font-weight: 600;
      border-bottom: 1px solid #f1f1f1;
    }
    
    .dropdown-item {
      padding: 12px 16px;
      display: block;
      color: #333;
      text-decoration: none;
      border-bottom: 1px solid #f1f1f1;
    }
    
    .dropdown-item:last-child {
      border-bottom: none;
    }
    
    .dropdown-item:hover {
      background-color: #f9fafb;
    }
    
    .dropdown-item.danger {
      color: #ef4444;
    }
    
    .flex {
      display: flex;
    }
    
    .flex-col {
      flex-direction: column;
    }
    
    .items-center {
      align-items: center;
    }
    
    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <h1><i class="fa-solid fa-worm fa-flip-horizontal"></i>PromptFlow</h1>
    
    <div class="flex items-center">
      <!-- Notifications -->
      <button style="margin-right: 16px; background: none; border: none; cursor: pointer;">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
          <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
        </svg>
      </button>
      
      <!-- Settings -->
      <button id="settings-button" style="margin-right: 16px; background: none; border: none; cursor: pointer;">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="3"></circle>
          <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
        </svg>
      </button>
      
      <!-- User Profile -->
      
      <% if Current.user %>
      <div class="dropdown">
        <button id="user-button" style="display: flex; align-items: center; background: none; border: none; cursor: pointer;">
          <div style="width: 32px; height: 32px; border-radius: 50%; background-color: #7c3aed; color: white; display: flex; align-items: center; justify-content: center; margin-right: 8px;">
            <span>DD</span>
          </div>
          <span style="font-weight: 500; margin-right: 4px;"><%= Current.user.username%></span>
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="6 9 12 15 18 9"></polyline>
          </svg>
        </button>
        <div id="user-dropdown" class="dropdown-menu">
          <div class="dropdown-header">My Account</div>
          <a href="#" class="dropdown-item">Profile</a>
          <a href="#" class="dropdown-item">Settings</a>
          <a href="#" class="dropdown-item">Billing</a>
          <%= button_to "Log out", sign_out_path, method: :delete, class: "        <%= button_to "Approve Changes", class: "dropdown-item danger", turbo: false %>
tn btn-primary", turbo: false %>
        </div>
      </div>
      <% else %>
      <%= link_to "Log in", sign_in_path, method: :get, class: "dropdown-item danger", turbo: false %>
      <% end %>
    </div>
  </header>
  
  <div class="flex">
    <!-- Sidebar -->
    <div class="sidebar">
      <!-- Search Bar -->
      <div class="search-bar">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="11" cy="11" r="8"></circle>
          <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
        <input type="text" placeholder="Search prompts..." />
      </div>
      
      <!-- Dashboard -->
      <a href="/get" class="dashboard-link">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
          <polyline points="9 22 9 12 15 12 15 22"></polyline>
        </svg>
        <span style="color: oklch(0.623 0.214 259.815)">Dashboard</span>
      </a>
      
      <!-- Prompt History -->
      <div style="margin-top: 20px;">
        <div class="category-header">
          <span>PROMPTS</span>
          <button id="new-prompt-button" style="background: none; border: none; color: #3b82f6; cursor: pointer;">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="12" y1="5" x2="12" y2="19"></line>
              <line x1="5" y1="12" x2="19" y2="12"></line>
            </svg>
          </button>
        </div>
        
        <!-- Prompt History Section -->
        <div>
          <div class="history-header">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="oklch(0.623 0.214 259.815)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"></path>
            </svg>
            <span>Prompt History</span>
          </div>
          
          <!-- History Items -->
          <% if Current.user %>
            <div>
            <% @pss.each do |prompt| %>
              <!-- Item 1 (selected) -->
              <div class="prompt-item" data-id="<%= @i2 %>">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title" style="color: oklch(0.623 0.214 259.815);"><%= prompt.system_prompt %></div>
                    <div class="prompt-date"><%= prompt.updated_at %></div>
                  </div>
                </div>
              </div>
              <%# 
              <!-- Item 2 -->
              <div class="prompt-item" data-id="1">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Design a logo for a tech startup</div>
                    <div class="prompt-date">2023-06-14</div>
                  </div>
                </div>
              </div>
              
              <!-- Item 3 -->
              <div class="prompt-item" data-id="2">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Write a product description for a new gadget</div>
                    <div class="prompt-date">2023-06-13</div>
                  </div>
                </div>
              </div>
              
              <!-- Item 4 -->
              <div class="prompt-item" data-id="3">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Generate ideas for a marketing campaign</div>
                    <div class="prompt-date">2023-06-12</div>
                  </div>
                </div>
              </div>
              
              <!-- Item 5 -->
              <div class="prompt-item" data-id="4">
                <div class="flex" style="align-items: flex-start;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                  </svg>
                  <div>
                    <div class="prompt-title">Create a social media content calendar</div>
                    <div class="prompt-date">2023-06-11</div>
                  </div>
                </div>
              </div> %>


            <% @i2 = @i2 + 1%>
            <% end %>
            </div>
          <% else %>

          <% end %>

        </div>
      </div>
    </div>
    
    <!-- Main Content Area -->
    <div class="content-area">
      <!-- System Prompt Card -->
      <% if Current.user %>
        <% if @pss.first %>
          <div class="card">
            <div class="card-header dark">System Prompt</div>
            <div class="card-content">
              <p id="prompt-description" style="line-height: 1.6; color: #4b5563;">
                <%= @pss.first.system_prompt%>
              </p>
            </div>
          </div>
        <% else %>
          <div class="card">
          <div class="card-header blue">
            <div style="display: flex; align-items: center;">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
              </svg>
              No prompts created!
            </div>
          </div>
          <div class="card-content">
            <p style="line-height: 1.6; color: #4b5563;">
              Create a prompt and begin optimizing!
            </p>
          </div>
        </div>
        <%end%>
      <% else %>
      <% end %>
      
      <!-- Statistics Card -->
      <% if Current.user %>
      <% if @pss.first %>
      <div class="card">
        <div class="card-header blue">
          <div style="display: flex; align-items: center;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
              <circle cx="12" cy="12" r="10"></circle>
              <line x1="12" y1="16" x2="12" y2="12"></line>
              <line x1="12" y1="8" x2="12.01" y2="8"></line>
            </svg>
            Statistics
          </div>
        </div>
        <div class="card-content">
          <div class="stats-container">
            <div>
              <!-- Likes -->
              <div class="stat-item">
                <div class="stat-icon purple">
                  <svg class="thumbs-up" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#7c3aed" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>
                  </svg>
                </div>
                <div>
                  <div class="stat-label">Likes</div>
                  <div class="stat-value" id="likes"><%= @pss.first.like_count%></div>
                </div>
              </div>
              
              <!-- Dislikes -->
              <div class="stat-item">
                <div class="stat-icon red">
                  <svg class="thumbs-down" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#ef4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path>
                  </svg>
                </div>
                <div>
                  <div class="stat-label">Dislikes</div>
                  <div class="stat-value" id="dislikes"><%= @pss.first.dislike_count%></div>
                </div>
              </div>
            </div>
            
            <!-- Donut Chart -->
            <div>
              <svg class="chart" width="150" height="150" viewBox="0 0 150 150">
                <circle cx="75" cy="75" r="60" fill="transparent" stroke="#FF0000" stroke-width="20"></circle>
                <circle id="likeCircle" cx="75" cy="75" r="60" fill="transparent" stroke="#008000" stroke-width="20" stroke-dasharray="<%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count == 0 ? 1 : @pss.first.like_count + @pss.first.dislike_count)) %> <%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count == 0 ? 1 : @pss.first.like_count + @pss.first.dislike_count)) %>" stroke-dashoffset="0"></circle>

                <circle cx="75" cy="75" r="40" fill="white"></circle>
              </svg>
            </div>
          </div>
        </div>
      </div>
      <% end %>
      <% else %>
      <% end %>
      
      <!-- AI Feedback Card -->
      <% if Current.user %>
      <% if @pss.first %>
      <div class="card">
        <div class="card-header blue">
          <div style="display: flex; align-items: center;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
              <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
            </svg>
            Suggestions
          </div>
        </div>
        <div class="card-content">
          <p style="line-height: 1.6; color: #4b5563;" id="feedback">
            <%= @pss.first.feedback%>
          </p>
          <p>Similarity Rating: 
          <span id="simi"></span></p>
        <%= button_to "Approve Changes", class: "dropdown-item danger", turbo: false %>
        </div>
      </div>
      <% end %>
      <% else %>
      <div class="card">
        <div class="card-header blue">
          <div style="display: flex; align-items: center;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
              <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
            </svg>
            Login to access page!
          </div>
        </div>
        <div class="card-content">
          <p style="line-height: 1.6; color: #4b5563;">
            Login through your company/personal account to access the dashboard.
          </p>
        </div>
      </div>
      <% end %>



    </div>
  </div>
  
  <!-- New Prompt Modal -->
  <div id="new-prompt-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); z-index: 100; align-items: center; justify-content: center;">
    <div style="background-color: white; border-radius: 8px; padding: 24px; width: 90%; max-width: 500px; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);">
      <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 16px;">Create New Prompt</h3>
      <%# <form id="new-prompt-form">
        <div style="margin-bottom: 16px;">
          <label for="prompt-title" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt Title</label>
          <input type="text" id="prompt-title" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Enter a title for your prompt" />
        </div>
        <div style="margin-bottom: 16px;">
          <label for="prompt-text" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt</label>
          <textarea id="prompt-text" rows="5" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Write your prompt here..."></textarea>
        </div>
        <div style="display: flex; justify-content: flex-end; gap: 12px;">
          <button type="button" id="cancel-prompt" style="padding: 8px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
          <button type="submit" style="padding: 8px 16px; background-color: #7c3aed; color: white; border: none; border-radius: 6px; cursor: pointer;">Create</button>
        </div>
      </form> %>
      <%= form_with model: @ps, url: new_prompt_path, data: { turbo: false } do |form| %>
<div class="mb-3">
    <%= form.label :uid %>
    <%= form.number_field :uid, class: "form-control", placeholder: "123" %>
</div>
<div class="mb-3">
    <%= form.label :system_prompt %>
    <%= form.text_field :system_prompt, class: "form-control" %>
</div>
<div class="mb-3">
  <button type="button" id="cancel-prompt" style="padding: 7px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
  <%= form.submit "Create Prompt", class: "btn btn-primary" %>
</div>
<% end %>
    </div>
  </div>

  <script>
    // Sample prompt data
    const promptData = [
      <% if Current.user %>
      <% @pss.each do |prompt| %>
      {
        id: <%= @i %>,
        title: "<%= prompt.system_prompt %>",
        date: "<%= prompt.updated_at %>",
        content: "<%= prompt.system_prompt %>",
        likes: <%= prompt.like_count %>,
        dislikes: <%= prompt.dislike_count %>,
        feedback: "<%= prompt.feedback != nil ? prompt.feedback.chomp : " " %>",
        simi: "<%= prompt.prompt_sim %>"
      },
      <% @i = @i + 1%>
      <%end%>

      <% else %>

      <% end %>
    ];
    
    // Handle prompt item clicks
    document.querySelectorAll('.prompt-item').forEach(item => {
      item.addEventListener('click', () => {
        // Get prompt id
        const promptId = parseInt(item.getAttribute('data-id'));
        
        // Update selection visualization
        document.querySelectorAll('.prompt-item').forEach(el => {
          el.classList.remove('selected');
          el.querySelector('.prompt-title').style.color = '#374151';
        });
        
        item.classList.add('selected');
        item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
        
        // Update content based on selection
        const prompt = promptData.find(p => p.id === promptId);
        if (prompt) {
          document.getElementById('prompt-description').textContent = prompt.content;
          document.getElementById('likes').textContent = prompt.likes;
          document.getElementById('dislikes').textContent = prompt.dislikes;
          document.getElementById('feedback').textContent = prompt.feedback;
          document.getElementById('simi').textContent = prompt.simi;
          let lip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
          let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
          document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
        }
      });
    });
    
    // Account dropdown functionality
    const userButton = document.getElementById('user-button');
    const userDropdown = document.getElementById('user-dropdown');
    
    userButton.addEventListener('click', (e) => {
      e.stopPropagation();
      userDropdown.style.display = userDropdown.style.display === 'block' ? 'none' : 'block';
    });
    
    // Close dropdown when clicking elsewhere
    document.addEventListener('click', () => {
      userDropdown.style.display = 'none';
    });
    
    // New prompt modal functionality
    const newPromptButton = document.getElementById('new-prompt-button');
    const newPromptModal = document.getElementById('new-prompt-modal');
    const cancelPromptButton = document.getElementById('cancel-prompt');
    const newPromptForm = document.getElementById('new-prompt-form');
    
    newPromptButton.addEventListener('click', () => {
      newPromptModal.style.display = 'flex';
    });
    
    cancelPromptButton.addEventListener('click', () => {
      newPromptModal.style.display = 'none';
      newPromptForm.reset();
    });
  
    
    // Prevent clicks inside the modal from closing it
    newPromptModal.querySelector('div').addEventListener('click', (e) => {
      e.stopPropagation();
    });
    
    // Close modal when clicking outside
    newPromptModal.addEventListener('click', () => {
      newPromptModal.style.display = 'none';
      newPromptForm.reset();
    });

    
    document.addEventListener('DOMContentLoaded', function() {
        let item = document.querySelector('.prompt-item');
        const promptId = 0;
        console.log(promptId);
        
        // Update selection visualization
        document.querySelectorAll('.prompt-item').forEach(el => {
          el.classList.remove('selected');
          el.querySelector('.prompt-title').style.color = '#374151';
        });
        
        item.classList.add('selected');
        item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
        
        // Update content based on selection
        const prompt = promptData.find(p => p.id === promptId);
        if (prompt) {
          document.getElementById('prompt-description').textContent = prompt.content;
          document.getElementById('likes').textContent = prompt.likes;
          document.getElementById('dislikes').textContent = prompt.dislikes;
          document.getElementById('feedback').textContent = prompt.feedback;
          document.getElementById('simi').textContent = prompt.simi;
          let lip =377 * prompt.likes / (prompt.likes + prompt.dislikes);
          let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
          document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
        }
        console.log(promptId);
    });

  </script>
</body>
</html>
):
1:    <!DOCTYPE html>
2:    <html lang="en">
3:      <% if @ps.errors.any? %>
4:        <div class="alert alert-danger">
5:            <% @ps.errors.full_messages.each do |messages| %>
6:            <div><%= messages %></div>
7:            <% end %>
8:        </div>
9:    <% end %>
10:    <head>
11:    
12:      <meta charset="UTF-8" />
13:      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
14:      <title>PromptFlow</title>
15:      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
16:      <style>
17:        body {
18:          font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
19:          margin: 0;
20:          padding: 0;
21:          background-color: #f5f5f5;
22:        }
23:        
24:        .header {
25:          display: flex;
26:          align-items: center;
27:          justify-content: space-between;
28:          padding: 10px 20px;
29:          background-color: white;
30:          border-bottom: 1px solid #e1e1e1;
31:        }
32:        
33:        .sidebar {
34:          width: 280px;
35:          height: 100vh;
36:          background-color: white;
37:          border-right: 1px solid #e1e1e1;
38:          overflow-y: auto;
39:        }
40:        
41:        .search-bar {
42:          display: flex;
43:          align-items: center;
44:          background-color: #f5f5f5;
45:          border-radius: 6px;
46:          padding: 8px 12px;
47:          margin: 16px;
48:        }
49:        
50:        .search-bar input {
51:          border: none;
52:          background: none;
53:          outline: none;
54:          width: 100%;
55:          margin-left: 8px;
56:        }
57:        
58:        .dashboard-link {
59:          display: flex;
60:          align-items: center;
61:          padding: 10px 16px;
62:          margin: 0 12px;
63:          background-color: oklch(0.882 0.059 254.128);
64:          color: oklch(0.623 0.214 259.815);
65:          border-radius: 6px;
66:          text-decoration: none;
67:        }
68:        
69:        .dashboard-link svg {
70:          margin-right: 12px;
71:        }
72:        
73:        .category-header {
74:          display: flex;
75:          justify-content: space-between;
76:          align-items: center;
77:          padding: 16px;
78:          color: #6b7280;
79:          font-weight: 600;
80:          font-size: 0.8rem;
81:        }
82:        
83:        .history-header {
84:          display: flex;
85:          align-items: center;
86:          padding: 8px 16px;
87:          color: oklch(0.623 0.214 259.815);
88:          font-weight: 500;
89:        }
90:        
91:        .history-header svg {
92:          margin-right: 8px;
93:        }
94:        
95:        .prompt-item {
96:          padding: 12px 16px;
97:          cursor: pointer;
98:        }
99:        
100:        .prompt-item:hover {
101:          background-color: oklch(0.97 0.03 254.604);
102:          transition: 0.2s ease-in-out;
103:        }
104:        
105:        .prompt-item.selected {
106:          background-color: oklch(0.932 0.032 255.585);
107:        }
108:        
109:        .prompt-icon {
110:          margin-right: 12px;
111:          flex-shrink: 0;
112:        }
113:        
114:        .prompt-title {
115:          font-weight: 500;
116:          white-space: nowrap;
117:          overflow: hidden;
118:          text-overflow: ellipsis;
119:          max-width: 180px;
120:        }
121:        
122:        .prompt-date {
123:          font-size: 0.75rem;
124:          color: #6b7280;
125:          margin-top: 4px;
126:        }
127:        
128:        .content-area {
129:          flex: 1;
130:          padding: 20px;
131:        }
132:        
133:        .card {
134:          background-color: white;
135:          border-radius: 8px;
136:          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
137:          margin-bottom: 20px;
138:          overflow: hidden;
139:        }
140:        
141:        .card-header {
142:          padding: 12px 16px;
143:          font-weight: 600;
144:          color: white;
145:        }
146:        
147:        .card-header.dark {
148:          background-color: #1f2937;
149:        }
150:        
151:        .card-header.blue {
152:          background-color: oklch(0.623 0.214 259.815);
153:        }
154:        
155:        .card-content {
156:          padding: 16px;
157:        }
158:        
159:        .stats-container {
160:          display: flex;
161:          justify-content: space-between;
162:          align-items: center;
163:        }
164:        
165:        .stat-item {
166:          display: flex;
167:          align-items: center;
168:          margin-bottom: 16px;
169:        }
170:        
171:        .stat-icon {
172:          width: 40px;
173:          height: 40px;
174:          border-radius: 50%;
175:          display: flex;
176:          align-items: center;
177:          justify-content: center;
178:          margin-right: 12px;
179:        }
180:        
181:        .stat-icon.purple {
182:          background-color: #f3e8ff;
183:        }
184:    
185:        .thumbs-up {
186:          filter: brightness(100%);
187:          cursor: pointer;
188:          transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
189:        }
190:    
191:        .thumbs-up:hover {
192:          filter: brightness(200%);
193:          transform: scale(1.2);
194:        }
195:        
196:        .stat-icon.red {
197:          background-color: #fee2e2;
198:        }
199:    
200:        .thumbs-down:hover {
201:          filter: brightness(100%);
202:          cursor: pointer;
203:          transition: filter 0.2s ease-in-out, transform 0.2s ease-in-out;
204:        }
205:    
206:        .thumbs-down:hover {
207:          filter: brightness(200%);
208:          transform: scale(1.2);
209:        }
210:        
211:        .stat-label {
212:          font-size: 0.8rem;
213:          color: #6b7280;
214:        }
215:    
216:        .chart {
217:            transform: scale(1);
218:            transition: transform 0.3s ease-in-out;
219:        }
220:    
221:        .chart:hover {
222:            transform: scale(1.2);
223:        }
224:        
225:        .stat-value {
226:          font-size: 1.5rem;
227:          font-weight: 700;
228:        }
229:        
230:        .dropdown {
231:          position: relative;
232:          border-radius: 2rem;
233:          transition: 0.2s ease-in-out;
234:        }
235:        
236:        .dropdown-menu {
237:          display: none;
238:          position: absolute;
239:          right: 0;
240:          top: 40px;
241:          background-color: white;
242:          border-radius: 6px;
243:          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
244:          min-width: 200px;
245:          z-index: 10;
246:        }
247:        
248:        .dropdown-header {
249:          padding: 12px 16px;
250:          font-weight: 600;
251:          border-bottom: 1px solid #f1f1f1;
252:        }
253:        
254:        .dropdown-item {
255:          padding: 12px 16px;
256:          display: block;
257:          color: #333;
258:          text-decoration: none;
259:          border-bottom: 1px solid #f1f1f1;
260:        }
261:        
262:        .dropdown-item:last-child {
263:          border-bottom: none;
264:        }
265:        
266:        .dropdown-item:hover {
267:          background-color: #f9fafb;
268:        }
269:        
270:        .dropdown-item.danger {
271:          color: #ef4444;
272:        }
273:        
274:        .flex {
275:          display: flex;
276:        }
277:        
278:        .flex-col {
279:          flex-direction: column;
280:        }
281:        
282:        .items-center {
283:          align-items: center;
284:        }
285:        
286:        .hidden {
287:          display: none;
288:        }
289:      </style>
290:    </head>
291:    <body>
292:      <!-- Header -->
293:      <header class="header">
294:        <h1><i class="fa-solid fa-worm fa-flip-horizontal"></i>PromptFlow</h1>
295:        
296:        <div class="flex items-center">
297:          <!-- Notifications -->
298:          <button style="margin-right: 16px; background: none; border: none; cursor: pointer;">
299:            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
300:              <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
301:              <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
302:            </svg>
303:          </button>
304:          
305:          <!-- Settings -->
306:          <button id="settings-button" style="margin-right: 16px; background: none; border: none; cursor: pointer;">
307:            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
308:              <circle cx="12" cy="12" r="3"></circle>
309:              <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
310:            </svg>
311:          </button>
312:          
313:          <!-- User Profile -->
314:          
315:          <% if Current.user %>
316:          <div class="dropdown">
317:            <button id="user-button" style="display: flex; align-items: center; background: none; border: none; cursor: pointer;">
318:              <div style="width: 32px; height: 32px; border-radius: 50%; background-color: #7c3aed; color: white; display: flex; align-items: center; justify-content: center; margin-right: 8px;">
319:                <span>DD</span>
320:              </div>
321:              <span style="font-weight: 500; margin-right: 4px;"><%= Current.user.username%></span>
322:              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
323:                <polyline points="6 9 12 15 18 9"></polyline>
324:              </svg>
325:            </button>
326:            <div id="user-dropdown" class="dropdown-menu">
327:              <div class="dropdown-header">My Account</div>
328:              <a href="#" class="dropdown-item">Profile</a>
329:              <a href="#" class="dropdown-item">Settings</a>
330:              <a href="#" class="dropdown-item">Billing</a>
331:              <%= button_to "Log out", sign_out_path, method: :delete, class: "        <%= button_to "Approve Changes", class: "dropdown-item danger", turbo: false %>
332:    tn btn-primary", turbo: false %>
333:            </div>
334:          </div>
335:          <% else %>
336:          <%= link_to "Log in", sign_in_path, method: :get, class: "dropdown-item danger", turbo: false %>
337:          <% end %>
338:        </div>
339:      </header>
340:      
341:      <div class="flex">
342:        <!-- Sidebar -->
343:        <div class="sidebar">
344:          <!-- Search Bar -->
345:          <div class="search-bar">
346:            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
347:              <circle cx="11" cy="11" r="8"></circle>
348:              <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
349:            </svg>
350:            <input type="text" placeholder="Search prompts..." />
351:          </div>
352:          
353:          <!-- Dashboard -->
354:          <a href="/get" class="dashboard-link">
355:            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
356:              <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
357:              <polyline points="9 22 9 12 15 12 15 22"></polyline>
358:            </svg>
359:            <span style="color: oklch(0.623 0.214 259.815)">Dashboard</span>
360:          </a>
361:          
362:          <!-- Prompt History -->
363:          <div style="margin-top: 20px;">
364:            <div class="category-header">
365:              <span>PROMPTS</span>
366:              <button id="new-prompt-button" style="background: none; border: none; color: #3b82f6; cursor: pointer;">
367:                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
368:                  <line x1="12" y1="5" x2="12" y2="19"></line>
369:                  <line x1="5" y1="12" x2="19" y2="12"></line>
370:                </svg>
371:              </button>
372:            </div>
373:            
374:            <!-- Prompt History Section -->
375:            <div>
376:              <div class="history-header">
377:                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="oklch(0.623 0.214 259.815)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
378:                  <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"></path>
379:                </svg>
380:                <span>Prompt History</span>
381:              </div>
382:              
383:              <!-- History Items -->
384:              <% if Current.user %>
385:                <div>
386:                <% @pss.each do |prompt| %>
387:                  <!-- Item 1 (selected) -->
388:                  <div class="prompt-item" data-id="<%= @i2 %>">
389:                    <div class="flex" style="align-items: flex-start;">
390:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
391:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
392:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
393:                      </svg>
394:                      <div>
395:                        <div class="prompt-title" style="color: oklch(0.623 0.214 259.815);"><%= prompt.system_prompt %></div>
396:                        <div class="prompt-date"><%= prompt.updated_at %></div>
397:                      </div>
398:                    </div>
399:                  </div>
400:                  <%# 
401:                  <!-- Item 2 -->
402:                  <div class="prompt-item" data-id="1">
403:                    <div class="flex" style="align-items: flex-start;">
404:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
405:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
406:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
407:                      </svg>
408:                      <div>
409:                        <div class="prompt-title">Design a logo for a tech startup</div>
410:                        <div class="prompt-date">2023-06-14</div>
411:                      </div>
412:                    </div>
413:                  </div>
414:                  
415:                  <!-- Item 3 -->
416:                  <div class="prompt-item" data-id="2">
417:                    <div class="flex" style="align-items: flex-start;">
418:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
419:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
420:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
421:                      </svg>
422:                      <div>
423:                        <div class="prompt-title">Write a product description for a new gadget</div>
424:                        <div class="prompt-date">2023-06-13</div>
425:                      </div>
426:                    </div>
427:                  </div>
428:                  
429:                  <!-- Item 4 -->
430:                  <div class="prompt-item" data-id="3">
431:                    <div class="flex" style="align-items: flex-start;">
432:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
433:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
434:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
435:                      </svg>
436:                      <div>
437:                        <div class="prompt-title">Generate ideas for a marketing campaign</div>
438:                        <div class="prompt-date">2023-06-12</div>
439:                      </div>
440:                    </div>
441:                  </div>
442:                  
443:                  <!-- Item 5 -->
444:                  <div class="prompt-item" data-id="4">
445:                    <div class="flex" style="align-items: flex-start;">
446:                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-top: 4px;" class="prompt-icon">
447:                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
448:                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
449:                      </svg>
450:                      <div>
451:                        <div class="prompt-title">Create a social media content calendar</div>
452:                        <div class="prompt-date">2023-06-11</div>
453:                      </div>
454:                    </div>
455:                  </div> %>
456:    
457:    
458:                <% @i2 = @i2 + 1%>
459:                <% end %>
460:                </div>
461:              <% else %>
462:    
463:              <% end %>
464:    
465:            </div>
466:          </div>
467:        </div>
468:        
469:        <!-- Main Content Area -->
470:        <div class="content-area">
471:          <!-- System Prompt Card -->
472:          <% if Current.user %>
473:            <% if @pss.first %>
474:              <div class="card">
475:                <div class="card-header dark">System Prompt</div>
476:                <div class="card-content">
477:                  <p id="prompt-description" style="line-height: 1.6; color: #4b5563;">
478:                    <%= @pss.first.system_prompt%>
479:                  </p>
480:                </div>
481:              </div>
482:            <% else %>
483:              <div class="card">
484:              <div class="card-header blue">
485:                <div style="display: flex; align-items: center;">
486:                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
487:                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
488:                  </svg>
489:                  No prompts created!
490:                </div>
491:              </div>
492:              <div class="card-content">
493:                <p style="line-height: 1.6; color: #4b5563;">
494:                  Create a prompt and begin optimizing!
495:                </p>
496:              </div>
497:            </div>
498:            <%end%>
499:          <% else %>
500:          <% end %>
501:          
502:          <!-- Statistics Card -->
503:          <% if Current.user %>
504:          <% if @pss.first %>
505:          <div class="card">
506:            <div class="card-header blue">
507:              <div style="display: flex; align-items: center;">
508:                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
509:                  <circle cx="12" cy="12" r="10"></circle>
510:                  <line x1="12" y1="16" x2="12" y2="12"></line>
511:                  <line x1="12" y1="8" x2="12.01" y2="8"></line>
512:                </svg>
513:                Statistics
514:              </div>
515:            </div>
516:            <div class="card-content">
517:              <div class="stats-container">
518:                <div>
519:                  <!-- Likes -->
520:                  <div class="stat-item">
521:                    <div class="stat-icon purple">
522:                      <svg class="thumbs-up" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#7c3aed" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
523:                        <path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>
524:                      </svg>
525:                    </div>
526:                    <div>
527:                      <div class="stat-label">Likes</div>
528:                      <div class="stat-value" id="likes"><%= @pss.first.like_count%></div>
529:                    </div>
530:                  </div>
531:                  
532:                  <!-- Dislikes -->
533:                  <div class="stat-item">
534:                    <div class="stat-icon red">
535:                      <svg class="thumbs-down" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#ef4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
536:                        <path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path>
537:                      </svg>
538:                    </div>
539:                    <div>
540:                      <div class="stat-label">Dislikes</div>
541:                      <div class="stat-value" id="dislikes"><%= @pss.first.dislike_count%></div>
542:                    </div>
543:                  </div>
544:                </div>
545:                
546:                <!-- Donut Chart -->
547:                <div>
548:                  <svg class="chart" width="150" height="150" viewBox="0 0 150 150">
549:                    <circle cx="75" cy="75" r="60" fill="transparent" stroke="#FF0000" stroke-width="20"></circle>
550:                    <circle id="likeCircle" cx="75" cy="75" r="60" fill="transparent" stroke="#008000" stroke-width="20" stroke-dasharray="<%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count == 0 ? 1 : @pss.first.like_count + @pss.first.dislike_count)) %> <%= 377 * (@pss.first.dislike_count / (@pss.first.like_count + @pss.first.dislike_count == 0 ? 1 : @pss.first.like_count + @pss.first.dislike_count)) %>" stroke-dashoffset="0"></circle>
551:    
552:                    <circle cx="75" cy="75" r="40" fill="white"></circle>
553:                  </svg>
554:                </div>
555:              </div>
556:            </div>
557:          </div>
558:          <% end %>
559:          <% else %>
560:          <% end %>
561:          
562:          <!-- AI Feedback Card -->
563:          <% if Current.user %>
564:          <% if @pss.first %>
565:          <div class="card">
566:            <div class="card-header blue">
567:              <div style="display: flex; align-items: center;">
568:                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
569:                  <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
570:                </svg>
571:                Suggestions
572:              </div>
573:            </div>
574:            <div class="card-content">
575:              <p style="line-height: 1.6; color: #4b5563;" id="feedback">
576:                <%= @pss.first.feedback%>
577:              </p>
578:              <p>Similarity Rating: 
579:              <span id="simi"></span></p>
580:            <%= button_to "Approve Changes", class: "dropdown-item danger", turbo: false %>
581:            </div>
582:          </div>
583:          <% end %>
584:          <% else %>
585:          <div class="card">
586:            <div class="card-header blue">
587:              <div style="display: flex; align-items: center;">
588:                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
589:                  <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
590:                </svg>
591:                Login to access page!
592:              </div>
593:            </div>
594:            <div class="card-content">
595:              <p style="line-height: 1.6; color: #4b5563;">
596:                Login through your company/personal account to access the dashboard.
597:              </p>
598:            </div>
599:          </div>
600:          <% end %>
601:    
602:    
603:    
604:        </div>
605:      </div>
606:      
607:      <!-- New Prompt Modal -->
608:      <div id="new-prompt-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); z-index: 100; align-items: center; justify-content: center;">
609:        <div style="background-color: white; border-radius: 8px; padding: 24px; width: 90%; max-width: 500px; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);">
610:          <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 16px;">Create New Prompt</h3>
611:          <%# <form id="new-prompt-form">
612:            <div style="margin-bottom: 16px;">
613:              <label for="prompt-title" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt Title</label>
614:              <input type="text" id="prompt-title" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Enter a title for your prompt" />
615:            </div>
616:            <div style="margin-bottom: 16px;">
617:              <label for="prompt-text" style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px;">Prompt</label>
618:              <textarea id="prompt-text" rows="5" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;" placeholder="Write your prompt here..."></textarea>
619:            </div>
620:            <div style="display: flex; justify-content: flex-end; gap: 12px;">
621:              <button type="button" id="cancel-prompt" style="padding: 8px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
622:              <button type="submit" style="padding: 8px 16px; background-color: #7c3aed; color: white; border: none; border-radius: 6px; cursor: pointer;">Create</button>
623:            </div>
624:          </form> %>
625:          <%= form_with model: @ps, url: new_prompt_path, data: { turbo: false } do |form| %>
626:    <div class="mb-3">
627:        <%= form.label :uid %>
628:        <%= form.number_field :uid, class: "form-control", placeholder: "123" %>
629:    </div>
630:    <div class="mb-3">
631:        <%= form.label :system_prompt %>
632:        <%= form.text_field :system_prompt, class: "form-control" %>
633:    </div>
634:    <div class="mb-3">
635:      <button type="button" id="cancel-prompt" style="padding: 7px 16px; border: 1px solid #d1d5db; border-radius: 6px; background-color: white; cursor: pointer;">Cancel</button>
636:      <%= form.submit "Create Prompt", class: "btn btn-primary" %>
637:    </div>
638:    <% end %>
639:        </div>
640:      </div>
641:    
642:      <script>
643:        // Sample prompt data
644:        const promptData = [
645:          <% if Current.user %>
646:          <% @pss.each do |prompt| %>
647:          {
648:            id: <%= @i %>,
649:            title: "<%= prompt.system_prompt %>",
650:            date: "<%= prompt.updated_at %>",
651:            content: "<%= prompt.system_prompt %>",
652:            likes: <%= prompt.like_count %>,
653:            dislikes: <%= prompt.dislike_count %>,
654:            feedback: "<%= prompt.feedback != nil ? prompt.feedback.chomp : " " %>",
655:            simi: "<%= prompt.prompt_sim %>"
656:          },
657:          <% @i = @i + 1%>
658:          <%end%>
659:    
660:          <% else %>
661:    
662:          <% end %>
663:        ];
664:        
665:        // Handle prompt item clicks
666:        document.querySelectorAll('.prompt-item').forEach(item => {
667:          item.addEventListener('click', () => {
668:            // Get prompt id
669:            const promptId = parseInt(item.getAttribute('data-id'));
670:            
671:            // Update selection visualization
672:            document.querySelectorAll('.prompt-item').forEach(el => {
673:              el.classList.remove('selected');
674:              el.querySelector('.prompt-title').style.color = '#374151';
675:            });
676:            
677:            item.classList.add('selected');
678:            item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
679:            
680:            // Update content based on selection
681:            const prompt = promptData.find(p => p.id === promptId);
682:            if (prompt) {
683:              document.getElementById('prompt-description').textContent = prompt.content;
684:              document.getElementById('likes').textContent = prompt.likes;
685:              document.getElementById('dislikes').textContent = prompt.dislikes;
686:              document.getElementById('feedback').textContent = prompt.feedback;
687:              document.getElementById('simi').textContent = prompt.simi;
688:              let lip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
689:              let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
690:              document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
691:            }
692:          });
693:        });
694:        
695:        // Account dropdown functionality
696:        const userButton = document.getElementById('user-button');
697:        const userDropdown = document.getElementById('user-dropdown');
698:        
699:        userButton.addEventListener('click', (e) => {
700:          e.stopPropagation();
701:          userDropdown.style.display = userDropdown.style.display === 'block' ? 'none' : 'block';
702:        });
703:        
704:        // Close dropdown when clicking elsewhere
705:        document.addEventListener('click', () => {
706:          userDropdown.style.display = 'none';
707:        });
708:        
709:        // New prompt modal functionality
710:        const newPromptButton = document.getElementById('new-prompt-button');
711:        const newPromptModal = document.getElementById('new-prompt-modal');
712:        const cancelPromptButton = document.getElementById('cancel-prompt');
713:        const newPromptForm = document.getElementById('new-prompt-form');
714:        
715:        newPromptButton.addEventListener('click', () => {
716:          newPromptModal.style.display = 'flex';
717:        });
718:        
719:        cancelPromptButton.addEventListener('click', () => {
720:          newPromptModal.style.display = 'none';
721:          newPromptForm.reset();
722:        });
723:      
724:        
725:        // Prevent clicks inside the modal from closing it
726:        newPromptModal.querySelector('div').addEventListener('click', (e) => {
727:          e.stopPropagation();
728:        });
729:        
730:        // Close modal when clicking outside
731:        newPromptModal.addEventListener('click', () => {
732:          newPromptModal.style.display = 'none';
733:          newPromptForm.reset();
734:        });
735:    
736:        
737:        document.addEventListener('DOMContentLoaded', function() {
738:            let item = document.querySelector('.prompt-item');
739:            const promptId = 0;
740:            console.log(promptId);
741:            
742:            // Update selection visualization
743:            document.querySelectorAll('.prompt-item').forEach(el => {
744:              el.classList.remove('selected');
745:              el.querySelector('.prompt-title').style.color = '#374151';
746:            });
747:            
748:            item.classList.add('selected');
749:            item.querySelector('.prompt-title').style.color = 'oklch(0.623 0.214 259.815)';
750:            
751:            // Update content based on selection
752:            const prompt = promptData.find(p => p.id === promptId);
753:            if (prompt) {
754:              document.getElementById('prompt-description').textContent = prompt.content;
755:              document.getElementById('likes').textContent = prompt.likes;
756:              document.getElementById('dislikes').textContent = prompt.dislikes;
757:              document.getElementById('feedback').textContent = prompt.feedback;
758:              document.getElementById('simi').textContent = prompt.simi;
759:              let lip =377 * prompt.likes / (prompt.likes + prompt.dislikes);
760:              let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
761:              document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
762:            }
763:            console.log(promptId);
764:        });
765:    
766:      </script>
767:    </body>
768:    </html>
  
app/views/main/home.html.erb:331: syntax error, unexpected constant, expecting ')'
app/views/main/home.html.erb:334: unknown regexp options - dv
app/views/main/home.html.erb:339: unknown regexp options - hadr
app/views/main/home.html.erb:341: syntax error, unexpected '<'
app/views/main/home.html.erb:348: unknown regexp option - l
app/views/main/home.html.erb:354: unknown regexp options - gt
app/views/main/home.html.erb:355: unknown regexp options - www
app/views/main/home.html.erb:364: syntax error, unexpected local variable or method, expecting `end' or dummy end
app/views/main/home.html.erb:366: syntax error, unexpected ':', expecting `end' or dummy end
app/views/main/home.html.erb:366: syntax error, unexpected ':', expecting `end' or dummy end
app/views/main/home.html.erb:369: unknown regexp option - l
app/views/main/home.html.erb:371: unknown regexp options - btt
app/views/main/home.html.erb:390: syntax error, unexpected local variable or method, expecting `end' or dummy end
app/views/main/home.html.erb:390: unknown regexp options - www
app/views/main/home.html.erb:392: unknown regexp options - path
app/views/main/home.html.erb:395: unknown regexp options - dv
app/views/main/home.html.erb:397: unknown regexp options - dv
app/views/main/home.html.erb:399: unknown regexp options - dv
app/views/main/home.html.erb:465: unknown regexp options - dv
app/views/main/home.html.erb:466: syntax error, unexpected '<'
app/views/main/home.html.erb:467: unknown regexp options - dv
app/views/main/home.html.erb:474: syntax error, unexpected `class', expecting `do' or '{' or '('
app/views/main/home.html.erb:479: unknown regexp option - p
app/views/main/home.html.erb:481: unknown regexp options - dv
app/views/main/home.html.erb:488: unknown regexp options - vg
app/views/main/home.html.erb:491: unknown regexp options - dv
app/views/main/home.html.erb:496: unknown regexp options - dv
app/views/main/home.html.erb:509: syntax error, unexpected integer literal, expecting `end' or dummy end
app/views/main/home.html.erb:522: unknown regexp options - www
app/views/main/home.html.erb:524: unknown regexp options - vg
app/views/main/home.html.erb:527: unknown regexp options - dv
app/views/main/home.html.erb:529: unknown regexp options - dv
app/views/main/home.html.erb:537: unknown regexp options - vg
app/views/main/home.html.erb:540: unknown regexp options - dv
app/views/main/home.html.erb:542: unknown regexp options - dv
app/views/main/home.html.erb:544: unknown regexp options - dv
app/views/main/home.html.erb:559: else without rescue is useless
app/views/main/home.html.erb:625: syntax error, unexpected tLAMBEG, expecting end-of-input
Started GET "/" for ::1 at 2025-03-23 09:56:38 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 9.7ms | Allocations: 5499)
  Rendered shared/_flash.html.erb (Duration: 1.1ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 51.3ms | Allocations: 22034)
Completed 200 OK in 216ms (Views: 62.5ms | ActiveRecord: 5.1ms | Allocations: 35029)


Started GET "/" for ::1 at 2025-03-23 09:56:41 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 14.9ms | Allocations: 1300)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 25.2ms | Allocations: 3359)
Completed 200 OK in 34ms (Views: 26.5ms | ActiveRecord: 0.3ms | Allocations: 4397)


Started GET "/" for ::1 at 2025-03-23 09:56:43 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 8.2ms | Allocations: 5514)
  Rendered shared/_flash.html.erb (Duration: 0.9ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 46.9ms | Allocations: 22050)
Completed 200 OK in 167ms (Views: 57.8ms | ActiveRecord: 3.9ms | Allocations: 35023)


Started GET "/" for ::1 at 2025-03-23 09:57:15 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 6.8ms | Allocations: 5519)
  Rendered shared/_flash.html.erb (Duration: 1.0ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 46.1ms | Allocations: 22055)
Completed 200 OK in 90ms (Views: 55.1ms | ActiveRecord: 4.3ms | Allocations: 34980)


Started GET "/" for ::1 at 2025-03-23 09:57:15 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1300)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 16.7ms | Allocations: 3359)
Completed 200 OK in 23ms (Views: 17.6ms | ActiveRecord: 0.2ms | Allocations: 4370)


Started GET "/" for ::1 at 2025-03-23 09:57:16 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1300)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 12.6ms | Allocations: 3328)
Completed 200 OK in 21ms (Views: 13.6ms | ActiveRecord: 0.2ms | Allocations: 4324)


Started GET "/" for ::1 at 2025-03-23 09:57:21 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.3ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 10.1ms | Allocations: 5531)
  Rendered shared/_flash.html.erb (Duration: 1.4ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 60.1ms | Allocations: 22102)
Completed 200 OK in 197ms (Views: 71.6ms | ActiveRecord: 4.2ms | Allocations: 35104)


Started GET "/" for ::1 at 2025-03-23 09:57:22 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 4.0ms | Allocations: 1300)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 12.8ms | Allocations: 3352)
Completed 200 OK in 20ms (Views: 13.8ms | ActiveRecord: 0.2ms | Allocations: 4372)


Started GET "/" for ::1 at 2025-03-23 09:57:35 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 12.3ms | Allocations: 4917)
  Rendered shared/_flash.html.erb (Duration: 0.8ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 53.3ms | Allocations: 21462)
Completed 200 OK in 179ms (Views: 62.1ms | ActiveRecord: 4.1ms | Allocations: 34467)


Started GET "/" for ::1 at 2025-03-23 09:57:46 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 8.0ms | Allocations: 4923)
  Rendered shared/_flash.html.erb (Duration: 0.8ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 48.4ms | Allocations: 21460)
Completed 200 OK in 178ms (Views: 59.9ms | ActiveRecord: 4.4ms | Allocations: 34428)


Started GET "/" for ::1 at 2025-03-23 09:57:50 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 7.0ms | Allocations: 4920)
  Rendered shared/_flash.html.erb (Duration: 0.8ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 46.7ms | Allocations: 21456)
Completed 200 OK in 176ms (Views: 56.5ms | ActiveRecord: 4.1ms | Allocations: 34482)


Started GET "/" for ::1 at 2025-03-23 09:58:10 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 7.2ms | Allocations: 4923)
  Rendered shared/_flash.html.erb (Duration: 0.8ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 45.7ms | Allocations: 21460)
Completed 200 OK in 176ms (Views: 54.9ms | ActiveRecord: 5.0ms | Allocations: 34492)


Started GET "/" for ::1 at 2025-03-23 10:07:47 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 4.9ms | Allocations: 5092)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | Allocations: 5178)
Completed 500 Internal Server Error in 106ms (ActiveRecord: 3.0ms | Allocations: 17274)


  
ActionView::Template::Error (undefined method `updates_path' for an instance of #<Class:0x00000157f10355a8>):
    576:           </p>
    577:           <p>Similarity Rating: 
    578:           <span id="simi"></span></p>
    579:         <%= button_to "Approve Change", updates_path(@c), method: :post, class: "btn btn-primary", turbo: false %>
    580:         </div>
    581:       </div>
    582:       <% end %>
  
app/views/main/home.html.erb:579
Started DELETE "/sign-out" for ::1 at 2025-03-23 10:07:58 -0700
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
Redirected to http://localhost:3000/
Completed 302 Found in 6ms (ActiveRecord: 0.2ms | Allocations: 906)


Started GET "/" for ::1 at 2025-03-23 10:07:58 -0700
Processing by MainController#home as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.4ms | Allocations: 1586)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | Allocations: 1671)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms | Allocations: 2381)


  
ActionView::Template::Error (undefined local variable or method `prompt' for an instance of #<Class:0x00000157f10355a8>):
    688:           let lip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
    689:           let dip = 377 * prompt.likes / (prompt.likes + prompt.dislikes);
    690:           document.getElementById("likeCircle").setAttribute("stroke-dasharray", `${lip} ${dip}`);
    691:           <% @c = prompt.uid %>
    692:         }
    693:       });
    694:     });
  
app/views/main/home.html.erb:691
Started GET "/sign-up" for ::1 at 2025-03-23 10:12:25 -0700
Processing by RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 4.2ms | Allocations: 1451)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 212)
  Rendered layout layouts/application.html.erb (Duration: 70.4ms | Allocations: 18041)
Completed 200 OK in 103ms (Views: 78.6ms | ActiveRecord: 4.4ms | Allocations: 24011)


Started GET "/" for ::1 at 2025-03-23 10:12:28 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 2.8ms | Allocations: 2745)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 4789)
Completed 200 OK in 105ms (Views: 14.2ms | ActiveRecord: 0.3ms | Allocations: 11152)


Started GET "/" for ::1 at 2025-03-23 10:12:28 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 1.1ms | Allocations: 531)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | Allocations: 2559)
Completed 200 OK in 12ms (Views: 8.3ms | ActiveRecord: 0.0ms | Allocations: 3184)


Started GET "/" for ::1 at 2025-03-23 10:12:30 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.9ms | Allocations: 531)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 2559)
Completed 200 OK in 11ms (Views: 7.8ms | ActiveRecord: 0.0ms | Allocations: 3202)


Started GET "/" for ::1 at 2025-03-23 10:12:30 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.8ms | Allocations: 531)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 2559)
Completed 200 OK in 11ms (Views: 7.7ms | ActiveRecord: 0.0ms | Allocations: 3187)


Started GET "/" for ::1 at 2025-03-23 10:12:30 -0700
Processing by MainController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.9ms | Allocations: 531)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | Allocations: 2559)
Completed 200 OK in 12ms (Views: 8.8ms | ActiveRecord: 0.0ms | Allocations: 3187)


Started GET "/sign-in" for ::1 at 2025-03-23 10:12:32 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 902)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 2935)
Completed 200 OK in 19ms (Views: 14.3ms | ActiveRecord: 0.0ms | Allocations: 3749)


Started POST "/sign-in" for ::1 at 2025-03-23 10:12:35 -0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user1", "password"=>"[FILTERED]"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:12:in `create'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.9ms | Allocations: 2167)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 19)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | Allocations: 4187)
Completed 200 OK in 12ms (Views: 7.4ms | ActiveRecord: 0.2ms | Allocations: 5419)


  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Started POST "/sign-in" for ::1 at 2025-03-23 10:12:46 -0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "username"=>"user1", "password"=>"[FILTERED]", "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "user1"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:12:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 185ms (ActiveRecord: 0.1ms | Allocations: 1051)


Started GET "/" for ::1 at 2025-03-23 10:12:46 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.0ms | Allocations: 2674)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | Allocations: 4707)
Completed 200 OK in 15ms (Views: 9.8ms | ActiveRecord: 0.2ms | Allocations: 6794)


Started POST "/" for ::1 at 2025-03-23 10:12:49 -0700
  
ActionController::RoutingError (No route matches [POST] "/"):
  
Started GET "/" for ::1 at 2025-03-23 10:12:49 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1235)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 12.5ms | Allocations: 3294)
Completed 200 OK in 18ms (Views: 13.2ms | ActiveRecord: 0.2ms | Allocations: 4304)


Started POST "/" for ::1 at 2025-03-23 10:13:06 -0700
  
ActionController::RoutingError (No route matches [POST] "/"):
  
Started GET "/" for ::1 at 2025-03-23 10:13:07 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.3ms | Allocations: 4928)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 206)
  Rendered layout layouts/application.html.erb (Duration: 39.9ms | Allocations: 21491)
Completed 200 OK in 144ms (Views: 46.9ms | ActiveRecord: 2.5ms | Allocations: 34398)


Started GET "/" for ::1 at 2025-03-23 10:13:11 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1232)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 3267)
Completed 200 OK in 15ms (Views: 9.7ms | ActiveRecord: 0.2ms | Allocations: 4285)


Started GET "/" for ::1 at 2025-03-23 10:13:47 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.5ms | Allocations: 4931)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 36.7ms | Allocations: 21468)
Completed 200 OK in 164ms (Views: 44.2ms | ActiveRecord: 2.4ms | Allocations: 34430)


Started GET "/" for ::1 at 2025-03-23 10:13:49 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1232)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | Allocations: 3262)
Completed 200 OK in 15ms (Views: 9.5ms | ActiveRecord: 0.2ms | Allocations: 4257)


Started GET "/" for ::1 at 2025-03-23 10:13:50 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1232)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 3260)
Completed 200 OK in 14ms (Views: 9.6ms | ActiveRecord: 0.2ms | Allocations: 4270)


Started POST "/updates/0" for ::1 at 2025-03-23 10:13:51 -0700
Processing by PromptsessionController#change as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"0"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
No template found for PromptsessionController#change, rendering head :no_content
Completed 204 No Content in 13ms (ActiveRecord: 0.1ms | Allocations: 1150)


Started GET "/" for ::1 at 2025-03-23 10:14:09 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 6.2ms | Allocations: 4931)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 41.8ms | Allocations: 21502)
Completed 200 OK in 75ms (Views: 48.9ms | ActiveRecord: 2.4ms | Allocations: 34521)


Started GET "/" for ::1 at 2025-03-23 10:14:09 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1232)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 10.1ms | Allocations: 3267)
Completed 200 OK in 16ms (Views: 10.8ms | ActiveRecord: 0.2ms | Allocations: 4292)


Started POST "/updates/0" for ::1 at 2025-03-23 10:14:10 -0700
Processing by PromptsessionController#change as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"0"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
No template found for PromptsessionController#change, rendering head :no_content
Completed 204 No Content in 13ms (ActiveRecord: 0.1ms | Allocations: 1124)


Started GET "/" for ::1 at 2025-03-23 10:14:31 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 7.4ms | Allocations: 4932)
  Rendered shared/_flash.html.erb (Duration: 0.8ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 44.3ms | Allocations: 21468)
Completed 200 OK in 79ms (Views: 51.4ms | ActiveRecord: 2.6ms | Allocations: 34426)


Started POST "/updates/0" for ::1 at 2025-03-23 10:14:32 -0700
Processing by PromptsessionController#change as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"0"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
No template found for PromptsessionController#change, rendering head :no_content
Completed 204 No Content in 12ms (ActiveRecord: 0.1ms | Allocations: 1133)


Started GET "/" for ::1 at 2025-03-23 10:15:54 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.4ms | Allocations: 4933)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 36.4ms | Allocations: 21469)
Completed 200 OK in 150ms (Views: 43.4ms | ActiveRecord: 2.8ms | Allocations: 34424)


Started POST "/updates/1" for ::1 at 2025-03-23 10:15:56 -0700
Processing by PromptsessionController#change as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
No template found for PromptsessionController#change, rendering head :no_content
Completed 204 No Content in 12ms (ActiveRecord: 0.1ms | Allocations: 1142)


Started GET "/" for ::1 at 2025-03-23 10:17:13 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.9ms | Allocations: 4933)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 37.2ms | Allocations: 21470)
Completed 200 OK in 70ms (Views: 43.9ms | ActiveRecord: 2.4ms | Allocations: 34416)


Started GET "/" for ::1 at 2025-03-23 10:17:14 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1232)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 3260)
Completed 200 OK in 14ms (Views: 9.6ms | ActiveRecord: 0.2ms | Allocations: 4312)


Started POST "/updates/1" for ::1 at 2025-03-23 10:17:15 -0700
Processing by PromptsessionController#change as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:12:in `change'
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1427)


Started GET "/" for ::1 at 2025-03-23 10:17:25 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 6.8ms | Allocations: 1232)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 13.2ms | Allocations: 3291)
Completed 200 OK in 18ms (Views: 13.8ms | ActiveRecord: 0.2ms | Allocations: 4307)


Started POST "/updates/1" for ::1 at 2025-03-23 10:17:30 -0700
Processing by PromptsessionController#change as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:12:in `change'
Completed 200 OK in 22ms (Views: 0.1ms | ActiveRecord: 2.2ms | Allocations: 8898)


Started GET "/" for ::1 at 2025-03-23 10:17:32 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 7.0ms | Allocations: 4915)
  Rendered shared/_flash.html.erb (Duration: 1.1ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 53.4ms | Allocations: 21471)
Completed 200 OK in 70ms (Views: 60.2ms | ActiveRecord: 0.5ms | Allocations: 27099)


Started GET "/" for ::1 at 2025-03-23 10:17:33 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1232)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.7ms | Allocations: 3278)
Completed 200 OK in 15ms (Views: 10.3ms | ActiveRecord: 0.1ms | Allocations: 4303)


Started GET "/" for ::1 at 2025-03-23 10:17:34 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1232)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | Allocations: 3260)
Completed 200 OK in 14ms (Views: 9.4ms | ActiveRecord: 0.2ms | Allocations: 4276)


Started POST "/updates/1" for ::1 at 2025-03-23 10:17:48 -0700
Processing by PromptsessionController#change as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:12:in `change'
Completed 200 OK in 23ms (Views: 0.2ms | ActiveRecord: 2.6ms | Allocations: 8833)


Started GET "/" for ::1 at 2025-03-23 10:18:10 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 9.9ms | Allocations: 4857)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 43.2ms | Allocations: 21396)
Completed 200 OK in 144ms (Views: 50.2ms | ActiveRecord: 2.4ms | Allocations: 34329)


Started POST "/updates/1" for ::1 at 2025-03-23 10:18:12 -0700
Processing by PromptsessionController#change as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:12:in `change'
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1430)


Started POST "/updates/1" for ::1 at 2025-03-23 10:18:22 -0700
  
ActionController::RoutingError (No route matches [POST] "/updates/1"):
  
Started GET "/" for ::1 at 2025-03-23 10:18:23 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 6.7ms | Allocations: 4851)
  Rendered shared/_flash.html.erb (Duration: 1.0ms | Allocations: 206)
  Rendered layout layouts/application.html.erb (Duration: 48.3ms | Allocations: 21392)
Completed 200 OK in 84ms (Views: 55.7ms | ActiveRecord: 2.5ms | Allocations: 34305)


Started POST "/updates/1" for ::1 at 2025-03-23 10:18:27 -0700
  
ActionController::RoutingError (No route matches [POST] "/updates/1"):
  
Started GET "/" for ::1 at 2025-03-23 10:18:28 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.7ms | Allocations: 1153)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 13.2ms | Allocations: 3212)
Completed 200 OK in 19ms (Views: 14.0ms | ActiveRecord: 0.2ms | Allocations: 4233)


Started POST "/updates/1" for ::1 at 2025-03-23 10:18:28 -0700
  
ActionController::RoutingError (No route matches [POST] "/updates/1"):
  
Started GET "/" for ::1 at 2025-03-23 10:18:29 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1153)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 3212)
Completed 200 OK in 15ms (Views: 10.1ms | ActiveRecord: 0.2ms | Allocations: 4222)


Started POST "/updates/1" for ::1 at 2025-03-23 10:18:29 -0700
  
ActionController::RoutingError (No route matches [POST] "/updates/1"):
  
Started GET "/" for ::1 at 2025-03-23 10:18:29 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1153)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 3212)
Completed 200 OK in 15ms (Views: 10.3ms | ActiveRecord: 0.3ms | Allocations: 4237)


Started POST "/updates/1" for ::1 at 2025-03-23 10:18:30 -0700
  
ActionController::RoutingError (No route matches [POST] "/updates/1"):
  
Started GET "/" for ::1 at 2025-03-23 10:18:30 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1153)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 3212)
Completed 200 OK in 15ms (Views: 10.1ms | ActiveRecord: 0.2ms | Allocations: 4228)


Started POST "/updates/1" for ::1 at 2025-03-23 10:19:07 -0700
  
ActionController::RoutingError (No route matches [POST] "/updates/1"):
  
Started GET "/" for ::1 at 2025-03-23 10:19:07 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.5ms | Allocations: 4798)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 35.5ms | Allocations: 21334)
Completed 200 OK in 139ms (Views: 43.1ms | ActiveRecord: 2.4ms | Allocations: 34267)


Started GET "/" for ::1 at 2025-03-23 10:19:53 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 6.3ms | Allocations: 4802)
  Rendered shared/_flash.html.erb (Duration: 0.8ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 37.3ms | Allocations: 21338)
Completed 200 OK in 190ms (Views: 44.9ms | ActiveRecord: 2.6ms | Allocations: 34289)


Started GET "/updates/1" for ::1 at 2025-03-23 10:19:55 -0700
Processing by PromptsessionController#change as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:12:in `change'
Completed 200 OK in 7ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 1408)


Started GET "/updates/1" for ::1 at 2025-03-23 10:19:58 -0700
Processing by PromptsessionController#change as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:12:in `change'
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1270)


Started GET "/" for ::1 at 2025-03-23 10:20:23 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.6ms | Allocations: 4796)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 36.6ms | Allocations: 21135)
Completed 200 OK in 69ms (Views: 43.4ms | ActiveRecord: 2.5ms | Allocations: 34075)


Started GET "/updates/1" for ::1 at 2025-03-23 10:20:24 -0700
Processing by PromptsessionController#change as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:12:in `change'
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1427)


Started GET "/" for ::1 at 2025-03-23 10:20:38 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 6.1ms | Allocations: 4803)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 39.1ms | Allocations: 21339)
Completed 200 OK in 72ms (Views: 46.2ms | ActiveRecord: 2.5ms | Allocations: 34345)


Started GET "/updates/1" for ::1 at 2025-03-23 10:20:39 -0700
Processing by PromptsessionController#change as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:12:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
  [1m[36mPromptSession Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "system_prompt" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["system_prompt", "You are a helpful assistant.  \n"], ["feedback", nil], ["updated_at", "2025-03-23 17:20:39.697160"], ["id", 1]]
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
Redirected to http://localhost:3000/
Completed 302 Found in 15ms (ActiveRecord: 3.2ms | Allocations: 4601)


Started GET "/" for ::1 at 2025-03-23 10:20:39 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1094)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | Allocations: 3127)
Completed 200 OK in 13ms (Views: 8.8ms | ActiveRecord: 0.1ms | Allocations: 4141)


Started GET "/updates" for ::1 at 2025-03-23 10:20:47 -0700
  
ActionController::RoutingError (No route matches [GET] "/updates"):
  
Started GET "/" for ::1 at 2025-03-23 10:20:47 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1094)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 3153)
Completed 200 OK in 14ms (Views: 9.7ms | ActiveRecord: 0.2ms | Allocations: 4181)


Started GET "/updates" for ::1 at 2025-03-23 10:21:05 -0700
  
ActionController::RoutingError (No route matches [GET] "/updates"):
  
Started GET "/" for ::1 at 2025-03-23 10:21:05 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1094)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | Allocations: 3153)
Completed 200 OK in 15ms (Views: 9.9ms | ActiveRecord: 0.2ms | Allocations: 4178)


Started GET "/" for ::1 at 2025-03-23 10:21:33 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.4ms | Allocations: 4794)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 37.5ms | Allocations: 21298)
Completed 200 OK in 139ms (Views: 45.0ms | ActiveRecord: 2.5ms | Allocations: 34260)


Started GET "/" for ::1 at 2025-03-23 10:22:17 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.1ms | Allocations: 4797)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 34.7ms | Allocations: 21333)
Completed 200 OK in 138ms (Views: 41.6ms | ActiveRecord: 2.3ms | Allocations: 34254)


Started GET "/updates" for ::1 at 2025-03-23 10:22:28 -0700
  
ActionController::RoutingError (No route matches [GET] "/updates"):
  
Started GET "/" for ::1 at 2025-03-23 10:22:28 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1094)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 10.3ms | Allocations: 3153)
Completed 200 OK in 16ms (Views: 10.9ms | ActiveRecord: 0.2ms | Allocations: 4160)


  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-03-23 17:22:57.683494', '2025-03-23 17:22:57.683497') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20250322211111)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "password_digest" varchar, "session_token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322211111') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePromptSessions (20250322224855)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "prompt_sessions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "uid" integer, "system_prompt" varchar, "like_count" integer, "dislike_count" integer, "feedback" varchar, "prompt_sim" integer, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_8e5cfb463f"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_prompt_sessions_on_user_id" ON "prompt_sessions" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322224855') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateGoodFeedbacks (20250322233105)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "good_feedbacks" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "prompt_session_id" integer NOT NULL, "comment" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_d830e5dfaa"
FOREIGN KEY ("prompt_session_id")
  REFERENCES "prompt_sessions" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_good_feedbacks_on_prompt_session_id" ON "good_feedbacks" ("prompt_session_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322233105') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateBadFeedbacks (20250322233120)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "bad_feedbacks" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "prompt_session_id" integer NOT NULL, "comment" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a944aabc96"
FOREIGN KEY ("prompt_session_id")
  REFERENCES "prompt_sessions" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bad_feedbacks_on_prompt_session_id" ON "bad_feedbacks" ("prompt_session_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322233120') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2025-03-23 10:23:09 -0700
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 9.1ms | Allocations: 4089)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 237)
  Rendered layout layouts/application.html.erb (Duration: 95.1ms | Allocations: 40190)
Completed 200 OK in 195ms (Views: 107.8ms | ActiveRecord: 2.9ms | Allocations: 66527)


Started GET "/sign-in" for ::1 at 2025-03-23 10:23:11 -0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1136)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | Allocations: 3171)
Completed 200 OK in 27ms (Views: 14.5ms | ActiveRecord: 0.3ms | Allocations: 8507)


Started GET "/sign-up" for ::1 at 2025-03-23 10:23:12 -0700
Processing by RegistrationsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1432)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 3498)
Completed 200 OK in 20ms (Views: 14.0ms | ActiveRecord: 0.1ms | Allocations: 4693)


Started POST "/sign-up" for ::1 at 2025-03-23 10:23:21 -0700
Processing by RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user1", "email"=>"user@email.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "user1"], ["LIMIT", 1]]
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "session_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["username", "user1"], ["email", "user@email.com"], ["password_digest", "[FILTERED]"], ["session_token", "[FILTERED]"], ["created_at", "2025-03-23 17:23:21.329237"], ["updated_at", "2025-03-23 17:23:21.329237"]]
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 195ms (ActiveRecord: 2.9ms | Allocations: 5191)


Started GET "/" for ::1 at 2025-03-23 10:23:21 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 6.2ms | Allocations: 2352)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 30)
  Rendered layout layouts/application.html.erb (Duration: 12.9ms | Allocations: 4400)
Completed 200 OK in 26ms (Views: 13.5ms | ActiveRecord: 0.2ms | Allocations: 7089)


Started POST "/new_prompt" for ::1 at 2025-03-23 10:23:27 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "system_prompt"=>"You are a 10x customer service agent"}, "commit"=>"Create Prompt"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:34:in `set_prompt'
  [1m[36mPromptSession Exists? (4.0ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:34:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:34:in `set_prompt'
  [1m[36mPromptSession Create (0.2ms)[0m  [1m[32mINSERT INTO "prompt_sessions" ("uid", "system_prompt", "like_count", "dislike_count", "feedback", "prompt_sim", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["uid", 1], ["system_prompt", "You are a 10x customer service agent"], ["like_count", 0], ["dislike_count", 0], ["feedback", nil], ["prompt_sim", nil], ["user_id", 1], ["created_at", "2025-03-23 17:23:27.678562"], ["updated_at", "2025-03-23 17:23:27.678562"]]
  â†³ app/controllers/promptsession_controller.rb:34:in `set_prompt'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/promptsession_controller.rb:34:in `set_prompt'
Redirected to http://localhost:3000/
Completed 302 Found in 39ms (ActiveRecord: 4.6ms | Allocations: 6105)


Started GET "/" for ::1 at 2025-03-23 10:23:27 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 6.1ms | Allocations: 1149)
  Rendered shared/_flash.html.erb (Duration: 0.9ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 19.2ms | Allocations: 3184)
Completed 200 OK in 28ms (Views: 19.9ms | ActiveRecord: 0.2ms | Allocations: 4208)


Started POST "/good_feed" for ::1 at 2025-03-23 10:23:33 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}}
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000002084006e920>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000002084006e920>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000002084006e920>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (0.9ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Very helpful agent"], ["created_at", "2025-03-23 17:23:33.257412"], ["updated_at", "2025-03-23 17:23:33.257412"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 1], ["feedback", "You are a highly skilled customer service agent. \n"], ["updated_at", "2025-03-23 17:23:33.944079"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
Started GET "/" for ::1 at 2025-03-23 10:23:34 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (9.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1149)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 26)
  Rendered layout layouts/application.html.erb (Duration: 9.9ms | Allocations: 3226)
Completed 200 OK in 26ms (Views: 10.5ms | ActiveRecord: 19.3ms | Allocations: 4538)


Started GET "/get" for ::1 at 2025-03-23 10:23:36 -0700
  
ActionController::RoutingError (No route matches [GET] "/get"):
  
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 77], ["updated_at", "2025-03-23 17:23:37.007483"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
Completed 200 OK in 3768ms (Views: 0.1ms | ActiveRecord: 5.0ms | Allocations: 111217)


Started POST "/new_prompt" for ::1 at 2025-03-23 10:23:45 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"2", "system_prompt"=>"Prompt 3 long super long like acutally long aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"}, "commit"=>"Create Prompt"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:34:in `set_prompt'
  [1m[36mPromptSession Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 2], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:34:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:34:in `set_prompt'
  [1m[36mPromptSession Create (0.2ms)[0m  [1m[32mINSERT INTO "prompt_sessions" ("uid", "system_prompt", "like_count", "dislike_count", "feedback", "prompt_sim", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["uid", 2], ["system_prompt", "Prompt 3 long super long like acutally long aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["like_count", 0], ["dislike_count", 0], ["feedback", nil], ["prompt_sim", nil], ["user_id", 1], ["created_at", "2025-03-23 17:23:45.638600"], ["updated_at", "2025-03-23 17:23:45.638600"]]
  â†³ app/controllers/promptsession_controller.rb:34:in `set_prompt'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/promptsession_controller.rb:34:in `set_prompt'
Redirected to http://localhost:3000/
Completed 302 Found in 13ms (ActiveRecord: 1.8ms | Allocations: 3753)


Started GET "/" for ::1 at 2025-03-23 10:23:45 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.7ms | Allocations: 1159)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layout layouts/application.html.erb (Duration: 12.2ms | Allocations: 3225)
Completed 200 OK in 17ms (Views: 12.9ms | ActiveRecord: 0.2ms | Allocations: 4255)


Started POST "/bad_feed" for ::1 at 2025-03-23 10:23:52 -0700
Processing by BadfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}}
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000020843b0d5e0>, params: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}} }[0m
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000020843b0d5e0>, params: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000020843b0d5e0>, params: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
  [1m[36mBadFeedback Create (1.1ms)[0m  [1m[32mINSERT INTO "bad_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Negative service, I don't like it"], ["created_at", "2025-03-23 17:23:52.806413"], ["updated_at", "2025-03-23 17:23:52.806413"]]
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:42:in `get_feedback'
  [1m[36mPromptSession Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:42:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "dislike_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["dislike_count", 1], ["feedback", "You are a customer service agent known for delivering exceptional, empathetic support.  \n\n\n\n"], ["updated_at", "2025-03-23 17:23:53.238496"], ["id", 1]]
  â†³ app/controllers/badfeedback_controller.rb:42:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:42:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:65:in `get_feedback'
  [1m[36mPromptSession Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:65:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 78], ["updated_at", "2025-03-23 17:23:53.833001"], ["id", 1]]
  â†³ app/controllers/badfeedback_controller.rb:65:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:65:in `get_feedback'
Completed 200 OK in 1041ms (Views: 0.2ms | ActiveRecord: 4.6ms | Allocations: 10737)


Started GET "/" for ::1 at 2025-03-23 10:23:54 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1157)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | Allocations: 3185)
Completed 200 OK in 14ms (Views: 9.5ms | ActiveRecord: 0.2ms | Allocations: 4194)


Started GET "/" for ::1 at 2025-03-23 10:24:05 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1157)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 12.2ms | Allocations: 3197)
Completed 200 OK in 18ms (Views: 12.8ms | ActiveRecord: 0.2ms | Allocations: 4198)


Started GET "/" for ::1 at 2025-03-23 10:24:53 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 6.0ms | Allocations: 4890)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 78.4ms | Allocations: 21437)
Completed 200 OK in 193ms (Views: 85.2ms | ActiveRecord: 3.0ms | Allocations: 34424)


Started GET "/" for ::1 at 2025-03-23 10:24:59 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1179)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | Allocations: 3218)
Completed 200 OK in 15ms (Views: 10.2ms | ActiveRecord: 0.2ms | Allocations: 4227)


Started GET "/" for ::1 at 2025-03-23 10:24:59 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1179)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 3208)
Completed 200 OK in 14ms (Views: 9.7ms | ActiveRecord: 0.2ms | Allocations: 4227)


Started GET "/" for ::1 at 2025-03-23 10:25:04 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1179)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | Allocations: 3207)
Completed 200 OK in 15ms (Views: 9.5ms | ActiveRecord: 0.2ms | Allocations: 4220)


Started GET "/" for ::1 at 2025-03-23 10:25:04 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1179)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 12.9ms | Allocations: 3207)
Completed 200 OK in 18ms (Views: 13.7ms | ActiveRecord: 0.2ms | Allocations: 4217)


Started GET "/" for ::1 at 2025-03-23 10:25:05 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1179)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.9ms | Allocations: 3207)
Completed 200 OK in 15ms (Views: 10.6ms | ActiveRecord: 0.2ms | Allocations: 4226)


Started GET "/" for ::1 at 2025-03-23 10:25:05 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1179)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.9ms | Allocations: 3207)
Completed 200 OK in 16ms (Views: 10.5ms | ActiveRecord: 0.2ms | Allocations: 4214)


Started GET "/" for ::1 at 2025-03-23 10:25:05 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1179)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | Allocations: 3207)
Completed 200 OK in 14ms (Views: 9.4ms | ActiveRecord: 0.2ms | Allocations: 4229)


Started GET "/" for ::1 at 2025-03-23 10:25:05 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1179)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | Allocations: 3207)
Completed 200 OK in 15ms (Views: 10.0ms | ActiveRecord: 0.2ms | Allocations: 4223)


Started GET "/" for ::1 at 2025-03-23 10:25:06 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1179)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | Allocations: 3207)
Completed 200 OK in 15ms (Views: 10.2ms | ActiveRecord: 0.2ms | Allocations: 4235)


Started GET "/" for ::1 at 2025-03-23 10:25:06 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1179)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.7ms | Allocations: 3207)
Completed 200 OK in 15ms (Views: 10.2ms | ActiveRecord: 0.2ms | Allocations: 4241)


Started GET "/" for ::1 at 2025-03-23 10:25:06 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1179)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | Allocations: 3207)
Completed 200 OK in 15ms (Views: 10.4ms | ActiveRecord: 0.2ms | Allocations: 4229)


Started GET "/" for ::1 at 2025-03-23 10:25:09 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1179)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 10.6ms | Allocations: 3238)
Completed 200 OK in 16ms (Views: 11.2ms | ActiveRecord: 0.2ms | Allocations: 4245)


Started GET "/" for ::1 at 2025-03-23 10:25:18 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.4ms | Allocations: 4862)
  Rendered shared/_flash.html.erb (Duration: 0.8ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 35.5ms | Allocations: 21378)
Completed 200 OK in 137ms (Views: 42.6ms | ActiveRecord: 3.0ms | Allocations: 34391)


Started GET "/" for ::1 at 2025-03-23 10:25:19 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1157)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | Allocations: 3185)
Completed 200 OK in 14ms (Views: 9.3ms | ActiveRecord: 0.2ms | Allocations: 4195)


Started GET "/" for ::1 at 2025-03-23 10:25:32 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.5ms | Allocations: 4858)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 35.2ms | Allocations: 21394)
Completed 200 OK in 145ms (Views: 42.3ms | ActiveRecord: 3.7ms | Allocations: 34304)


Started GET "/" for ::1 at 2025-03-23 10:25:33 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1157)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | Allocations: 3185)
Completed 200 OK in 14ms (Views: 9.5ms | ActiveRecord: 0.2ms | Allocations: 4206)


Started GET "/" for ::1 at 2025-03-23 10:28:47 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 6.6ms | Allocations: 4833)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 38.5ms | Allocations: 21376)
Completed 200 OK in 144ms (Views: 45.5ms | ActiveRecord: 3.1ms | Allocations: 34286)


Started GET "/" for ::1 at 2025-03-23 10:28:50 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1157)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 3199)
Completed 200 OK in 13ms (Views: 9.1ms | ActiveRecord: 0.2ms | Allocations: 4227)


Started GET "/" for ::1 at 2025-03-23 10:29:08 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.3ms | Allocations: 4830)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 206)
  Rendered layout layouts/application.html.erb (Duration: 42.3ms | Allocations: 21407)
Completed 200 OK in 153ms (Views: 49.1ms | ActiveRecord: 3.8ms | Allocations: 34354)


Started GET "/updates/1" for ::1 at 2025-03-23 10:29:12 -0700
Processing by PromptsessionController#change as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:12:in `change'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
  [1m[36mPromptSession Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
  [1m[36mPromptSession Update (0.2ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "system_prompt" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["system_prompt", "You are a customer service agent known for delivering exceptional, empathetic support.  \n\n\n\n"], ["feedback", nil], ["updated_at", "2025-03-23 17:29:12.486386"], ["id", 1]]
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
Redirected to http://localhost:3000/
Completed 302 Found in 19ms (ActiveRecord: 3.7ms | Allocations: 4613)


Started GET "/" for ::1 at 2025-03-23 10:29:12 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1154)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 10.1ms | Allocations: 3206)
Completed 200 OK in 15ms (Views: 10.8ms | ActiveRecord: 0.2ms | Allocations: 4245)


Started GET "/updates" for ::1 at 2025-03-23 10:29:15 -0700
  
ActionController::RoutingError (No route matches [GET] "/updates"):
  
Started GET "/" for ::1 at 2025-03-23 10:29:15 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1154)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | Allocations: 3213)
Completed 200 OK in 15ms (Views: 9.8ms | ActiveRecord: 0.2ms | Allocations: 4238)


Started GET "/" for ::1 at 2025-03-23 10:29:16 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1154)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 3182)
Completed 200 OK in 15ms (Views: 10.2ms | ActiveRecord: 0.2ms | Allocations: 4186)


Started GET "/" for ::1 at 2025-03-23 10:29:17 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1154)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | Allocations: 3182)
Completed 200 OK in 15ms (Views: 10.4ms | ActiveRecord: 0.2ms | Allocations: 4195)


Started GET "/" for ::1 at 2025-03-23 10:29:23 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1154)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 3182)
Completed 200 OK in 14ms (Views: 9.6ms | ActiveRecord: 0.2ms | Allocations: 4213)


Started GET "/" for ::1 at 2025-03-23 10:29:30 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1154)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | Allocations: 3182)
Completed 200 OK in 14ms (Views: 9.5ms | ActiveRecord: 0.2ms | Allocations: 4201)


Started GET "/" for ::1 at 2025-03-23 10:30:25 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.6ms | Allocations: 4834)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 36.1ms | Allocations: 21371)
Completed 200 OK in 136ms (Views: 43.1ms | ActiveRecord: 3.3ms | Allocations: 34314)


Started GET "/updates/1" for ::1 at 2025-03-23 10:30:29 -0700
Processing by PromptsessionController#change as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:12:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
  [1m[36mPromptSession Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
Redirected to http://localhost:3000/
Completed 302 Found in 12ms (ActiveRecord: 1.6ms | Allocations: 4324)


Started GET "/" for ::1 at 2025-03-23 10:30:30 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1158)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | Allocations: 3191)
Completed 200 OK in 14ms (Views: 9.8ms | ActiveRecord: 0.2ms | Allocations: 4233)


Started GET "/" for ::1 at 2025-03-23 10:30:45 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 6.4ms | Allocations: 1158)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 12.9ms | Allocations: 3217)
Completed 200 OK in 19ms (Views: 13.8ms | ActiveRecord: 0.3ms | Allocations: 4245)


Started GET "/updates/1" for ::1 at 2025-03-23 10:30:51 -0700
Processing by PromptsessionController#change as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:12:in `change'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
  [1m[36mPromptSession Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
Redirected to http://localhost:3000/
Completed 302 Found in 11ms (ActiveRecord: 1.3ms | Allocations: 3323)


Started GET "/" for ::1 at 2025-03-23 10:30:51 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1158)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | Allocations: 3210)
Completed 200 OK in 16ms (Views: 10.8ms | ActiveRecord: 0.2ms | Allocations: 4260)


Started GET "/" for ::1 at 2025-03-23 10:32:40 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 9.0ms | Allocations: 4833)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 43.0ms | Allocations: 21377)
Completed 200 OK in 164ms (Views: 49.7ms | ActiveRecord: 3.0ms | Allocations: 34328)


Started GET "/" for ::1 at 2025-03-23 10:32:44 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1158)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | Allocations: 3201)
Completed 200 OK in 14ms (Views: 9.3ms | ActiveRecord: 0.2ms | Allocations: 4220)


Started POST "/good_feed" for ::1 at 2025-03-23 10:32:49 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}}
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000020846311190>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000020846311190>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000020846311190>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.0ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Very helpful agent"], ["created_at", "2025-03-23 17:32:50.005624"], ["updated_at", "2025-03-23 17:32:50.005624"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 2], ["feedback", "You are a customer service agent known for delivering exceptional, empathetic support. \n"], ["updated_at", "2025-03-23 17:32:50.682396"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
Started GET "/" for ::1 at 2025-03-23 10:32:51 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (8.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1195)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | Allocations: 3223)
Completed 200 OK in 23ms (Views: 9.4ms | ActiveRecord: 16.3ms | Allocations: 4506)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 100], ["updated_at", "2025-03-23 17:32:52.094557"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
Completed 200 OK in 2101ms (Views: 0.1ms | ActiveRecord: 5.6ms | Allocations: 17704)


Started GET "/get" for ::1 at 2025-03-23 10:32:52 -0700
  
ActionController::RoutingError (No route matches [GET] "/get"):
  
Started GET "/updates/1" for ::1 at 2025-03-23 10:33:14 -0700
Processing by PromptsessionController#change as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:12:in `change'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
  [1m[36mPromptSession Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "system_prompt" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["system_prompt", "You are a customer service agent known for delivering exceptional, empathetic support. \n"], ["feedback", nil], ["updated_at", "2025-03-23 17:33:14.349817"], ["id", 1]]
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
Redirected to http://localhost:3000/
Completed 302 Found in 11ms (ActiveRecord: 1.3ms | Allocations: 3488)


Started GET "/" for ::1 at 2025-03-23 10:33:14 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1158)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 3222)
Completed 200 OK in 14ms (Views: 9.8ms | ActiveRecord: 0.1ms | Allocations: 4243)


Started GET "/get" for ::1 at 2025-03-23 10:33:24 -0700
  
ActionController::RoutingError (No route matches [GET] "/get"):
  
Started GET "/" for ::1 at 2025-03-23 10:34:41 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.2ms | Allocations: 4843)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 39.1ms | Allocations: 21432)
Completed 200 OK in 148ms (Views: 45.9ms | ActiveRecord: 3.9ms | Allocations: 34374)


Started GET "/" for ::1 at 2025-03-23 10:35:00 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 6.0ms | Allocations: 4836)
  Rendered shared/_flash.html.erb (Duration: 0.8ms | Allocations: 206)
  Rendered layout layouts/application.html.erb (Duration: 40.8ms | Allocations: 21369)
Completed 200 OK in 147ms (Views: 48.0ms | ActiveRecord: 3.1ms | Allocations: 34382)


Started GET "/updates/1" for ::1 at 2025-03-23 10:35:03 -0700
Processing by PromptsessionController#change as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:12:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
  [1m[36mPromptSession Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
Redirected to http://localhost:3000/
Completed 302 Found in 15ms (ActiveRecord: 2.0ms | Allocations: 4306)


Started GET "/" for ::1 at 2025-03-23 10:35:03 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 7.8ms | Allocations: 1158)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 23.4ms | Allocations: 3200)
Completed 200 OK in 33ms (Views: 24.1ms | ActiveRecord: 0.2ms | Allocations: 4223)


Started GET "/" for ::1 at 2025-03-23 10:35:22 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.5ms | Allocations: 4827)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 35.7ms | Allocations: 21363)
Completed 200 OK in 139ms (Views: 42.7ms | ActiveRecord: 3.0ms | Allocations: 34323)


Started GET "/updates" for ::1 at 2025-03-23 10:35:24 -0700
  
ActionController::RoutingError (No route matches [GET] "/updates"):
  
Started GET "/" for ::1 at 2025-03-23 10:35:24 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1158)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.9ms | Allocations: 3217)
Completed 200 OK in 15ms (Views: 10.6ms | ActiveRecord: 0.2ms | Allocations: 4236)


Started GET "/updates" for ::1 at 2025-03-23 10:35:25 -0700
  
ActionController::RoutingError (No route matches [GET] "/updates"):
  
Started GET "/" for ::1 at 2025-03-23 10:35:25 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1158)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 3217)
Completed 200 OK in 15ms (Views: 10.2ms | ActiveRecord: 0.2ms | Allocations: 4233)


Started GET "/updates" for ::1 at 2025-03-23 10:35:25 -0700
  
ActionController::RoutingError (No route matches [GET] "/updates"):
  
Started GET "/" for ::1 at 2025-03-23 10:35:26 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1158)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 12.8ms | Allocations: 3217)
Completed 200 OK in 19ms (Views: 13.5ms | ActiveRecord: 0.2ms | Allocations: 4245)


Started GET "/" for ::1 at 2025-03-23 10:36:03 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.4ms | Allocations: 4855)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 206)
  Rendered layout layouts/application.html.erb (Duration: 39.7ms | Allocations: 21398)
Completed 200 OK in 144ms (Views: 46.8ms | ActiveRecord: 3.1ms | Allocations: 34345)


Started GET "/" for ::1 at 2025-03-23 10:36:04 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1154)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | Allocations: 3198)
Completed 200 OK in 15ms (Views: 10.0ms | ActiveRecord: 0.2ms | Allocations: 4220)


Started GET "/" for ::1 at 2025-03-23 10:36:50 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1154)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | Allocations: 3188)
Completed 200 OK in 15ms (Views: 10.0ms | ActiveRecord: 0.2ms | Allocations: 4204)


Started GET "/" for ::1 at 2025-03-23 10:36:51 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1154)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 3182)
Completed 200 OK in 14ms (Views: 9.8ms | ActiveRecord: 0.2ms | Allocations: 4204)


Started GET "/" for ::1 at 2025-03-23 10:37:17 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 6.1ms | Allocations: 4862)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 37.2ms | Allocations: 21399)
Completed 200 OK in 144ms (Views: 44.2ms | ActiveRecord: 3.1ms | Allocations: 34372)


Started GET "/" for ::1 at 2025-03-23 10:37:22 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.5ms | Allocations: 4858)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 36.2ms | Allocations: 21402)
Completed 200 OK in 143ms (Views: 43.0ms | ActiveRecord: 2.9ms | Allocations: 34406)


Started GET "/" for ::1 at 2025-03-23 10:37:23 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1154)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | Allocations: 3196)
Completed 200 OK in 15ms (Views: 10.0ms | ActiveRecord: 0.2ms | Allocations: 4218)


Started GET "/" for ::1 at 2025-03-23 10:37:30 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.9ms | Allocations: 4862)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 35.4ms | Allocations: 21399)
Completed 200 OK in 144ms (Views: 42.3ms | ActiveRecord: 3.0ms | Allocations: 34407)


Started GET "/" for ::1 at 2025-03-23 10:37:32 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1154)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | Allocations: 3182)
Completed 200 OK in 14ms (Views: 9.6ms | ActiveRecord: 0.2ms | Allocations: 4201)


Started GET "/" for ::1 at 2025-03-23 10:37:49 -0700
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 24.9ms | Allocations: 7150)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 237)
  Rendered layout layouts/application.html.erb (Duration: 127.4ms | Allocations: 43332)
Completed 200 OK in 319ms (Views: 142.2ms | ActiveRecord: 3.4ms | Allocations: 75366)


Started GET "/" for ::1 at 2025-03-23 10:37:56 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1154)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 3185)
Completed 200 OK in 15ms (Views: 10.2ms | ActiveRecord: 0.2ms | Allocations: 4217)


Started GET "/" for ::1 at 2025-03-23 10:38:22 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 14.1ms | Allocations: 4859)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 82.8ms | Allocations: 21435)
Completed 200 OK in 190ms (Views: 89.4ms | ActiveRecord: 3.1ms | Allocations: 34404)


Started GET "/" for ::1 at 2025-03-23 10:38:32 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.2ms | Allocations: 4861)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 206)
  Rendered layout layouts/application.html.erb (Duration: 44.1ms | Allocations: 21375)
Completed 200 OK in 149ms (Views: 51.1ms | ActiveRecord: 3.2ms | Allocations: 34393)


Started GET "/" for ::1 at 2025-03-23 10:38:35 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1158)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 10.2ms | Allocations: 3196)
Completed 200 OK in 15ms (Views: 10.8ms | ActiveRecord: 0.2ms | Allocations: 4212)


Started GET "/" for ::1 at 2025-03-23 10:38:49 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.6ms | Allocations: 4859)
  Rendered shared/_flash.html.erb (Duration: 0.8ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 42.2ms | Allocations: 21396)
Completed 200 OK in 150ms (Views: 49.5ms | ActiveRecord: 3.2ms | Allocations: 34420)


Started GET "/" for ::1 at 2025-03-23 10:39:07 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.6ms | Allocations: 4864)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 40.5ms | Allocations: 21454)
Completed 200 OK in 150ms (Views: 47.8ms | ActiveRecord: 3.0ms | Allocations: 34401)


Started GET "/get" for ::1 at 2025-03-23 10:39:10 -0700
  
ActionController::RoutingError (No route matches [GET] "/get"):
  
Started GET "/updates/1" for ::1 at 2025-03-23 10:39:11 -0700
Processing by PromptsessionController#change as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:12:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
  [1m[36mPromptSession Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
Redirected to http://localhost:3000/
Completed 302 Found in 17ms (ActiveRecord: 2.4ms | Allocations: 4776)


Started GET "/" for ::1 at 2025-03-23 10:39:11 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1158)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 30)
  Rendered layout layouts/application.html.erb (Duration: 12.9ms | Allocations: 3224)
Completed 200 OK in 18ms (Views: 13.6ms | ActiveRecord: 0.2ms | Allocations: 4261)


Started GET "/" for ::1 at 2025-03-23 10:39:45 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1158)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | Allocations: 3186)
Completed 200 OK in 14ms (Views: 9.9ms | ActiveRecord: 0.2ms | Allocations: 4199)


Started GET "/updates/1" for ::1 at 2025-03-23 10:39:47 -0700
Processing by PromptsessionController#change as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:12:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
  [1m[36mPromptSession Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
Redirected to http://localhost:3000/
Completed 302 Found in 11ms (ActiveRecord: 1.8ms | Allocations: 3351)


Started GET "/" for ::1 at 2025-03-23 10:39:47 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1158)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | Allocations: 3191)
Completed 200 OK in 15ms (Views: 10.0ms | ActiveRecord: 0.2ms | Allocations: 4223)


Started GET "/" for ::1 at 2025-03-23 10:39:51 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1158)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | Allocations: 3186)
Completed 200 OK in 14ms (Views: 9.9ms | ActiveRecord: 0.2ms | Allocations: 4196)


Started GET "/updates/1" for ::1 at 2025-03-23 10:39:58 -0700
Processing by PromptsessionController#change as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:12:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
  [1m[36mPromptSession Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
Redirected to http://localhost:3000/
Completed 302 Found in 14ms (ActiveRecord: 1.4ms | Allocations: 3347)


Started GET "/" for ::1 at 2025-03-23 10:39:58 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1158)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | Allocations: 3222)
Completed 200 OK in 15ms (Views: 10.1ms | ActiveRecord: 0.2ms | Allocations: 4254)


Started GET "/" for ::1 at 2025-03-23 10:40:01 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1158)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | Allocations: 3187)
Completed 200 OK in 15ms (Views: 10.5ms | ActiveRecord: 0.2ms | Allocations: 4208)


Started GET "/updates/1" for ::1 at 2025-03-23 10:40:02 -0700
Processing by PromptsessionController#change as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:12:in `change'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
  [1m[36mPromptSession Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
Redirected to http://localhost:3000/
Completed 302 Found in 11ms (ActiveRecord: 1.3ms | Allocations: 3318)


Started GET "/" for ::1 at 2025-03-23 10:40:02 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1158)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 11.4ms | Allocations: 3193)
Completed 200 OK in 16ms (Views: 12.0ms | ActiveRecord: 0.2ms | Allocations: 4242)


Started GET "/" for ::1 at 2025-03-23 10:40:06 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1158)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 3196)
Completed 200 OK in 15ms (Views: 10.2ms | ActiveRecord: 0.2ms | Allocations: 4217)


Started GET "/" for ::1 at 2025-03-23 10:40:18 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.3ms | Allocations: 4861)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 35.1ms | Allocations: 21397)
Completed 200 OK in 140ms (Views: 42.1ms | ActiveRecord: 3.1ms | Allocations: 34341)


Started GET "/updates/1" for ::1 at 2025-03-23 10:40:20 -0700
Processing by PromptsessionController#change as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:12:in `change'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
  [1m[36mPromptSession Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
Redirected to http://localhost:3000/
Completed 302 Found in 15ms (ActiveRecord: 1.5ms | Allocations: 4298)


Started GET "/" for ::1 at 2025-03-23 10:40:20 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1158)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | Allocations: 3222)
Completed 200 OK in 15ms (Views: 10.0ms | ActiveRecord: 0.2ms | Allocations: 4269)


Started GET "/" for ::1 at 2025-03-23 10:40:24 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.7ms | Allocations: 4864)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 35.9ms | Allocations: 21400)
Completed 200 OK in 152ms (Views: 43.4ms | ActiveRecord: 3.0ms | Allocations: 34458)


Started GET "/updates/1" for ::1 at 2025-03-23 10:40:25 -0700
Processing by PromptsessionController#change as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:12:in `change'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
  [1m[36mPromptSession Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
Redirected to http://localhost:3000/
Completed 302 Found in 12ms (ActiveRecord: 1.5ms | Allocations: 4294)


Started GET "/" for ::1 at 2025-03-23 10:40:25 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1158)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | Allocations: 3191)
Completed 200 OK in 14ms (Views: 9.4ms | ActiveRecord: 0.2ms | Allocations: 4202)


Started GET "/" for ::1 at 2025-03-23 10:40:28 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1158)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 10.0ms | Allocations: 3220)
Completed 200 OK in 15ms (Views: 10.6ms | ActiveRecord: 0.2ms | Allocations: 4236)


Started GET "/" for ::1 at 2025-03-23 10:40:36 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 6.0ms | Allocations: 4861)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 36.5ms | Allocations: 21397)
Completed 200 OK in 72ms (Views: 43.0ms | ActiveRecord: 3.0ms | Allocations: 34438)


Started GET "/updates/1" for ::1 at 2025-03-23 10:40:37 -0700
Processing by PromptsessionController#change as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:12:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
  [1m[36mPromptSession Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
Redirected to http://localhost:3000/
Completed 302 Found in 14ms (ActiveRecord: 1.6ms | Allocations: 4303)


Started GET "/" for ::1 at 2025-03-23 10:40:38 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1158)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | Allocations: 3223)
Completed 200 OK in 14ms (Views: 9.6ms | ActiveRecord: 0.1ms | Allocations: 4276)


Started GET "/" for ::1 at 2025-03-23 10:40:42 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1158)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 3215)
Completed 200 OK in 14ms (Views: 9.7ms | ActiveRecord: 0.2ms | Allocations: 4252)


Started GET "/" for ::1 at 2025-03-23 10:40:53 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 9.8ms | Allocations: 4863)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 78.8ms | Allocations: 21449)
Completed 200 OK in 111ms (Views: 85.4ms | ActiveRecord: 3.0ms | Allocations: 34415)


Started GET "/updates/1" for ::1 at 2025-03-23 10:40:54 -0700
Processing by PromptsessionController#change as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:12:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
  [1m[36mPromptSession Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
Completed 406 Not Acceptable in 21ms (ActiveRecord: 2.1ms | Allocations: 4860)


  
ActionController::MissingExactTemplate (PromptsessionController#change is missing a template for request formats: text/html):
  
actionpack (7.1.5.1) lib/action_controller/metal/implicit_render.rb:47:in `default_render'
actionpack (7.1.5.1) lib/action_controller/metal/basic_implicit_render.rb:7:in `send_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:224:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rendering.rb:165:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:259:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:121:in `block in run_callbacks'
turbo-rails (2.0.13) lib/turbo-rails.rb:24:in `with_request_id'
turbo-rails (2.0.13) app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
actiontext (7.1.5.1) lib/action_text/rendering.rb:23:in `with_renderer'
actiontext (7.1.5.1) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `instance_exec'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:141:in `run_callbacks'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:258:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rescue.rb:25:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.1.5.1) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:73:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
activerecord (7.1.5.1) lib/active_record/railties/controller_runtime.rb:32:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:160:in `process'
actionview (7.1.5.1) lib/action_view/rendering.rb:40:in `process'
actionpack (7.1.5.1) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.5.1) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.12) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.12) lib/rack/etag.rb:29:in `call'
rack (3.1.12) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.12) lib/rack/head.rb:15:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/permissions_policy.rb:36:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:274:in `context'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:268:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (7.1.5.1) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.5.1) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.5.2) lib/sprockets/rails/quiet_assets.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.12) lib/rack/method_override.rb:28:in `call'
rack (3.1.12) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.12) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (7.1.5.1) lib/rails/engine.rb:536:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started GET "/" for ::1 at 2025-03-23 10:40:55 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1158)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 10.9ms | Allocations: 3217)
Completed 200 OK in 16ms (Views: 11.6ms | ActiveRecord: 0.3ms | Allocations: 4230)


Started GET "/" for ::1 at 2025-03-23 10:40:56 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1158)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | Allocations: 3186)
Completed 200 OK in 15ms (Views: 10.4ms | ActiveRecord: 0.2ms | Allocations: 4202)


Started GET "/updates/1" for ::1 at 2025-03-23 10:41:00 -0700
Processing by PromptsessionController#change as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:12:in `change'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
  [1m[36mPromptSession Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
Completed 406 Not Acceptable in 11ms (ActiveRecord: 1.4ms | Allocations: 3672)


  
ActionController::MissingExactTemplate (PromptsessionController#change is missing a template for request formats: text/html):
  
actionpack (7.1.5.1) lib/action_controller/metal/implicit_render.rb:47:in `default_render'
actionpack (7.1.5.1) lib/action_controller/metal/basic_implicit_render.rb:7:in `send_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:224:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rendering.rb:165:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:259:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:121:in `block in run_callbacks'
turbo-rails (2.0.13) lib/turbo-rails.rb:24:in `with_request_id'
turbo-rails (2.0.13) app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
actiontext (7.1.5.1) lib/action_text/rendering.rb:23:in `with_renderer'
actiontext (7.1.5.1) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `instance_exec'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:141:in `run_callbacks'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:258:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rescue.rb:25:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.1.5.1) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:73:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
activerecord (7.1.5.1) lib/active_record/railties/controller_runtime.rb:32:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:160:in `process'
actionview (7.1.5.1) lib/action_view/rendering.rb:40:in `process'
actionpack (7.1.5.1) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.5.1) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.12) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.12) lib/rack/etag.rb:29:in `call'
rack (3.1.12) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.12) lib/rack/head.rb:15:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/permissions_policy.rb:36:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:274:in `context'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:268:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (7.1.5.1) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.5.1) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.5.2) lib/sprockets/rails/quiet_assets.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.12) lib/rack/method_override.rb:28:in `call'
rack (3.1.12) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.12) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (7.1.5.1) lib/rails/engine.rb:536:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started GET "/" for ::1 at 2025-03-23 10:41:00 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 4.4ms | Allocations: 1158)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 11.0ms | Allocations: 3217)
Completed 200 OK in 16ms (Views: 11.6ms | ActiveRecord: 0.2ms | Allocations: 4245)


Started GET "/updates/1" for ::1 at 2025-03-23 10:41:00 -0700
Processing by PromptsessionController#change as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:12:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
  [1m[36mPromptSession Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
Completed 406 Not Acceptable in 12ms (ActiveRecord: 1.7ms | Allocations: 3666)


  
ActionController::MissingExactTemplate (PromptsessionController#change is missing a template for request formats: text/html):
  
actionpack (7.1.5.1) lib/action_controller/metal/implicit_render.rb:47:in `default_render'
actionpack (7.1.5.1) lib/action_controller/metal/basic_implicit_render.rb:7:in `send_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:224:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rendering.rb:165:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:259:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:121:in `block in run_callbacks'
turbo-rails (2.0.13) lib/turbo-rails.rb:24:in `with_request_id'
turbo-rails (2.0.13) app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
actiontext (7.1.5.1) lib/action_text/rendering.rb:23:in `with_renderer'
actiontext (7.1.5.1) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `instance_exec'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:141:in `run_callbacks'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:258:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rescue.rb:25:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.1.5.1) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:73:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
activerecord (7.1.5.1) lib/active_record/railties/controller_runtime.rb:32:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:160:in `process'
actionview (7.1.5.1) lib/action_view/rendering.rb:40:in `process'
actionpack (7.1.5.1) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.5.1) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.12) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.12) lib/rack/etag.rb:29:in `call'
rack (3.1.12) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.12) lib/rack/head.rb:15:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/permissions_policy.rb:36:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:274:in `context'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:268:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (7.1.5.1) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.5.1) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.5.2) lib/sprockets/rails/quiet_assets.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.12) lib/rack/method_override.rb:28:in `call'
rack (3.1.12) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.12) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (7.1.5.1) lib/rails/engine.rb:536:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started GET "/" for ::1 at 2025-03-23 10:41:01 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1158)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 11.7ms | Allocations: 3217)
Completed 200 OK in 20ms (Views: 12.6ms | ActiveRecord: 0.2ms | Allocations: 4242)


  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" ORDER BY "prompt_sessions"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" ORDER BY "prompt_sessions"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPromptSession Destroy (1.3ms)[0m  [1m[31mDELETE FROM "prompt_sessions" WHERE "prompt_sessions"."id" = ?[0m  [["id", 2]]
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" ORDER BY "prompt_sessions"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mPromptSession Destroy (0.2ms)[0m  [1m[31mDELETE FROM "prompt_sessions" WHERE "prompt_sessions"."id" = ?[0m  [["id", 1]]
Started GET "/" for ::1 at 2025-03-23 10:41:19 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1096)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | Allocations: 3124)
Completed 200 OK in 14ms (Views: 9.3ms | ActiveRecord: 0.3ms | Allocations: 4137)


Started GET "/" for ::1 at 2025-03-23 10:41:20 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1096)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | Allocations: 3124)
Completed 200 OK in 14ms (Views: 9.3ms | ActiveRecord: 0.2ms | Allocations: 4155)


  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-03-23 17:42:00.143097', '2025-03-23 17:42:00.143104') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20250322211111)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "password_digest" varchar, "session_token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322211111') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePromptSessions (20250322224855)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "prompt_sessions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "uid" integer, "system_prompt" varchar, "like_count" integer, "dislike_count" integer, "feedback" varchar, "prompt_sim" integer, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_8e5cfb463f"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_prompt_sessions_on_user_id" ON "prompt_sessions" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322224855') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateGoodFeedbacks (20250322233105)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "good_feedbacks" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "prompt_session_id" integer NOT NULL, "comment" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_d830e5dfaa"
FOREIGN KEY ("prompt_session_id")
  REFERENCES "prompt_sessions" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_good_feedbacks_on_prompt_session_id" ON "good_feedbacks" ("prompt_session_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322233105') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateBadFeedbacks (20250322233120)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "bad_feedbacks" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "prompt_session_id" integer NOT NULL, "comment" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a944aabc96"
FOREIGN KEY ("prompt_session_id")
  REFERENCES "prompt_sessions" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bad_feedbacks_on_prompt_session_id" ON "bad_feedbacks" ("prompt_session_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322233120') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2025-03-23 10:42:10 -0700
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 9.6ms | Allocations: 4089)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 237)
  Rendered layout layouts/application.html.erb (Duration: 98.1ms | Allocations: 40271)
Completed 200 OK in 202ms (Views: 111.4ms | ActiveRecord: 2.7ms | Allocations: 66638)


Started GET "/sign-in" for ::1 at 2025-03-23 10:42:12 -0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1136)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | Allocations: 3173)
Completed 200 OK in 26ms (Views: 14.2ms | ActiveRecord: 0.2ms | Allocations: 8503)


Started POST "/sign-in" for ::1 at 2025-03-23 10:42:14 -0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user1", "password"=>"[FILTERED]"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:12:in `create'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 2184)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 22)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | Allocations: 4241)
Completed 200 OK in 14ms (Views: 7.8ms | ActiveRecord: 0.2ms | Allocations: 5777)


Started GET "/sign-up" for ::1 at 2025-03-23 10:42:15 -0700
Processing by RegistrationsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1432)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | Allocations: 3484)
Completed 200 OK in 26ms (Views: 17.7ms | ActiveRecord: 0.1ms | Allocations: 4662)


Started POST "/sign-up" for ::1 at 2025-03-23 10:42:20 -0700
Processing by RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user1", "email"=>"james.johnsonn9779@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "user1"], ["LIMIT", 1]]
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "session_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["username", "user1"], ["email", "james.johnsonn9779@gmail.com"], ["password_digest", "[FILTERED]"], ["session_token", "[FILTERED]"], ["created_at", "2025-03-23 17:42:20.862354"], ["updated_at", "2025-03-23 17:42:20.862354"]]
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 194ms (ActiveRecord: 2.7ms | Allocations: 5235)


Started GET "/" for ::1 at 2025-03-23 10:42:20 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 12.0ms | Allocations: 2347)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 30.6ms | Allocations: 4381)
Completed 200 OK in 50ms (Views: 31.4ms | ActiveRecord: 0.2ms | Allocations: 7057)


Started POST "/new_prompt" for ::1 at 2025-03-23 10:42:26 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "system_prompt"=>"You are a 10x customer service agent"}, "commit"=>"Create Prompt"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:34:in `set_prompt'
  [1m[36mPromptSession Exists? (3.4ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:34:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:34:in `set_prompt'
  [1m[36mPromptSession Create (0.2ms)[0m  [1m[32mINSERT INTO "prompt_sessions" ("uid", "system_prompt", "like_count", "dislike_count", "feedback", "prompt_sim", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["uid", 1], ["system_prompt", "You are a 10x customer service agent"], ["like_count", 0], ["dislike_count", 0], ["feedback", nil], ["prompt_sim", nil], ["user_id", 1], ["created_at", "2025-03-23 17:42:26.297309"], ["updated_at", "2025-03-23 17:42:26.297309"]]
  â†³ app/controllers/promptsession_controller.rb:34:in `set_prompt'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/promptsession_controller.rb:34:in `set_prompt'
Redirected to http://localhost:3000/
Completed 302 Found in 35ms (ActiveRecord: 4.0ms | Allocations: 6045)


Started GET "/" for ::1 at 2025-03-23 10:42:26 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1151)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 9.7ms | Allocations: 3217)
Completed 200 OK in 15ms (Views: 10.4ms | ActiveRecord: 0.2ms | Allocations: 4267)


Started GET "/" for ::1 at 2025-03-23 10:42:34 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1098)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | Allocations: 3155)
Completed 200 OK in 15ms (Views: 10.5ms | ActiveRecord: 0.2ms | Allocations: 4189)


Started GET "/" for ::1 at 2025-03-23 10:43:09 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.1ms | Allocations: 4802)
  Rendered shared/_flash.html.erb (Duration: 0.8ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 36.5ms | Allocations: 21339)
Completed 200 OK in 154ms (Views: 44.0ms | ActiveRecord: 3.1ms | Allocations: 34288)


Started GET "/" for ::1 at 2025-03-23 10:43:15 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.1ms | Allocations: 4803)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 41.3ms | Allocations: 21365)
Completed 200 OK in 145ms (Views: 48.0ms | ActiveRecord: 3.0ms | Allocations: 34369)


Started GET "/" for ::1 at 2025-03-23 10:43:16 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1098)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 11.0ms | Allocations: 3133)
Completed 200 OK in 16ms (Views: 11.7ms | ActiveRecord: 0.2ms | Allocations: 4155)


Started GET "/" for ::1 at 2025-03-23 10:43:22 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.3ms | Allocations: 4799)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 38.7ms | Allocations: 21345)
Completed 200 OK in 141ms (Views: 45.6ms | ActiveRecord: 3.0ms | Allocations: 34365)


Started GET "/" for ::1 at 2025-03-23 10:43:22 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1096)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | Allocations: 3131)
Completed 200 OK in 14ms (Views: 10.0ms | ActiveRecord: 0.2ms | Allocations: 4150)


Started GET "/" for ::1 at 2025-03-23 10:43:23 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1096)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | Allocations: 3125)
Completed 200 OK in 14ms (Views: 9.4ms | ActiveRecord: 0.2ms | Allocations: 4138)


Started GET "/" for ::1 at 2025-03-23 10:43:23 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1096)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | Allocations: 3124)
Completed 200 OK in 15ms (Views: 10.0ms | ActiveRecord: 0.2ms | Allocations: 4140)


Started GET "/" for ::1 at 2025-03-23 10:43:24 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1096)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.7ms | Allocations: 3138)
Completed 200 OK in 15ms (Views: 10.3ms | ActiveRecord: 0.2ms | Allocations: 4145)


Started GET "/" for ::1 at 2025-03-23 10:43:25 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1096)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | Allocations: 3125)
Completed 200 OK in 15ms (Views: 10.0ms | ActiveRecord: 0.2ms | Allocations: 4147)


Started GET "/" for ::1 at 2025-03-23 10:43:47 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1096)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 10.2ms | Allocations: 3124)
Completed 200 OK in 16ms (Views: 10.9ms | ActiveRecord: 0.2ms | Allocations: 4143)


Started GET "/" for ::1 at 2025-03-23 10:43:51 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1096)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | Allocations: 3125)
Completed 200 OK in 14ms (Views: 10.1ms | ActiveRecord: 0.2ms | Allocations: 4135)


Started GET "/" for ::1 at 2025-03-23 10:43:51 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1096)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 3124)
Completed 200 OK in 14ms (Views: 9.2ms | ActiveRecord: 0.2ms | Allocations: 4131)


Started GET "/" for ::1 at 2025-03-23 10:43:52 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1096)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 3124)
Completed 200 OK in 14ms (Views: 9.2ms | ActiveRecord: 0.2ms | Allocations: 4137)


Started GET "/" for ::1 at 2025-03-23 10:43:52 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1096)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 3124)
Completed 200 OK in 14ms (Views: 9.1ms | ActiveRecord: 0.2ms | Allocations: 4137)


Started GET "/" for ::1 at 2025-03-23 10:43:53 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1096)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 10.2ms | Allocations: 3124)
Completed 200 OK in 15ms (Views: 10.9ms | ActiveRecord: 0.2ms | Allocations: 4137)


Started GET "/" for ::1 at 2025-03-23 10:43:56 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.4ms | Allocations: 4802)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 43.3ms | Allocations: 21322)
Completed 200 OK in 157ms (Views: 50.3ms | ActiveRecord: 11.6ms | Allocations: 34268)


Started GET "/" for ::1 at 2025-03-23 10:43:56 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1098)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | Allocations: 3126)
Completed 200 OK in 14ms (Views: 9.3ms | ActiveRecord: 0.2ms | Allocations: 4139)


Started GET "/" for ::1 at 2025-03-23 10:43:57 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1098)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.7ms | Allocations: 3126)
Completed 200 OK in 15ms (Views: 10.4ms | ActiveRecord: 0.2ms | Allocations: 4148)


Started GET "/" for ::1 at 2025-03-23 10:43:57 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1098)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 3126)
Completed 200 OK in 14ms (Views: 9.7ms | ActiveRecord: 0.2ms | Allocations: 4142)


Started GET "/" for ::1 at 2025-03-23 10:43:58 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1098)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 3126)
Completed 200 OK in 14ms (Views: 9.2ms | ActiveRecord: 0.2ms | Allocations: 4151)


Started GET "/" for ::1 at 2025-03-23 10:43:58 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1098)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 3126)
Completed 200 OK in 14ms (Views: 9.2ms | ActiveRecord: 0.2ms | Allocations: 4157)


Started GET "/" for ::1 at 2025-03-23 10:43:59 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1098)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 11.0ms | Allocations: 3126)
Completed 200 OK in 17ms (Views: 11.9ms | ActiveRecord: 0.2ms | Allocations: 4154)


Started GET "/" for ::1 at 2025-03-23 10:44:41 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.4ms | Allocations: 4802)
  Rendered shared/_flash.html.erb (Duration: 0.9ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 38.1ms | Allocations: 21321)
Completed 200 OK in 148ms (Views: 45.0ms | ActiveRecord: 3.0ms | Allocations: 34261)


Started GET "/" for ::1 at 2025-03-23 10:44:42 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1098)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | Allocations: 3126)
Completed 200 OK in 14ms (Views: 9.4ms | ActiveRecord: 0.2ms | Allocations: 4139)


Started POST "/good_feed" for ::1 at 2025-03-23 10:44:47 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}}
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000022c522a9420>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000022c522a9420>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000022c522a9420>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.8ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Very helpful agent"], ["created_at", "2025-03-23 17:44:47.636381"], ["updated_at", "2025-03-23 17:44:47.636381"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 1], ["feedback", "You are a top-performing customer service agent.  \n"], ["updated_at", "2025-03-23 17:44:49.039199"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
Started GET "/" for ::1 at 2025-03-23 10:44:49 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (8.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1151)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 26)
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | Allocations: 3210)
Completed 200 OK in 24ms (Views: 10.2ms | ActiveRecord: 16.7ms | Allocations: 4509)


Started GET "/updates/1" for ::1 at 2025-03-23 10:44:51 -0700
Processing by PromptsessionController#change as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:12:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
  [1m[36mPromptSession Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "system_prompt" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["system_prompt", "You are a top-performing customer service agent.  \n"], ["feedback", nil], ["updated_at", "2025-03-23 17:44:51.471153"], ["id", 1]]
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
Completed 406 Not Acceptable in 21ms (ActiveRecord: 2.0ms | Allocations: 4200)


  
ActionController::MissingExactTemplate (PromptsessionController#change is missing a template for request formats: text/html):
  
actionpack (7.1.5.1) lib/action_controller/metal/implicit_render.rb:47:in `default_render'
actionpack (7.1.5.1) lib/action_controller/metal/basic_implicit_render.rb:7:in `send_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:224:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rendering.rb:165:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:259:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:121:in `block in run_callbacks'
turbo-rails (2.0.13) lib/turbo-rails.rb:24:in `with_request_id'
turbo-rails (2.0.13) app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
actiontext (7.1.5.1) lib/action_text/rendering.rb:23:in `with_renderer'
actiontext (7.1.5.1) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `instance_exec'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:141:in `run_callbacks'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:258:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rescue.rb:25:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.1.5.1) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:73:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
activerecord (7.1.5.1) lib/active_record/railties/controller_runtime.rb:32:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:160:in `process'
actionview (7.1.5.1) lib/action_view/rendering.rb:40:in `process'
actionpack (7.1.5.1) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.5.1) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.12) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.12) lib/rack/etag.rb:29:in `call'
rack (3.1.12) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.12) lib/rack/head.rb:15:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/permissions_policy.rb:36:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:274:in `context'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:268:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (7.1.5.1) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.5.1) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.5.2) lib/sprockets/rails/quiet_assets.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.12) lib/rack/method_override.rb:28:in `call'
rack (3.1.12) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.12) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (7.1.5.1) lib/rails/engine.rb:536:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started GET "/" for ::1 at 2025-03-23 10:44:51 -0700
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 80], ["updated_at", "2025-03-23 17:44:51.743668"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
Completed 200 OK in 4132ms (Views: 0.3ms | ActiveRecord: 7.0ms | Allocations: 281551)


Processing by MainController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1098)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | Allocations: 3140)
Completed 200 OK in 14ms (Views: 9.4ms | ActiveRecord: 0.2ms | Allocations: 4166)


Started GET "/" for ::1 at 2025-03-23 10:44:53 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1098)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 3126)
Completed 200 OK in 15ms (Views: 10.2ms | ActiveRecord: 0.2ms | Allocations: 4154)


Started GET "/" for ::1 at 2025-03-23 10:44:54 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.0ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1098)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 3126)
Completed 200 OK in 14ms (Views: 9.1ms | ActiveRecord: 0.1ms | Allocations: 4121)


Started GET "/" for ::1 at 2025-03-23 10:45:28 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.7ms | Allocations: 4801)
  Rendered shared/_flash.html.erb (Duration: 1.3ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 55.8ms | Allocations: 21323)
Completed 200 OK in 88ms (Views: 62.6ms | ActiveRecord: 3.0ms | Allocations: 34286)


Started GET "/" for ::1 at 2025-03-23 10:45:28 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 4.3ms | Allocations: 1098)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 14.4ms | Allocations: 3126)
Completed 200 OK in 23ms (Views: 15.8ms | ActiveRecord: 0.2ms | Allocations: 4139)


Started GET "/" for ::1 at 2025-03-23 10:45:29 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 6.6ms | Allocations: 1098)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 17.1ms | Allocations: 3126)
Completed 200 OK in 27ms (Views: 18.6ms | ActiveRecord: 0.2ms | Allocations: 4157)


Started GET "/" for ::1 at 2025-03-23 10:45:30 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1098)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 10.7ms | Allocations: 3140)
Completed 200 OK in 16ms (Views: 11.3ms | ActiveRecord: 0.2ms | Allocations: 4166)


Started GET "/updates/1" for ::1 at 2025-03-23 10:45:33 -0700
Processing by PromptsessionController#change as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mPromptSession Load (0.3ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:12:in `change'
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.4ms | Allocations: 2224)


  
NoMethodError (undefined method `similarity=' for an instance of PromptSession):
  
app/controllers/promptsession_controller.rb:18:in `change'
Started GET "/" for ::1 at 2025-03-23 10:45:50 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 6.3ms | Allocations: 4797)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 42.0ms | Allocations: 21341)
Completed 200 OK in 74ms (Views: 48.7ms | ActiveRecord: 3.2ms | Allocations: 34348)


Started GET "/updates/1" for ::1 at 2025-03-23 10:45:52 -0700
Processing by PromptsessionController#change as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:12:in `change'
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.2ms | Allocations: 2209)


  
NoMethodError (undefined method `similarity=' for an instance of PromptSession):
  
app/controllers/promptsession_controller.rb:18:in `change'
Started GET "/" for ::1 at 2025-03-23 10:45:58 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.6ms | Allocations: 4798)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 39.4ms | Allocations: 21338)
Completed 200 OK in 73ms (Views: 46.1ms | ActiveRecord: 3.2ms | Allocations: 34356)


Started GET "/updates/1" for ::1 at 2025-03-23 10:45:59 -0700
Processing by PromptsessionController#change as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:12:in `change'
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.2ms | Allocations: 2130)


  
NoMethodError (undefined method `similarity=' for an instance of PromptSession):
  
app/controllers/promptsession_controller.rb:17:in `change'
Started GET "/" for ::1 at 2025-03-23 10:46:04 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.9ms | Allocations: 4799)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 40.2ms | Allocations: 21335)
Completed 200 OK in 78ms (Views: 48.5ms | ActiveRecord: 3.2ms | Allocations: 34341)


Started GET "/updates/1" for ::1 at 2025-03-23 10:46:05 -0700
Processing by PromptsessionController#change as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:12:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
  [1m[36mPromptSession Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
Completed 406 Not Acceptable in 20ms (ActiveRecord: 1.5ms | Allocations: 4883)


  
ActionController::MissingExactTemplate (PromptsessionController#change is missing a template for request formats: text/html):
  
actionpack (7.1.5.1) lib/action_controller/metal/implicit_render.rb:47:in `default_render'
actionpack (7.1.5.1) lib/action_controller/metal/basic_implicit_render.rb:7:in `send_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:224:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rendering.rb:165:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:259:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:121:in `block in run_callbacks'
turbo-rails (2.0.13) lib/turbo-rails.rb:24:in `with_request_id'
turbo-rails (2.0.13) app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
actiontext (7.1.5.1) lib/action_text/rendering.rb:23:in `with_renderer'
actiontext (7.1.5.1) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `instance_exec'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:141:in `run_callbacks'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:258:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rescue.rb:25:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.1.5.1) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:73:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
activerecord (7.1.5.1) lib/active_record/railties/controller_runtime.rb:32:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:160:in `process'
actionview (7.1.5.1) lib/action_view/rendering.rb:40:in `process'
actionpack (7.1.5.1) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.5.1) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.12) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.12) lib/rack/etag.rb:29:in `call'
rack (3.1.12) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.12) lib/rack/head.rb:15:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/permissions_policy.rb:36:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:274:in `context'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:268:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (7.1.5.1) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.5.1) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.5.2) lib/sprockets/rails/quiet_assets.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.12) lib/rack/method_override.rb:28:in `call'
rack (3.1.12) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.12) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (7.1.5.1) lib/rails/engine.rb:536:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started GET "/" for ::1 at 2025-03-23 10:46:06 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1098)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 3157)
Completed 200 OK in 14ms (Views: 9.1ms | ActiveRecord: 0.2ms | Allocations: 4191)


Started GET "/updates/1" for ::1 at 2025-03-23 10:46:06 -0700
Processing by PromptsessionController#change as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:12:in `change'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
  [1m[36mPromptSession Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
Completed 406 Not Acceptable in 12ms (ActiveRecord: 1.3ms | Allocations: 3669)


  
ActionController::MissingExactTemplate (PromptsessionController#change is missing a template for request formats: text/html):
  
actionpack (7.1.5.1) lib/action_controller/metal/implicit_render.rb:47:in `default_render'
actionpack (7.1.5.1) lib/action_controller/metal/basic_implicit_render.rb:7:in `send_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:224:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rendering.rb:165:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:259:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:121:in `block in run_callbacks'
turbo-rails (2.0.13) lib/turbo-rails.rb:24:in `with_request_id'
turbo-rails (2.0.13) app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
actiontext (7.1.5.1) lib/action_text/rendering.rb:23:in `with_renderer'
actiontext (7.1.5.1) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `instance_exec'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:141:in `run_callbacks'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:258:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rescue.rb:25:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.1.5.1) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:73:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
activerecord (7.1.5.1) lib/active_record/railties/controller_runtime.rb:32:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:160:in `process'
actionview (7.1.5.1) lib/action_view/rendering.rb:40:in `process'
actionpack (7.1.5.1) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.5.1) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.12) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.12) lib/rack/etag.rb:29:in `call'
rack (3.1.12) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.12) lib/rack/head.rb:15:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/permissions_policy.rb:36:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:274:in `context'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:268:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (7.1.5.1) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.5.1) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.5.2) lib/sprockets/rails/quiet_assets.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.12) lib/rack/method_override.rb:28:in `call'
rack (3.1.12) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.12) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (7.1.5.1) lib/rails/engine.rb:536:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started GET "/" for ::1 at 2025-03-23 10:46:07 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1098)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | Allocations: 3159)
Completed 200 OK in 14ms (Views: 9.5ms | ActiveRecord: 0.2ms | Allocations: 4182)


Started GET "/updates/1" for ::1 at 2025-03-23 10:46:07 -0700
Processing by PromptsessionController#change as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:12:in `change'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
  [1m[36mPromptSession Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
Completed 406 Not Acceptable in 11ms (ActiveRecord: 1.3ms | Allocations: 3657)


  
ActionController::MissingExactTemplate (PromptsessionController#change is missing a template for request formats: text/html):
  
actionpack (7.1.5.1) lib/action_controller/metal/implicit_render.rb:47:in `default_render'
actionpack (7.1.5.1) lib/action_controller/metal/basic_implicit_render.rb:7:in `send_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:224:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rendering.rb:165:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:259:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:121:in `block in run_callbacks'
turbo-rails (2.0.13) lib/turbo-rails.rb:24:in `with_request_id'
turbo-rails (2.0.13) app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
actiontext (7.1.5.1) lib/action_text/rendering.rb:23:in `with_renderer'
actiontext (7.1.5.1) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `instance_exec'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:141:in `run_callbacks'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:258:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rescue.rb:25:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.1.5.1) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:73:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
activerecord (7.1.5.1) lib/active_record/railties/controller_runtime.rb:32:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:160:in `process'
actionview (7.1.5.1) lib/action_view/rendering.rb:40:in `process'
actionpack (7.1.5.1) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.5.1) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.12) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.12) lib/rack/etag.rb:29:in `call'
rack (3.1.12) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.12) lib/rack/head.rb:15:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/permissions_policy.rb:36:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:274:in `context'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:268:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (7.1.5.1) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.5.1) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.5.2) lib/sprockets/rails/quiet_assets.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.12) lib/rack/method_override.rb:28:in `call'
rack (3.1.12) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.12) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (7.1.5.1) lib/rails/engine.rb:536:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started GET "/" for ::1 at 2025-03-23 10:46:08 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1098)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | Allocations: 3157)
Completed 200 OK in 15ms (Views: 10.3ms | ActiveRecord: 0.2ms | Allocations: 4173)


Started GET "/updates/1" for ::1 at 2025-03-23 10:46:08 -0700
Processing by PromptsessionController#change as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:12:in `change'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
  [1m[36mPromptSession Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:18:in `change'
Completed 406 Not Acceptable in 10ms (ActiveRecord: 1.4ms | Allocations: 3683)


  
ActionController::MissingExactTemplate (PromptsessionController#change is missing a template for request formats: text/html):
  
actionpack (7.1.5.1) lib/action_controller/metal/implicit_render.rb:47:in `default_render'
actionpack (7.1.5.1) lib/action_controller/metal/basic_implicit_render.rb:7:in `send_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:224:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rendering.rb:165:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:259:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:121:in `block in run_callbacks'
turbo-rails (2.0.13) lib/turbo-rails.rb:24:in `with_request_id'
turbo-rails (2.0.13) app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
actiontext (7.1.5.1) lib/action_text/rendering.rb:23:in `with_renderer'
actiontext (7.1.5.1) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `instance_exec'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:141:in `run_callbacks'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:258:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rescue.rb:25:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.1.5.1) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:73:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
activerecord (7.1.5.1) lib/active_record/railties/controller_runtime.rb:32:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:160:in `process'
actionview (7.1.5.1) lib/action_view/rendering.rb:40:in `process'
actionpack (7.1.5.1) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.5.1) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.12) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.12) lib/rack/etag.rb:29:in `call'
rack (3.1.12) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.12) lib/rack/head.rb:15:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/permissions_policy.rb:36:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:274:in `context'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:268:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (7.1.5.1) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.5.1) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.5.2) lib/sprockets/rails/quiet_assets.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.12) lib/rack/method_override.rb:28:in `call'
rack (3.1.12) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.12) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (7.1.5.1) lib/rails/engine.rb:536:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started GET "/" for ::1 at 2025-03-23 10:46:08 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1098)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | Allocations: 3157)
Completed 200 OK in 14ms (Views: 9.4ms | ActiveRecord: 0.2ms | Allocations: 4200)


Started GET "/" for ::1 at 2025-03-23 10:46:25 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 7.8ms | Allocations: 4800)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 38.2ms | Allocations: 21336)
Completed 200 OK in 72ms (Views: 45.9ms | ActiveRecord: 3.8ms | Allocations: 34336)


Started GET "/updates/1" for ::1 at 2025-03-23 10:46:26 -0700
Processing by PromptsessionController#change as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:12:in `change'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
  [1m[36mPromptSession Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
Completed 406 Not Acceptable in 20ms (ActiveRecord: 1.6ms | Allocations: 4827)


  
ActionController::MissingExactTemplate (PromptsessionController#change is missing a template for request formats: text/html):
  
actionpack (7.1.5.1) lib/action_controller/metal/implicit_render.rb:47:in `default_render'
actionpack (7.1.5.1) lib/action_controller/metal/basic_implicit_render.rb:7:in `send_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:224:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rendering.rb:165:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:259:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:121:in `block in run_callbacks'
turbo-rails (2.0.13) lib/turbo-rails.rb:24:in `with_request_id'
turbo-rails (2.0.13) app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
actiontext (7.1.5.1) lib/action_text/rendering.rb:23:in `with_renderer'
actiontext (7.1.5.1) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `instance_exec'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:141:in `run_callbacks'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:258:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rescue.rb:25:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.1.5.1) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:73:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
activerecord (7.1.5.1) lib/active_record/railties/controller_runtime.rb:32:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:160:in `process'
actionview (7.1.5.1) lib/action_view/rendering.rb:40:in `process'
actionpack (7.1.5.1) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.5.1) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.12) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.12) lib/rack/etag.rb:29:in `call'
rack (3.1.12) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.12) lib/rack/head.rb:15:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/permissions_policy.rb:36:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:274:in `context'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:268:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (7.1.5.1) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.5.1) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.5.2) lib/sprockets/rails/quiet_assets.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.12) lib/rack/method_override.rb:28:in `call'
rack (3.1.12) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.12) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (7.1.5.1) lib/rails/engine.rb:536:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started GET "/" for ::1 at 2025-03-23 10:46:26 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1098)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | Allocations: 3157)
Completed 200 OK in 15ms (Views: 10.4ms | ActiveRecord: 0.2ms | Allocations: 4173)


Started GET "/updates/1" for ::1 at 2025-03-23 10:46:28 -0700
Processing by PromptsessionController#change as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:12:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
  [1m[36mPromptSession Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
Completed 406 Not Acceptable in 10ms (ActiveRecord: 1.5ms | Allocations: 3666)


  
ActionController::MissingExactTemplate (PromptsessionController#change is missing a template for request formats: text/html):
  
actionpack (7.1.5.1) lib/action_controller/metal/implicit_render.rb:47:in `default_render'
actionpack (7.1.5.1) lib/action_controller/metal/basic_implicit_render.rb:7:in `send_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:224:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rendering.rb:165:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:259:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:121:in `block in run_callbacks'
turbo-rails (2.0.13) lib/turbo-rails.rb:24:in `with_request_id'
turbo-rails (2.0.13) app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
actiontext (7.1.5.1) lib/action_text/rendering.rb:23:in `with_renderer'
actiontext (7.1.5.1) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `instance_exec'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:141:in `run_callbacks'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:258:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rescue.rb:25:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.1.5.1) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:73:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
activerecord (7.1.5.1) lib/active_record/railties/controller_runtime.rb:32:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:160:in `process'
actionview (7.1.5.1) lib/action_view/rendering.rb:40:in `process'
actionpack (7.1.5.1) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.5.1) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.12) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.12) lib/rack/etag.rb:29:in `call'
rack (3.1.12) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.12) lib/rack/head.rb:15:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/permissions_policy.rb:36:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:274:in `context'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:268:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (7.1.5.1) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.5.1) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.5.2) lib/sprockets/rails/quiet_assets.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.12) lib/rack/method_override.rb:28:in `call'
rack (3.1.12) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.12) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (7.1.5.1) lib/rails/engine.rb:536:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started GET "/" for ::1 at 2025-03-23 10:46:28 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1098)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 3157)
Completed 200 OK in 14ms (Views: 9.6ms | ActiveRecord: 0.2ms | Allocations: 4179)


Started GET "/updates/1" for ::1 at 2025-03-23 10:46:34 -0700
Processing by PromptsessionController#change as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:12:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
  [1m[36mPromptSession Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
Completed 406 Not Acceptable in 55ms (ActiveRecord: 7.4ms | Allocations: 15725)


  
ActionController::MissingExactTemplate (PromptsessionController#change is missing a template for request formats: text/html):
  
actionpack (7.1.5.1) lib/action_controller/metal/implicit_render.rb:47:in `default_render'
actionpack (7.1.5.1) lib/action_controller/metal/basic_implicit_render.rb:7:in `send_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:224:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rendering.rb:165:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:259:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:121:in `block in run_callbacks'
turbo-rails (2.0.13) lib/turbo-rails.rb:24:in `with_request_id'
turbo-rails (2.0.13) app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
actiontext (7.1.5.1) lib/action_text/rendering.rb:23:in `with_renderer'
actiontext (7.1.5.1) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `instance_exec'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:141:in `run_callbacks'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:258:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rescue.rb:25:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.1.5.1) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:73:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
activerecord (7.1.5.1) lib/active_record/railties/controller_runtime.rb:32:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:160:in `process'
actionview (7.1.5.1) lib/action_view/rendering.rb:40:in `process'
actionpack (7.1.5.1) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.5.1) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.12) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.12) lib/rack/etag.rb:29:in `call'
rack (3.1.12) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.12) lib/rack/head.rb:15:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/permissions_policy.rb:36:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:274:in `context'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:268:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (7.1.5.1) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.5.1) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.5.2) lib/sprockets/rails/quiet_assets.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.12) lib/rack/method_override.rb:28:in `call'
rack (3.1.12) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.12) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (7.1.5.1) lib/rails/engine.rb:536:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started GET "/" for ::1 at 2025-03-23 10:46:34 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 6.0ms | Allocations: 4742)
  Rendered shared/_flash.html.erb (Duration: 0.8ms | Allocations: 204)
  Rendered layout layouts/application.html.erb (Duration: 47.7ms | Allocations: 21325)
Completed 200 OK in 62ms (Views: 54.6ms | ActiveRecord: 0.2ms | Allocations: 23463)


Started POST "/good_feed" for ::1 at 2025-03-23 10:46:37 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}}
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000022c52258e80>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000022c52258e80>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000022c52258e80>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (0.9ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Very helpful agent"], ["created_at", "2025-03-23 17:46:37.808861"], ["updated_at", "2025-03-23 17:46:37.808861"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 2], ["feedback", "You are a top-performing customer service agent. \n"], ["updated_at", "2025-03-23 17:46:38.352611"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 100], ["updated_at", "2025-03-23 17:46:39.011296"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
Completed 200 OK in 1214ms (Views: 0.1ms | ActiveRecord: 5.8ms | Allocations: 10871)


Started POST "/good_feed" for ::1 at 2025-03-23 10:46:39 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}}
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000022c52638528>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000022c52638528>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000022c52638528>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.0ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Very helpful agent"], ["created_at", "2025-03-23 17:46:39.817302"], ["updated_at", "2025-03-23 17:46:39.817302"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 3], ["feedback", "You are a top-performing customer service agent.  \n"], ["updated_at", "2025-03-23 17:46:40.178281"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
Completed 200 OK in 716ms (Views: 0.1ms | ActiveRecord: 4.0ms | Allocations: 7099)


Started GET "/" for ::1 at 2025-03-23 10:46:41 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1101)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 11.2ms | Allocations: 3140)
Completed 200 OK in 17ms (Views: 11.9ms | ActiveRecord: 0.2ms | Allocations: 4164)


Started GET "/updates/1" for ::1 at 2025-03-23 10:46:43 -0700
Processing by PromptsessionController#change as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:12:in `change'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
  [1m[36mPromptSession Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "feedback" = ?, "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["feedback", nil], ["prompt_sim", 0], ["updated_at", "2025-03-23 17:46:43.286339"], ["id", 1]]
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
Completed 406 Not Acceptable in 12ms (ActiveRecord: 1.7ms | Allocations: 3886)


  
ActionController::MissingExactTemplate (PromptsessionController#change is missing a template for request formats: text/html):
  
actionpack (7.1.5.1) lib/action_controller/metal/implicit_render.rb:47:in `default_render'
actionpack (7.1.5.1) lib/action_controller/metal/basic_implicit_render.rb:7:in `send_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:224:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rendering.rb:165:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:259:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:121:in `block in run_callbacks'
turbo-rails (2.0.13) lib/turbo-rails.rb:24:in `with_request_id'
turbo-rails (2.0.13) app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
actiontext (7.1.5.1) lib/action_text/rendering.rb:23:in `with_renderer'
actiontext (7.1.5.1) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `instance_exec'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:141:in `run_callbacks'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:258:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rescue.rb:25:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.1.5.1) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:73:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
activerecord (7.1.5.1) lib/active_record/railties/controller_runtime.rb:32:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:160:in `process'
actionview (7.1.5.1) lib/action_view/rendering.rb:40:in `process'
actionpack (7.1.5.1) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.5.1) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.12) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.12) lib/rack/etag.rb:29:in `call'
rack (3.1.12) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.12) lib/rack/head.rb:15:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/permissions_policy.rb:36:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:274:in `context'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:268:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (7.1.5.1) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.5.1) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.5.2) lib/sprockets/rails/quiet_assets.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.12) lib/rack/method_override.rb:28:in `call'
rack (3.1.12) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.12) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (7.1.5.1) lib/rails/engine.rb:536:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started GET "/" for ::1 at 2025-03-23 10:46:43 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1099)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 10.2ms | Allocations: 3158)
Completed 200 OK in 15ms (Views: 10.9ms | ActiveRecord: 0.2ms | Allocations: 4195)


Started GET "/" for ::1 at 2025-03-23 10:47:01 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.7ms | Allocations: 4801)
  Rendered shared/_flash.html.erb (Duration: 0.6ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 36.5ms | Allocations: 21339)
Completed 200 OK in 71ms (Views: 43.3ms | ActiveRecord: 3.6ms | Allocations: 34350)


Started GET "/updates/1" for ::1 at 2025-03-23 10:47:02 -0700
Processing by PromptsessionController#change as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:12:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
  [1m[36mPromptSession Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
Completed 406 Not Acceptable in 19ms (ActiveRecord: 1.6ms | Allocations: 4827)


  
ActionController::MissingExactTemplate (PromptsessionController#change is missing a template for request formats: text/html):
  
actionpack (7.1.5.1) lib/action_controller/metal/implicit_render.rb:47:in `default_render'
actionpack (7.1.5.1) lib/action_controller/metal/basic_implicit_render.rb:7:in `send_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:224:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rendering.rb:165:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:259:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:121:in `block in run_callbacks'
turbo-rails (2.0.13) lib/turbo-rails.rb:24:in `with_request_id'
turbo-rails (2.0.13) app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
actiontext (7.1.5.1) lib/action_text/rendering.rb:23:in `with_renderer'
actiontext (7.1.5.1) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `instance_exec'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:141:in `run_callbacks'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:258:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rescue.rb:25:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.1.5.1) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:73:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
activerecord (7.1.5.1) lib/active_record/railties/controller_runtime.rb:32:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:160:in `process'
actionview (7.1.5.1) lib/action_view/rendering.rb:40:in `process'
actionpack (7.1.5.1) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.5.1) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.12) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.12) lib/rack/etag.rb:29:in `call'
rack (3.1.12) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.12) lib/rack/head.rb:15:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/permissions_policy.rb:36:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:274:in `context'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:268:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (7.1.5.1) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.5.1) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.5.2) lib/sprockets/rails/quiet_assets.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.12) lib/rack/method_override.rb:28:in `call'
rack (3.1.12) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.12) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (7.1.5.1) lib/rails/engine.rb:536:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started GET "/" for ::1 at 2025-03-23 10:47:03 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1099)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 11.7ms | Allocations: 3158)
Completed 200 OK in 17ms (Views: 12.3ms | ActiveRecord: 0.3ms | Allocations: 4174)


Started POST "/good_feed" for ::1 at 2025-03-23 10:47:05 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}}
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000022c51d59e20>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000022c51d59e20>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000022c51d59e20>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.2ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Very helpful agent"], ["created_at", "2025-03-23 17:47:05.864225"], ["updated_at", "2025-03-23 17:47:05.864225"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 4], ["feedback", "You are a top-performing customer service agent.  \n"], ["updated_at", "2025-03-23 17:47:06.299739"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 100], ["updated_at", "2025-03-23 17:47:06.959866"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
Completed 200 OK in 1108ms (Views: 0.2ms | ActiveRecord: 5.6ms | Allocations: 10840)


Started GET "/" for ::1 at 2025-03-23 10:47:07 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1101)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.9ms | Allocations: 3129)
Completed 200 OK in 15ms (Views: 10.5ms | ActiveRecord: 0.2ms | Allocations: 4147)


Started GET "/updates/1" for ::1 at 2025-03-23 10:47:08 -0700
Processing by PromptsessionController#change as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:12:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
  [1m[36mPromptSession Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "feedback" = ?, "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["feedback", nil], ["prompt_sim", nil], ["updated_at", "2025-03-23 17:47:08.687360"], ["id", 1]]
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
Completed 406 Not Acceptable in 11ms (ActiveRecord: 1.4ms | Allocations: 3859)


  
ActionController::MissingExactTemplate (PromptsessionController#change is missing a template for request formats: text/html):
  
actionpack (7.1.5.1) lib/action_controller/metal/implicit_render.rb:47:in `default_render'
actionpack (7.1.5.1) lib/action_controller/metal/basic_implicit_render.rb:7:in `send_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:224:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rendering.rb:165:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:259:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:121:in `block in run_callbacks'
turbo-rails (2.0.13) lib/turbo-rails.rb:24:in `with_request_id'
turbo-rails (2.0.13) app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
actiontext (7.1.5.1) lib/action_text/rendering.rb:23:in `with_renderer'
actiontext (7.1.5.1) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `instance_exec'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:141:in `run_callbacks'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:258:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rescue.rb:25:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.1.5.1) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:73:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
activerecord (7.1.5.1) lib/active_record/railties/controller_runtime.rb:32:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:160:in `process'
actionview (7.1.5.1) lib/action_view/rendering.rb:40:in `process'
actionpack (7.1.5.1) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.5.1) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.12) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.12) lib/rack/etag.rb:29:in `call'
rack (3.1.12) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.12) lib/rack/head.rb:15:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/permissions_policy.rb:36:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:274:in `context'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:268:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (7.1.5.1) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.5.1) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.5.2) lib/sprockets/rails/quiet_assets.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.12) lib/rack/method_override.rb:28:in `call'
rack (3.1.12) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.12) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (7.1.5.1) lib/rails/engine.rb:536:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started GET "/" for ::1 at 2025-03-23 10:47:08 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1096)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 3155)
Completed 200 OK in 14ms (Views: 9.2ms | ActiveRecord: 0.2ms | Allocations: 4168)


Started POST "/bad_feed" for ::1 at 2025-03-23 10:47:17 -0700
Processing by BadfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}}
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000022c550c28c0>, params: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}} }[0m
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000022c550c28c0>, params: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000022c550c28c0>, params: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
  [1m[36mBadFeedback Create (1.1ms)[0m  [1m[32mINSERT INTO "bad_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Negative service, I don't like it"], ["created_at", "2025-03-23 17:47:17.586239"], ["updated_at", "2025-03-23 17:47:17.586239"]]
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:42:in `get_feedback'
  [1m[36mPromptSession Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:42:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "dislike_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["dislike_count", 1], ["feedback", "You are a customer service agent who often receives negative customer feedback.  \n"], ["updated_at", "2025-03-23 17:47:17.960080"], ["id", 1]]
  â†³ app/controllers/badfeedback_controller.rb:42:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:42:in `get_feedback'
Started GET "/" for ::1 at 2025-03-23 10:47:19 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (8.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.2ms | Allocations: 1131)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 16.1ms | Allocations: 3159)
Completed 200 OK in 33ms (Views: 16.7ms | ActiveRecord: 17.1ms | Allocations: 4421)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:65:in `get_feedback'
  [1m[36mPromptSession Exists? (3.4ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:65:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 66], ["updated_at", "2025-03-23 17:47:19.624776"], ["id", 1]]
  â†³ app/controllers/badfeedback_controller.rb:65:in `get_feedback'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:65:in `get_feedback'
Completed 200 OK in 2055ms (Views: 0.2ms | ActiveRecord: 7.4ms | Allocations: 16600)


Started GET "/" for ::1 at 2025-03-23 10:47:58 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 6.1ms | Allocations: 4800)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 40.7ms | Allocations: 21338)
Completed 200 OK in 74ms (Views: 47.3ms | ActiveRecord: 3.0ms | Allocations: 34261)


Started GET "/" for ::1 at 2025-03-23 10:48:00 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1099)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 3127)
Completed 200 OK in 14ms (Views: 9.0ms | ActiveRecord: 0.2ms | Allocations: 4142)


Started GET "/" for ::1 at 2025-03-23 10:48:01 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1099)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 3127)
Completed 200 OK in 14ms (Views: 9.2ms | ActiveRecord: 0.2ms | Allocations: 4128)


Started GET "/" for ::1 at 2025-03-23 10:48:02 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1099)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 10.2ms | Allocations: 3127)
Completed 200 OK in 15ms (Views: 10.9ms | ActiveRecord: 0.2ms | Allocations: 4134)


Started GET "/" for ::1 at 2025-03-23 10:48:03 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1099)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 3127)
Completed 200 OK in 14ms (Views: 9.2ms | ActiveRecord: 0.2ms | Allocations: 4155)


Started GET "/" for ::1 at 2025-03-23 10:48:04 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1099)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | Allocations: 3127)
Completed 200 OK in 14ms (Views: 9.9ms | ActiveRecord: 0.2ms | Allocations: 4116)


Started GET "/" for ::1 at 2025-03-23 10:48:04 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1099)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 3127)
Completed 200 OK in 14ms (Views: 9.2ms | ActiveRecord: 0.2ms | Allocations: 4134)


Started GET "/" for ::1 at 2025-03-23 10:48:05 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1099)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 3127)
Completed 200 OK in 15ms (Views: 9.8ms | ActiveRecord: 0.2ms | Allocations: 4164)


Started GET "/" for ::1 at 2025-03-23 10:48:06 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1099)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | Allocations: 3127)
Completed 200 OK in 16ms (Views: 10.3ms | ActiveRecord: 0.2ms | Allocations: 4155)


Started GET "/" for ::1 at 2025-03-23 10:48:06 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1099)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | Allocations: 3158)
Completed 200 OK in 15ms (Views: 10.1ms | ActiveRecord: 0.2ms | Allocations: 4204)


Started GET "/" for ::1 at 2025-03-23 10:48:07 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1099)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 10.9ms | Allocations: 3127)
Completed 200 OK in 16ms (Views: 11.5ms | ActiveRecord: 0.2ms | Allocations: 4137)


Started POST "/good_feed" for ::1 at 2025-03-23 10:48:17 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}}
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000022c5417ea80>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000022c5417ea80>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000022c5417ea80>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.1ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Very helpful agent"], ["created_at", "2025-03-23 17:48:17.870339"], ["updated_at", "2025-03-23 17:48:17.870339"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 5], ["feedback", "You are a top-performing customer service agent.  \n"], ["updated_at", "2025-03-23 17:48:18.368734"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Update (0.2ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 100], ["updated_at", "2025-03-23 17:48:18.898760"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
Completed 200 OK in 1044ms (Views: 0.3ms | ActiveRecord: 6.9ms | Allocations: 11800)


Started GET "/updates/1" for ::1 at 2025-03-23 10:48:24 -0700
Processing by PromptsessionController#change as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:12:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
  [1m[36mPromptSession Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "feedback" = ?, "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["feedback", nil], ["prompt_sim", nil], ["updated_at", "2025-03-23 17:48:24.237771"], ["id", 1]]
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
Completed 406 Not Acceptable in 19ms (ActiveRecord: 1.7ms | Allocations: 4109)


  
ActionController::MissingExactTemplate (PromptsessionController#change is missing a template for request formats: text/html):
  
actionpack (7.1.5.1) lib/action_controller/metal/implicit_render.rb:47:in `default_render'
actionpack (7.1.5.1) lib/action_controller/metal/basic_implicit_render.rb:7:in `send_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:224:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rendering.rb:165:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:259:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:121:in `block in run_callbacks'
turbo-rails (2.0.13) lib/turbo-rails.rb:24:in `with_request_id'
turbo-rails (2.0.13) app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
actiontext (7.1.5.1) lib/action_text/rendering.rb:23:in `with_renderer'
actiontext (7.1.5.1) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `instance_exec'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:141:in `run_callbacks'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:258:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rescue.rb:25:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.1.5.1) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:73:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
activerecord (7.1.5.1) lib/active_record/railties/controller_runtime.rb:32:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:160:in `process'
actionview (7.1.5.1) lib/action_view/rendering.rb:40:in `process'
actionpack (7.1.5.1) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.5.1) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.12) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.12) lib/rack/etag.rb:29:in `call'
rack (3.1.12) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.12) lib/rack/head.rb:15:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/permissions_policy.rb:36:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:274:in `context'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:268:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (7.1.5.1) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.5.1) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.5.2) lib/sprockets/rails/quiet_assets.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.12) lib/rack/method_override.rb:28:in `call'
rack (3.1.12) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.12) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (7.1.5.1) lib/rails/engine.rb:536:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started GET "/" for ::1 at 2025-03-23 10:48:24 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1094)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | Allocations: 3153)
Completed 200 OK in 14ms (Views: 9.6ms | ActiveRecord: 0.2ms | Allocations: 4175)


Started GET "/" for ::1 at 2025-03-23 10:48:27 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1094)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | Allocations: 3122)
Completed 200 OK in 15ms (Views: 10.3ms | ActiveRecord: 0.2ms | Allocations: 4135)


Started POST "/good_feed" for ::1 at 2025-03-23 10:48:30 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}}
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000022c541743a0>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000022c541743a0>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000022c541743a0>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.0ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Very helpful agent"], ["created_at", "2025-03-23 17:48:30.859273"], ["updated_at", "2025-03-23 17:48:30.859273"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 6], ["feedback", "You are a top-performing customer service agent. \n"], ["updated_at", "2025-03-23 17:48:31.269373"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 100], ["updated_at", "2025-03-23 17:48:31.722550"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
Completed 200 OK in 871ms (Views: 0.1ms | ActiveRecord: 4.6ms | Allocations: 7625)


Started GET "/" for ::1 at 2025-03-23 10:48:32 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1099)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | Allocations: 3127)
Completed 200 OK in 14ms (Views: 9.5ms | ActiveRecord: 0.2ms | Allocations: 4131)


Started POST "/bad_feed" for ::1 at 2025-03-23 10:48:37 -0700
Processing by BadfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}}
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000022c51a13ea0>, params: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}} }[0m
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000022c51a13ea0>, params: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000022c51a13ea0>, params: {"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Negative service, I don't like it"}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
  [1m[36mBadFeedback Create (1.0ms)[0m  [1m[32mINSERT INTO "bad_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Negative service, I don't like it"], ["created_at", "2025-03-23 17:48:38.163237"], ["updated_at", "2025-03-23 17:48:38.163237"]]
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:42:in `get_feedback'
  [1m[36mPromptSession Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:42:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "dislike_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["dislike_count", 2], ["feedback", "You are a customer service agent struggling to meet performance standards.  \n"], ["updated_at", "2025-03-23 17:48:38.606804"], ["id", 1]]
  â†³ app/controllers/badfeedback_controller.rb:42:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:42:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:65:in `get_feedback'
  [1m[36mPromptSession Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:65:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 78], ["updated_at", "2025-03-23 17:48:39.927229"], ["id", 1]]
  â†³ app/controllers/badfeedback_controller.rb:65:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:65:in `get_feedback'
Completed 200 OK in 1779ms (Views: 0.2ms | ActiveRecord: 4.1ms | Allocations: 10673)


Started GET "/" for ::1 at 2025-03-23 10:48:41 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1099)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | Allocations: 3158)
Completed 200 OK in 14ms (Views: 10.0ms | ActiveRecord: 0.1ms | Allocations: 4167)


Started GET "/updates/1" for ::1 at 2025-03-23 10:48:56 -0700
Processing by PromptsessionController#change as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:12:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
  [1m[36mPromptSession Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "system_prompt" = ?, "feedback" = ?, "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["system_prompt", "You are a customer service agent struggling to meet performance standards.  \n"], ["feedback", nil], ["prompt_sim", nil], ["updated_at", "2025-03-23 17:48:56.449982"], ["id", 1]]
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
Completed 406 Not Acceptable in 13ms (ActiveRecord: 1.6ms | Allocations: 3863)


  
ActionController::MissingExactTemplate (PromptsessionController#change is missing a template for request formats: text/html):
  
actionpack (7.1.5.1) lib/action_controller/metal/implicit_render.rb:47:in `default_render'
actionpack (7.1.5.1) lib/action_controller/metal/basic_implicit_render.rb:7:in `send_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:224:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rendering.rb:165:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:259:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:121:in `block in run_callbacks'
turbo-rails (2.0.13) lib/turbo-rails.rb:24:in `with_request_id'
turbo-rails (2.0.13) app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
actiontext (7.1.5.1) lib/action_text/rendering.rb:23:in `with_renderer'
actiontext (7.1.5.1) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `instance_exec'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:141:in `run_callbacks'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:258:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rescue.rb:25:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.1.5.1) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:73:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
activerecord (7.1.5.1) lib/active_record/railties/controller_runtime.rb:32:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:160:in `process'
actionview (7.1.5.1) lib/action_view/rendering.rb:40:in `process'
actionpack (7.1.5.1) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.5.1) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.12) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.12) lib/rack/etag.rb:29:in `call'
rack (3.1.12) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.12) lib/rack/head.rb:15:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/permissions_policy.rb:36:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:274:in `context'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:268:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (7.1.5.1) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.5.1) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.5.2) lib/sprockets/rails/quiet_assets.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.12) lib/rack/method_override.rb:28:in `call'
rack (3.1.12) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.12) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (7.1.5.1) lib/rails/engine.rb:536:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started GET "/" for ::1 at 2025-03-23 10:48:56 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1094)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | Allocations: 3153)
Completed 200 OK in 15ms (Views: 9.9ms | ActiveRecord: 0.2ms | Allocations: 4163)


Started GET "/" for ::1 at 2025-03-23 10:48:59 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1094)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | Allocations: 3122)
Completed 200 OK in 14ms (Views: 10.0ms | ActiveRecord: 0.2ms | Allocations: 4132)


Started GET "/" for ::1 at 2025-03-23 10:48:59 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1094)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 3122)
Completed 200 OK in 14ms (Views: 9.1ms | ActiveRecord: 0.2ms | Allocations: 4141)


Started POST "/good_feed" for ::1 at 2025-03-23 10:49:01 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}}
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000022c5243a6e0>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000022c5243a6e0>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000022c5243a6e0>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (2.0ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Very helpful agent"], ["created_at", "2025-03-23 17:49:02.073077"], ["updated_at", "2025-03-23 17:49:02.073077"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 7], ["feedback", "You are a dedicated customer service agent committed to exceeding performance standards.  \n"], ["updated_at", "2025-03-23 17:49:02.500504"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Update (0.2ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 87], ["updated_at", "2025-03-23 17:49:02.953364"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
Completed 200 OK in 890ms (Views: 0.2ms | ActiveRecord: 5.5ms | Allocations: 7754)


Started GET "/" for ::1 at 2025-03-23 10:49:03 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1099)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 3127)
Completed 200 OK in 14ms (Views: 9.5ms | ActiveRecord: 0.2ms | Allocations: 4152)


Started POST "/new_prompt" for ::1 at 2025-03-23 10:49:17 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"2", "system_prompt"=>"Prompt 3 long super long like acutally long aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"}, "commit"=>"Create Prompt"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:35:in `set_prompt'
  [1m[36mPromptSession Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 2], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:35:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:35:in `set_prompt'
  [1m[36mPromptSession Create (0.2ms)[0m  [1m[32mINSERT INTO "prompt_sessions" ("uid", "system_prompt", "like_count", "dislike_count", "feedback", "prompt_sim", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["uid", 2], ["system_prompt", "Prompt 3 long super long like acutally long aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["like_count", 0], ["dislike_count", 0], ["feedback", nil], ["prompt_sim", nil], ["user_id", 1], ["created_at", "2025-03-23 17:49:18.057497"], ["updated_at", "2025-03-23 17:49:18.057497"]]
  â†³ app/controllers/promptsession_controller.rb:35:in `set_prompt'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/promptsession_controller.rb:35:in `set_prompt'
Redirected to http://localhost:3000/
Completed 302 Found in 13ms (ActiveRecord: 1.5ms | Allocations: 4719)


Started GET "/" for ::1 at 2025-03-23 10:49:18 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1161)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | Allocations: 3195)
Completed 200 OK in 15ms (Views: 10.7ms | ActiveRecord: 0.2ms | Allocations: 4222)


Started GET "/updates/1" for ::1 at 2025-03-23 10:49:23 -0700
Processing by PromptsessionController#change as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:12:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
  [1m[36mPromptSession Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
  [1m[36mPromptSession Update (0.2ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "system_prompt" = ?, "feedback" = ?, "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["system_prompt", "You are a dedicated customer service agent committed to exceeding performance standards.  \n"], ["feedback", nil], ["prompt_sim", nil], ["updated_at", "2025-03-23 17:49:23.432056"], ["id", 1]]
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
Completed 406 Not Acceptable in 13ms (ActiveRecord: 1.6ms | Allocations: 3868)


  
ActionController::MissingExactTemplate (PromptsessionController#change is missing a template for request formats: text/html):
  
actionpack (7.1.5.1) lib/action_controller/metal/implicit_render.rb:47:in `default_render'
actionpack (7.1.5.1) lib/action_controller/metal/basic_implicit_render.rb:7:in `send_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:224:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rendering.rb:165:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:259:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:121:in `block in run_callbacks'
turbo-rails (2.0.13) lib/turbo-rails.rb:24:in `with_request_id'
turbo-rails (2.0.13) app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
actiontext (7.1.5.1) lib/action_text/rendering.rb:23:in `with_renderer'
actiontext (7.1.5.1) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `instance_exec'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:141:in `run_callbacks'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:258:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rescue.rb:25:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.1.5.1) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:73:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
activerecord (7.1.5.1) lib/active_record/railties/controller_runtime.rb:32:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:160:in `process'
actionview (7.1.5.1) lib/action_view/rendering.rb:40:in `process'
actionpack (7.1.5.1) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.5.1) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.12) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.12) lib/rack/etag.rb:29:in `call'
rack (3.1.12) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.12) lib/rack/head.rb:15:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/permissions_policy.rb:36:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:274:in `context'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:268:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (7.1.5.1) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.5.1) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.5.2) lib/sprockets/rails/quiet_assets.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.12) lib/rack/method_override.rb:28:in `call'
rack (3.1.12) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.12) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (7.1.5.1) lib/rails/engine.rb:536:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started GET "/" for ::1 at 2025-03-23 10:49:23 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1156)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 3215)
Completed 200 OK in 14ms (Views: 9.7ms | ActiveRecord: 0.2ms | Allocations: 4231)


Started POST "/good_feed" for ::1 at 2025-03-23 10:49:27 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}}
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000022c5417b240>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000022c5417b240>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000022c5417b240>, params: {"prompt_session_id"=>1, "comment"=>"Very helpful agent", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Very helpful agent"}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (0.9ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Very helpful agent"], ["created_at", "2025-03-23 17:49:27.821833"], ["updated_at", "2025-03-23 17:49:27.821833"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 8], ["feedback", "You are a dedicated customer service agent committed to exceeding performance standards and providing exceptional support.  \n"], ["updated_at", "2025-03-23 17:49:28.299817"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 96], ["updated_at", "2025-03-23 17:49:29.061977"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
Completed 200 OK in 1248ms (Views: 0.1ms | ActiveRecord: 3.7ms | Allocations: 7653)


Started GET "/" for ::1 at 2025-03-23 10:49:30 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1161)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 3189)
Completed 200 OK in 14ms (Views: 9.2ms | ActiveRecord: 0.2ms | Allocations: 4202)


Started GET "/updates/1" for ::1 at 2025-03-23 10:49:46 -0700
Processing by PromptsessionController#change as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:12:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
  [1m[36mPromptSession Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "system_prompt" = ?, "feedback" = ?, "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["system_prompt", "You are a dedicated customer service agent committed to exceeding performance standards and providing exceptional support.  \n"], ["feedback", nil], ["prompt_sim", nil], ["updated_at", "2025-03-23 17:49:46.677288"], ["id", 1]]
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
Completed 406 Not Acceptable in 11ms (ActiveRecord: 1.6ms | Allocations: 3873)


  
ActionController::MissingExactTemplate (PromptsessionController#change is missing a template for request formats: text/html):
  
actionpack (7.1.5.1) lib/action_controller/metal/implicit_render.rb:47:in `default_render'
actionpack (7.1.5.1) lib/action_controller/metal/basic_implicit_render.rb:7:in `send_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:224:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rendering.rb:165:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:259:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:121:in `block in run_callbacks'
turbo-rails (2.0.13) lib/turbo-rails.rb:24:in `with_request_id'
turbo-rails (2.0.13) app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
actiontext (7.1.5.1) lib/action_text/rendering.rb:23:in `with_renderer'
actiontext (7.1.5.1) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `instance_exec'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:141:in `run_callbacks'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:258:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rescue.rb:25:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.1.5.1) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:73:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
activerecord (7.1.5.1) lib/active_record/railties/controller_runtime.rb:32:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:160:in `process'
actionview (7.1.5.1) lib/action_view/rendering.rb:40:in `process'
actionpack (7.1.5.1) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.5.1) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.12) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.12) lib/rack/etag.rb:29:in `call'
rack (3.1.12) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.12) lib/rack/head.rb:15:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/permissions_policy.rb:36:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:274:in `context'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:268:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (7.1.5.1) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.5.1) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.5.2) lib/sprockets/rails/quiet_assets.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.12) lib/rack/method_override.rb:28:in `call'
rack (3.1.12) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.12) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (7.1.5.1) lib/rails/engine.rb:536:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started GET "/" for ::1 at 2025-03-23 10:49:46 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1156)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 10.1ms | Allocations: 3215)
Completed 200 OK in 15ms (Views: 10.7ms | ActiveRecord: 0.2ms | Allocations: 4237)


  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-03-23 17:51:44.904815', '2025-03-23 17:51:44.904818') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20250322211111)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar, "email" varchar, "password_digest" varchar, "session_token" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322211111') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePromptSessions (20250322224855)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "prompt_sessions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "uid" integer, "system_prompt" varchar, "like_count" integer, "dislike_count" integer, "feedback" varchar, "prompt_sim" integer, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_8e5cfb463f"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_prompt_sessions_on_user_id" ON "prompt_sessions" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322224855') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateGoodFeedbacks (20250322233105)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "good_feedbacks" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "prompt_session_id" integer NOT NULL, "comment" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_d830e5dfaa"
FOREIGN KEY ("prompt_session_id")
  REFERENCES "prompt_sessions" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_good_feedbacks_on_prompt_session_id" ON "good_feedbacks" ("prompt_session_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322233105') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateBadFeedbacks (20250322233120)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "bad_feedbacks" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "prompt_session_id" integer NOT NULL, "comment" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a944aabc96"
FOREIGN KEY ("prompt_session_id")
  REFERENCES "prompt_sessions" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bad_feedbacks_on_prompt_session_id" ON "bad_feedbacks" ("prompt_session_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250322233120') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2025-03-23 10:53:12 -0700
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 9.0ms | Allocations: 4088)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 237)
  Rendered layout layouts/application.html.erb (Duration: 95.9ms | Allocations: 40233)
Completed 200 OK in 197ms (Views: 108.4ms | ActiveRecord: 2.9ms | Allocations: 66594)


Started GET "/sign-in" for ::1 at 2025-03-23 10:53:15 -0700
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1136)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 10.1ms | Allocations: 3173)
Completed 200 OK in 27ms (Views: 14.8ms | ActiveRecord: 0.2ms | Allocations: 8488)


Started GET "/sign-up" for ::1 at 2025-03-23 10:53:16 -0700
Processing by RegistrationsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1432)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 3498)
Completed 200 OK in 20ms (Views: 13.4ms | ActiveRecord: 0.1ms | Allocations: 4701)


Started POST "/sign-up" for ::1 at 2025-03-23 10:53:20 -0700
Processing by RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user1", "email"=>"james.johnsonn9779@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "user1"], ["LIMIT", 1]]
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "session_token", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["username", "user1"], ["email", "james.johnsonn9779@gmail.com"], ["password_digest", "[FILTERED]"], ["session_token", "[FILTERED]"], ["created_at", "2025-03-23 17:53:20.561821"], ["updated_at", "2025-03-23 17:53:20.561821"]]
  â†³ app/controllers/registrations_controller.rb:8:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/registrations_controller.rb:8:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 194ms (ActiveRecord: 2.7ms | Allocations: 5276)


Started GET "/" for ::1 at 2025-03-23 10:53:20 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 6.3ms | Allocations: 2352)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 30)
  Rendered layout layouts/application.html.erb (Duration: 13.4ms | Allocations: 4399)
Completed 200 OK in 27ms (Views: 14.1ms | ActiveRecord: 0.2ms | Allocations: 7067)


Started POST "/new_prompt" for ::1 at 2025-03-23 10:53:31 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"1", "system_prompt"=>"You are a 10x customer service agent"}, "commit"=>"Create Prompt"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:35:in `set_prompt'
  [1m[36mPromptSession Exists? (3.2ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:35:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:35:in `set_prompt'
  [1m[36mPromptSession Create (0.2ms)[0m  [1m[32mINSERT INTO "prompt_sessions" ("uid", "system_prompt", "like_count", "dislike_count", "feedback", "prompt_sim", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["uid", 1], ["system_prompt", "You are a 10x customer service agent"], ["like_count", 0], ["dislike_count", 0], ["feedback", nil], ["prompt_sim", nil], ["user_id", 1], ["created_at", "2025-03-23 17:53:31.587777"], ["updated_at", "2025-03-23 17:53:31.587777"]]
  â†³ app/controllers/promptsession_controller.rb:35:in `set_prompt'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/promptsession_controller.rb:35:in `set_prompt'
Redirected to http://localhost:3000/
Completed 302 Found in 35ms (ActiveRecord: 3.6ms | Allocations: 5997)


Started GET "/" for ::1 at 2025-03-23 10:53:31 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1151)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 3217)
Completed 200 OK in 16ms (Views: 9.2ms | ActiveRecord: 0.2ms | Allocations: 4261)


Started POST "/bad_feed" for ::1 at 2025-03-23 10:54:14 -0700
Processing by BadfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"I don't like this response, I prefer paragraphs.", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"I don't like this response, I prefer paragraphs."}}
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000002332fe74898>, params: {"prompt_session_id"=>1, "comment"=>"I don't like this response, I prefer paragraphs.", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"I don't like this response, I prefer paragraphs."}} }[0m
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000002332fe74898>, params: {"prompt_session_id"=>1, "comment"=>"I don't like this response, I prefer paragraphs.", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"I don't like this response, I prefer paragraphs."}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000002332fe74898>, params: {"prompt_session_id"=>1, "comment"=>"I don't like this response, I prefer paragraphs.", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"I don't like this response, I prefer paragraphs."}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
  [1m[36mBadFeedback Create (1.1ms)[0m  [1m[32mINSERT INTO "bad_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "I don't like this response, I prefer paragraphs."], ["created_at", "2025-03-23 17:54:14.447449"], ["updated_at", "2025-03-23 17:54:14.447449"]]
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:42:in `get_feedback'
  [1m[36mPromptSession Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:42:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "dislike_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["dislike_count", 1], ["feedback", "You are a 10x customer service agent. Provide your responses in paragraph format.  \n"], ["updated_at", "2025-03-23 17:54:15.079397"], ["id", 1]]
  â†³ app/controllers/badfeedback_controller.rb:42:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:42:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:65:in `get_feedback'
  [1m[36mPromptSession Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:65:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 64], ["updated_at", "2025-03-23 17:54:16.016860"], ["id", 1]]
  â†³ app/controllers/badfeedback_controller.rb:65:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:65:in `get_feedback'
Completed 200 OK in 1589ms (Views: 0.2ms | ActiveRecord: 4.7ms | Allocations: 13198)


Started GET "/" for ::1 at 2025-03-23 10:54:16 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1117)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 26)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 3194)
Completed 200 OK in 15ms (Views: 10.2ms | ActiveRecord: 0.2ms | Allocations: 4237)


Started GET "/" for ::1 at 2025-03-23 10:54:21 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1099)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | Allocations: 3127)
Completed 200 OK in 14ms (Views: 9.4ms | ActiveRecord: 0.2ms | Allocations: 4143)


Started GET "/" for ::1 at 2025-03-23 10:54:22 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1099)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | Allocations: 3127)
Completed 200 OK in 16ms (Views: 11.7ms | ActiveRecord: 0.2ms | Allocations: 4167)


Started GET "/" for ::1 at 2025-03-23 10:54:22 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1099)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 15.2ms | Allocations: 3127)
Completed 200 OK in 21ms (Views: 15.8ms | ActiveRecord: 0.2ms | Allocations: 4131)


Started GET "/" for ::1 at 2025-03-23 10:54:22 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1099)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 3159)
Completed 200 OK in 20ms (Views: 9.4ms | ActiveRecord: 0.2ms | Allocations: 4175)


Started GET "/" for ::1 at 2025-03-23 10:54:22 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1099)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 3159)
Completed 200 OK in 14ms (Views: 9.8ms | ActiveRecord: 0.2ms | Allocations: 4177)


Started GET "/" for ::1 at 2025-03-23 10:54:22 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1099)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 3127)
Completed 200 OK in 14ms (Views: 9.7ms | ActiveRecord: 0.2ms | Allocations: 4144)


Started GET "/" for ::1 at 2025-03-23 10:54:22 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1099)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 10.7ms | Allocations: 3127)
Completed 200 OK in 16ms (Views: 11.3ms | ActiveRecord: 0.2ms | Allocations: 4131)


Started POST "/good_feed" for ::1 at 2025-03-23 10:54:38 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Great service, very friendly", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Great service, very friendly"}}
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000002332f7b48a0>, params: {"prompt_session_id"=>1, "comment"=>"Great service, very friendly", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Great service, very friendly"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000002332f7b48a0>, params: {"prompt_session_id"=>1, "comment"=>"Great service, very friendly", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Great service, very friendly"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000002332f7b48a0>, params: {"prompt_session_id"=>1, "comment"=>"Great service, very friendly", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Great service, very friendly"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.1ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Great service, very friendly"], ["created_at", "2025-03-23 17:54:38.452972"], ["updated_at", "2025-03-23 17:54:38.452972"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 1], ["feedback", "You are a friendly and helpful 10x customer service agent.  \n"], ["updated_at", "2025-03-23 17:54:39.877247"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
Started GET "/" for ::1 at 2025-03-23 10:54:39 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (9.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1133)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.7ms | Allocations: 3193)
Completed 200 OK in 26ms (Views: 10.3ms | ActiveRecord: 17.6ms | Allocations: 4726)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 70], ["updated_at", "2025-03-23 17:54:40.550880"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
Completed 200 OK in 2113ms (Views: 0.1ms | ActiveRecord: 4.1ms | Allocations: 16642)


Started GET "/updates/1" for ::1 at 2025-03-23 10:55:18 -0700
Processing by PromptsessionController#change as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:12:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
  [1m[36mPromptSession Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "system_prompt" = ?, "feedback" = ?, "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["system_prompt", "You are a friendly and helpful 10x customer service agent.  \n"], ["feedback", nil], ["prompt_sim", nil], ["updated_at", "2025-03-23 17:55:19.072357"], ["id", 1]]
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
Completed 406 Not Acceptable in 19ms (ActiveRecord: 1.6ms | Allocations: 4146)


  
ActionController::MissingExactTemplate (PromptsessionController#change is missing a template for request formats: text/html):
  
actionpack (7.1.5.1) lib/action_controller/metal/implicit_render.rb:47:in `default_render'
actionpack (7.1.5.1) lib/action_controller/metal/basic_implicit_render.rb:7:in `send_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:224:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rendering.rb:165:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:259:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:121:in `block in run_callbacks'
turbo-rails (2.0.13) lib/turbo-rails.rb:24:in `with_request_id'
turbo-rails (2.0.13) app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
actiontext (7.1.5.1) lib/action_text/rendering.rb:23:in `with_renderer'
actiontext (7.1.5.1) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `instance_exec'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:141:in `run_callbacks'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:258:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rescue.rb:25:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.1.5.1) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:73:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
activerecord (7.1.5.1) lib/active_record/railties/controller_runtime.rb:32:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:160:in `process'
actionview (7.1.5.1) lib/action_view/rendering.rb:40:in `process'
actionpack (7.1.5.1) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.5.1) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.12) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.12) lib/rack/etag.rb:29:in `call'
rack (3.1.12) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.12) lib/rack/head.rb:15:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/permissions_policy.rb:36:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:274:in `context'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:268:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (7.1.5.1) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.5.1) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.5.2) lib/sprockets/rails/quiet_assets.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.12) lib/rack/method_override.rb:28:in `call'
rack (3.1.12) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.12) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (7.1.5.1) lib/rails/engine.rb:536:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started GET "/" for ::1 at 2025-03-23 10:55:19 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1094)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | Allocations: 3154)
Completed 200 OK in 18ms (Views: 10.1ms | ActiveRecord: 0.2ms | Allocations: 4175)


Started POST "/new_prompt" for ::1 at 2025-03-23 10:55:29 -0700
Processing by PromptsessionController#set_prompt as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "prompt_session"=>{"uid"=>"123", "system_prompt"=>"Prompt 3 long super long like acutally long aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"}, "commit"=>"Create Prompt"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:35:in `set_prompt'
  [1m[36mPromptSession Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 123], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:35:in `set_prompt'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:35:in `set_prompt'
  [1m[36mPromptSession Create (0.2ms)[0m  [1m[32mINSERT INTO "prompt_sessions" ("uid", "system_prompt", "like_count", "dislike_count", "feedback", "prompt_sim", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["uid", 123], ["system_prompt", "Prompt 3 long super long like acutally long aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"], ["like_count", 0], ["dislike_count", 0], ["feedback", nil], ["prompt_sim", nil], ["user_id", 1], ["created_at", "2025-03-23 17:55:29.709021"], ["updated_at", "2025-03-23 17:55:29.709021"]]
  â†³ app/controllers/promptsession_controller.rb:35:in `set_prompt'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/promptsession_controller.rb:35:in `set_prompt'
Redirected to http://localhost:3000/
Completed 302 Found in 12ms (ActiveRecord: 1.8ms | Allocations: 3748)


Started GET "/" for ::1 at 2025-03-23 10:55:29 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1156)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 3190)
Completed 200 OK in 14ms (Views: 9.6ms | ActiveRecord: 0.2ms | Allocations: 4220)


Started POST "/good_feed" for ::1 at 2025-03-23 10:58:51 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Great service, very friendly", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Great service, very friendly"}}
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000002332fb5a5b8>, params: {"prompt_session_id"=>1, "comment"=>"Great service, very friendly", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Great service, very friendly"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000002332fb5a5b8>, params: {"prompt_session_id"=>1, "comment"=>"Great service, very friendly", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Great service, very friendly"}} }[0m
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000002332fb5a5b8>, params: {"prompt_session_id"=>1, "comment"=>"Great service, very friendly", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Great service, very friendly"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (5.0ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Great service, very friendly"], ["created_at", "2025-03-23 17:58:51.751255"], ["updated_at", "2025-03-23 17:58:51.751255"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (4.0ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 2], ["feedback", "You are a friendly and helpful customer service agent.  \n"], ["updated_at", "2025-03-23 17:58:52.556059"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
Started GET "/" for ::1 at 2025-03-23 10:58:53 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1159)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | Allocations: 3219)
Completed 200 OK in 22ms (Views: 10.4ms | ActiveRecord: 0.2ms | Allocations: 4241)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 90], ["updated_at", "2025-03-23 17:58:54.417414"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
Completed 200 OK in 2680ms (Views: 0.1ms | ActiveRecord: 11.1ms | Allocations: 13345)


Started GET "/" for ::1 at 2025-03-23 10:58:59 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1161)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 3189)
Completed 200 OK in 14ms (Views: 9.2ms | ActiveRecord: 0.2ms | Allocations: 4201)


Started GET "/" for ::1 at 2025-03-23 10:59:30 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1161)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.9ms | Allocations: 3189)
Completed 200 OK in 15ms (Views: 10.4ms | ActiveRecord: 0.2ms | Allocations: 4217)


Started GET "/" for ::1 at 2025-03-23 10:59:31 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1161)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | Allocations: 3189)
Completed 200 OK in 14ms (Views: 9.8ms | ActiveRecord: 0.2ms | Allocations: 4199)


Started GET "/" for ::1 at 2025-03-23 10:59:31 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.2ms | Allocations: 1161)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 11.6ms | Allocations: 3221)
Completed 200 OK in 17ms (Views: 12.0ms | ActiveRecord: 0.3ms | Allocations: 4234)


Started GET "/updates/1" for ::1 at 2025-03-23 10:59:39 -0700
Processing by PromptsessionController#change as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:12:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
  [1m[36mPromptSession Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "system_prompt" = ?, "feedback" = ?, "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["system_prompt", "You are a friendly and helpful customer service agent.  \n"], ["feedback", nil], ["prompt_sim", nil], ["updated_at", "2025-03-23 17:59:39.940550"], ["id", 1]]
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
Completed 406 Not Acceptable in 12ms (ActiveRecord: 1.6ms | Allocations: 3863)


  
ActionController::MissingExactTemplate (PromptsessionController#change is missing a template for request formats: text/html):
  
actionpack (7.1.5.1) lib/action_controller/metal/implicit_render.rb:47:in `default_render'
actionpack (7.1.5.1) lib/action_controller/metal/basic_implicit_render.rb:7:in `send_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:224:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rendering.rb:165:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:259:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:121:in `block in run_callbacks'
turbo-rails (2.0.13) lib/turbo-rails.rb:24:in `with_request_id'
turbo-rails (2.0.13) app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
actiontext (7.1.5.1) lib/action_text/rendering.rb:23:in `with_renderer'
actiontext (7.1.5.1) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `instance_exec'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:141:in `run_callbacks'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:258:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rescue.rb:25:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.1.5.1) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:73:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
activerecord (7.1.5.1) lib/active_record/railties/controller_runtime.rb:32:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:160:in `process'
actionview (7.1.5.1) lib/action_view/rendering.rb:40:in `process'
actionpack (7.1.5.1) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.5.1) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.12) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.12) lib/rack/etag.rb:29:in `call'
rack (3.1.12) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.12) lib/rack/head.rb:15:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/permissions_policy.rb:36:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:274:in `context'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:268:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (7.1.5.1) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.5.1) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.5.2) lib/sprockets/rails/quiet_assets.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.12) lib/rack/method_override.rb:28:in `call'
rack (3.1.12) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.12) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (7.1.5.1) lib/rails/engine.rb:536:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started GET "/" for ::1 at 2025-03-23 10:59:40 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1156)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | Allocations: 3216)
Completed 200 OK in 15ms (Views: 10.0ms | ActiveRecord: 0.2ms | Allocations: 4226)


Started POST "/good_feed" for ::1 at 2025-03-23 10:59:44 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Great service, very friendly", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Great service, very friendly"}}
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000023333359748>, params: {"prompt_session_id"=>1, "comment"=>"Great service, very friendly", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Great service, very friendly"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000023333359748>, params: {"prompt_session_id"=>1, "comment"=>"Great service, very friendly", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Great service, very friendly"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x0000023333359748>, params: {"prompt_session_id"=>1, "comment"=>"Great service, very friendly", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Great service, very friendly"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.2ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Great service, very friendly"], ["created_at", "2025-03-23 17:59:44.868279"], ["updated_at", "2025-03-23 17:59:44.868279"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 3], ["feedback", "You are a friendly and helpful customer service agent.  \n"], ["updated_at", "2025-03-23 17:59:45.277937"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 100], ["updated_at", "2025-03-23 17:59:45.979009"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
Completed 200 OK in 1119ms (Views: 0.1ms | ActiveRecord: 4.1ms | Allocations: 7629)


Started GET "/" for ::1 at 2025-03-23 10:59:48 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1161)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 10.0ms | Allocations: 3189)
Completed 200 OK in 16ms (Views: 11.0ms | ActiveRecord: 0.2ms | Allocations: 4208)


Started GET "/updates/1" for ::1 at 2025-03-23 11:02:45 -0700
Processing by PromptsessionController#change as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:12:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
  [1m[36mPromptSession Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "feedback" = ?, "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["feedback", nil], ["prompt_sim", nil], ["updated_at", "2025-03-23 18:02:46.025184"], ["id", 1]]
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
Completed 406 Not Acceptable in 14ms (ActiveRecord: 2.0ms | Allocations: 3862)


  
ActionController::MissingExactTemplate (PromptsessionController#change is missing a template for request formats: text/html):
  
actionpack (7.1.5.1) lib/action_controller/metal/implicit_render.rb:47:in `default_render'
actionpack (7.1.5.1) lib/action_controller/metal/basic_implicit_render.rb:7:in `send_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:224:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rendering.rb:165:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:259:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:121:in `block in run_callbacks'
turbo-rails (2.0.13) lib/turbo-rails.rb:24:in `with_request_id'
turbo-rails (2.0.13) app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
actiontext (7.1.5.1) lib/action_text/rendering.rb:23:in `with_renderer'
actiontext (7.1.5.1) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `instance_exec'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:141:in `run_callbacks'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:258:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rescue.rb:25:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.1.5.1) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:73:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
activerecord (7.1.5.1) lib/active_record/railties/controller_runtime.rb:32:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:160:in `process'
actionview (7.1.5.1) lib/action_view/rendering.rb:40:in `process'
actionpack (7.1.5.1) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.5.1) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.12) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.12) lib/rack/etag.rb:29:in `call'
rack (3.1.12) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.12) lib/rack/head.rb:15:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/permissions_policy.rb:36:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:274:in `context'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:268:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (7.1.5.1) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.5.1) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.5.2) lib/sprockets/rails/quiet_assets.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.12) lib/rack/method_override.rb:28:in `call'
rack (3.1.12) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.12) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (7.1.5.1) lib/rails/engine.rb:536:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started GET "/" for ::1 at 2025-03-23 11:02:46 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1156)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | Allocations: 3216)
Completed 200 OK in 15ms (Views: 9.6ms | ActiveRecord: 0.2ms | Allocations: 4232)


Started POST "/good_feed" for ::1 at 2025-03-23 11:02:49 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Great service, very friendly", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Great service, very friendly"}}
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000002332fcee9d8>, params: {"prompt_session_id"=>1, "comment"=>"Great service, very friendly", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Great service, very friendly"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000002332fcee9d8>, params: {"prompt_session_id"=>1, "comment"=>"Great service, very friendly", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Great service, very friendly"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000002332fcee9d8>, params: {"prompt_session_id"=>1, "comment"=>"Great service, very friendly", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Great service, very friendly"}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.1ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Great service, very friendly"], ["created_at", "2025-03-23 18:02:49.749221"], ["updated_at", "2025-03-23 18:02:49.749221"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
Started GET "/" for ::1 at 2025-03-23 11:02:52 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1156)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 3184)
Completed 200 OK in 14ms (Views: 9.6ms | ActiveRecord: 0.2ms | Allocations: 4197)


Started GET "/" for ::1 at 2025-03-23 11:02:54 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1156)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 3184)
Completed 200 OK in 14ms (Views: 9.6ms | ActiveRecord: 0.2ms | Allocations: 4197)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 4], ["feedback", "You are a friendly and helpful customer service agent. \n"], ["updated_at", "2025-03-23 18:02:54.224953"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 100], ["updated_at", "2025-03-23 18:02:55.115275"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
Completed 200 OK in 5374ms (Views: 0.1ms | ActiveRecord: 4.0ms | Allocations: 18875)


Started POST "/good_feed" for ::1 at 2025-03-23 11:02:58 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Great service, very friendly", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Great service, very friendly"}}
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000002333379d3e0>, params: {"prompt_session_id"=>1, "comment"=>"Great service, very friendly", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Great service, very friendly"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000002333379d3e0>, params: {"prompt_session_id"=>1, "comment"=>"Great service, very friendly", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Great service, very friendly"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000002333379d3e0>, params: {"prompt_session_id"=>1, "comment"=>"Great service, very friendly", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Great service, very friendly"}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (1.0ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Great service, very friendly"], ["created_at", "2025-03-23 18:02:58.530543"], ["updated_at", "2025-03-23 18:02:58.530543"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 5], ["feedback", "You are a friendly and helpful customer service agent.  \n"], ["updated_at", "2025-03-23 18:02:58.895416"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
Completed 200 OK in 810ms (Views: 0.1ms | ActiveRecord: 4.0ms | Allocations: 7123)


Started GET "/" for ::1 at 2025-03-23 11:03:00 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 4.7ms | Allocations: 1161)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 11.0ms | Allocations: 3221)
Completed 200 OK in 16ms (Views: 11.6ms | ActiveRecord: 0.2ms | Allocations: 4243)


Started GET "/sign-out" for ::1 at 2025-03-23 11:03:19 -0700
  
ActionController::RoutingError (No route matches [GET] "/sign-out"):
  
Started GET "/" for ::1 at 2025-03-23 11:03:57 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 6.1ms | Allocations: 4864)
  Rendered shared/_flash.html.erb (Duration: 0.8ms | Allocations: 202)
  Rendered layout layouts/application.html.erb (Duration: 37.6ms | Allocations: 21402)
Completed 200 OK in 150ms (Views: 44.5ms | ActiveRecord: 3.2ms | Allocations: 34398)


Started GET "/" for ::1 at 2025-03-23 11:03:58 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1161)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | Allocations: 3189)
Completed 200 OK in 14ms (Views: 9.5ms | ActiveRecord: 0.2ms | Allocations: 4211)


Started GET "/" for ::1 at 2025-03-23 11:04:00 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1161)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | Allocations: 3189)
Completed 200 OK in 14ms (Views: 9.6ms | ActiveRecord: 0.2ms | Allocations: 4223)


Started GET "/sign-out" for ::1 at 2025-03-23 11:04:06 -0700
  
ActionController::RoutingError (No route matches [GET] "/sign-out"):
  
Started GET "/" for ::1 at 2025-03-23 11:04:34 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.7ms | Allocations: 4861)
  Rendered shared/_flash.html.erb (Duration: 0.7ms | Allocations: 206)
  Rendered layout layouts/application.html.erb (Duration: 43.8ms | Allocations: 21408)
Completed 200 OK in 77ms (Views: 50.4ms | ActiveRecord: 3.2ms | Allocations: 34338)


Started GET "/sign-out" for ::1 at 2025-03-23 11:04:38 -0700
  
ActionController::RoutingError (No route matches [GET] "/sign-out"):
  
Started GET "/" for ::1 at 2025-03-23 11:04:45 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 5.3ms | Allocations: 4938)
  Rendered shared/_flash.html.erb (Duration: 0.8ms | Allocations: 206)
  Rendered layout layouts/application.html.erb (Duration: 42.5ms | Allocations: 21495)
Completed 200 OK in 143ms (Views: 49.9ms | ActiveRecord: 3.0ms | Allocations: 34523)


Started DELETE "/sign-out" for ::1 at 2025-03-23 11:04:47 -0700
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.1ms | Allocations: 910)


Started GET "/" for ::1 at 2025-03-23 11:04:47 -0700
Processing by MainController#home as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  Rendered main/home.html.erb within layouts/application (Duration: 0.8ms | Allocations: 537)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | Allocations: 2621)
Completed 200 OK in 11ms (Views: 7.9ms | ActiveRecord: 0.0ms | Allocations: 3313)


Started GET "/sign-in" for ::1 at 2025-03-23 11:04:54 -0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.8ms | Allocations: 919)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 2951)
Completed 200 OK in 18ms (Views: 13.4ms | ActiveRecord: 0.0ms | Allocations: 3761)


Started GET "/sign-up" for ::1 at 2025-03-23 11:04:56 -0700
Processing by RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering registrations/new.html.erb within layouts/application
  Rendered registrations/new.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1361)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | Allocations: 3394)
Completed 200 OK in 18ms (Views: 13.7ms | ActiveRecord: 0.0ms | Allocations: 4212)


Started POST "/sign-in" for ::1 at 2025-03-23 11:05:00 -0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user1", "password"=>"[FILTERED]"}, "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:12:in `create'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.1ms | Allocations: 2182)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 19)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | Allocations: 4202)
Completed 200 OK in 13ms (Views: 8.5ms | ActiveRecord: 0.1ms | Allocations: 5337)


Started POST "/sign-in" for ::1 at 2025-03-23 11:05:03 -0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "username"=>"user1", "password"=>"[FILTERED]", "commit"=>"Sign In"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "user1"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:12:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 186ms (ActiveRecord: 0.1ms | Allocations: 1015)


Started GET "/" for ::1 at 2025-03-23 11:05:03 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1240)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 3273)
Completed 200 OK in 14ms (Views: 9.1ms | ActiveRecord: 0.2ms | Allocations: 4308)


Started POST "/bad_feed" for ::1 at 2025-03-23 11:05:19 -0700
Processing by BadfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Bad service, not friendly to user", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Bad service, not friendly to user"}}
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000002332ffc9068>, params: {"prompt_session_id"=>1, "comment"=>"Bad service, not friendly to user", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Bad service, not friendly to user"}} }[0m
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000002332ffc9068>, params: {"prompt_session_id"=>1, "comment"=>"Bad service, not friendly to user", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Bad service, not friendly to user"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :badfeedback. Context: { controller: BadfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x000002332ffc9068>, params: {"prompt_session_id"=>1, "comment"=>"Bad service, not friendly to user", "controller"=>"badfeedback", "action"=>"get_feedback", "badfeedback"=>{"prompt_session_id"=>1, "comment"=>"Bad service, not friendly to user"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
  [1m[36mBadFeedback Create (1.0ms)[0m  [1m[32mINSERT INTO "bad_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Bad service, not friendly to user"], ["created_at", "2025-03-23 18:05:20.093770"], ["updated_at", "2025-03-23 18:05:20.093770"]]
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:13:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:42:in `get_feedback'
  [1m[36mPromptSession Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:42:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "dislike_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["dislike_count", 2], ["feedback", "You are a customer service agent who can sometimes struggle to empathize with users' frustrations. \n\n"], ["updated_at", "2025-03-23 18:05:20.584951"], ["id", 1]]
  â†³ app/controllers/badfeedback_controller.rb:42:in `get_feedback'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:42:in `get_feedback'
Started GET "/" for ::1 at 2025-03-23 11:05:21 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (8.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.2ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1274)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | Allocations: 3333)
Completed 200 OK in 24ms (Views: 10.1ms | ActiveRecord: 15.5ms | Allocations: 4616)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:65:in `get_feedback'
  [1m[36mPromptSession Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/badfeedback_controller.rb:65:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 63], ["updated_at", "2025-03-23 18:05:23.976476"], ["id", 1]]
  â†³ app/controllers/badfeedback_controller.rb:65:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/badfeedback_controller.rb:65:in `get_feedback'
Completed 200 OK in 3896ms (Views: 0.1ms | ActiveRecord: 6.2ms | Allocations: 17870)


Started GET "/" for ::1 at 2025-03-23 11:05:31 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1240)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.7ms | Allocations: 3269)
Completed 200 OK in 15ms (Views: 10.3ms | ActiveRecord: 0.2ms | Allocations: 4285)


Started POST "/good_feed" for ::1 at 2025-03-23 11:05:48 -0700
Processing by GoodfeedbackController#get_feedback as */*
  Parameters: {"prompt_session_id"=>1, "comment"=>"Great service!", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Great service!"}}
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000233332fe398>, params: {"prompt_session_id"=>1, "comment"=>"Great service!", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Great service!"}} }[0m
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000233332fe398>, params: {"prompt_session_id"=>1, "comment"=>"Great service!", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Great service!"}} }[0m
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:8:in `get_feedback'
[31mUnpermitted parameter: :goodfeedback. Context: { controller: GoodfeedbackController, action: get_feedback, request: #<ActionDispatch::Request:0x00000233332fe398>, params: {"prompt_session_id"=>1, "comment"=>"Great service!", "controller"=>"goodfeedback", "action"=>"get_feedback", "goodfeedback"=>{"prompt_session_id"=>1, "comment"=>"Great service!"}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mGoodFeedback Create (0.9ms)[0m  [1m[32mINSERT INTO "good_feedbacks" ("prompt_session_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["prompt_session_id", 1], ["comment", "Great service!"], ["created_at", "2025-03-23 18:05:48.334130"], ["updated_at", "2025-03-23 18:05:48.334130"]]
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:12:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "like_count" = ?, "feedback" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["like_count", 6], ["feedback", "You are a friendly and helpful customer service agent.  \n"], ["updated_at", "2025-03-23 18:05:48.845098"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:41:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["prompt_sim", 100], ["updated_at", "2025-03-23 18:05:49.390029"], ["id", 1]]
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/goodfeedback_controller.rb:64:in `get_feedback'
Completed 200 OK in 1071ms (Views: 0.1ms | ActiveRecord: 4.1ms | Allocations: 10705)


Started GET "/" for ::1 at 2025-03-23 11:05:54 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1240)
  Rendered shared/_flash.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | Allocations: 3299)
Completed 200 OK in 15ms (Views: 10.1ms | ActiveRecord: 0.2ms | Allocations: 4311)


Started GET "/updates/1" for ::1 at 2025-03-23 11:05:56 -0700
Processing by PromptsessionController#change as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? LIMIT ?[0m  [["uid", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:12:in `change'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
  [1m[36mPromptSession Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "prompt_sessions" WHERE "prompt_sessions"."uid" = ? AND "prompt_sessions"."id" != ? LIMIT ?[0m  [["uid", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
  [1m[36mPromptSession Update (0.1ms)[0m  [1m[33mUPDATE "prompt_sessions" SET "feedback" = ?, "prompt_sim" = ?, "updated_at" = ? WHERE "prompt_sessions"."id" = ?[0m  [["feedback", nil], ["prompt_sim", nil], ["updated_at", "2025-03-23 18:05:56.484894"], ["id", 1]]
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/promptsession_controller.rb:19:in `change'
Completed 406 Not Acceptable in 17ms (ActiveRecord: 1.3ms | Allocations: 4053)


  
ActionController::MissingExactTemplate (PromptsessionController#change is missing a template for request formats: text/html):
  
actionpack (7.1.5.1) lib/action_controller/metal/implicit_render.rb:47:in `default_render'
actionpack (7.1.5.1) lib/action_controller/metal/basic_implicit_render.rb:7:in `send_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:224:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rendering.rb:165:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:259:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:121:in `block in run_callbacks'
turbo-rails (2.0.13) lib/turbo-rails.rb:24:in `with_request_id'
turbo-rails (2.0.13) app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
actiontext (7.1.5.1) lib/action_text/rendering.rb:23:in `with_renderer'
actiontext (7.1.5.1) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `instance_exec'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:141:in `run_callbacks'
actionpack (7.1.5.1) lib/abstract_controller/callbacks.rb:258:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/rescue.rb:25:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.1.5.1) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (7.1.5.1) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.1.5.1) lib/action_controller/metal/instrumentation.rb:73:in `process_action'
actionpack (7.1.5.1) lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
activerecord (7.1.5.1) lib/active_record/railties/controller_runtime.rb:32:in `process_action'
actionpack (7.1.5.1) lib/abstract_controller/base.rb:160:in `process'
actionview (7.1.5.1) lib/action_view/rendering.rb:40:in `process'
actionpack (7.1.5.1) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.5.1) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.5.1) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.5.1) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.12) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.12) lib/rack/etag.rb:29:in `call'
rack (3.1.12) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.12) lib/rack/head.rb:15:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/permissions_policy.rb:36:in `call'
actionpack (7.1.5.1) lib/action_dispatch/http/content_security_policy.rb:36:in `call'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:274:in `context'
rack-session (2.1.0) lib/rack/session/abstract/id.rb:268:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (7.1.5.1) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.5.1) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.5.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.5.1) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.5.1) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.5.1) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.5.2) lib/sprockets/rails/quiet_assets.rb:17:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.12) lib/rack/method_override.rb:28:in `call'
rack (3.1.12) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.5.1) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.12) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.5.1) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
rack-cors (2.0.2) lib/rack/cors.rb:102:in `call'
railties (7.1.5.1) lib/rails/engine.rb:536:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started GET "/" for ::1 at 2025-03-23 11:05:56 -0700
Processing by MainController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering main/home.html.erb within layouts/application
  [1m[36mPromptSession Load (0.1ms)[0m  [1m[34mSELECT "prompt_sessions".* FROM "prompt_sessions" WHERE "prompt_sessions"."user_id" = ?[0m  [["user_id", 1]]
  â†³ app/views/main/home.html.erb:385
  Rendered main/home.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1235)
  Rendered shared/_flash.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 3294)
Completed 200 OK in 14ms (Views: 9.8ms | ActiveRecord: 0.2ms | Allocations: 4319)


